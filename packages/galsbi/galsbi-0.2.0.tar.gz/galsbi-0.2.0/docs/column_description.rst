=================================
Catalog Column Descriptions
=================================

This document provides comprehensive descriptions of all columns found in galaxy catalogs
generated by GalSBI. Note that the specific columns present in your catalog may vary
depending on the configuration and models used during generation.

If the catalog is loaded using `combine=True`, the columns that vary across bands will
have an additional suffix indicating the band, e.g., ``mag g`` parameter ``mag`` in the g-band.
Parameters that are not band-dependent will not have a suffix (e.g., ``id``).

.. contents::
   :local:
   :depth: 2


------------------------------
Intrinsic Properties from UCat
------------------------------

~~~~~~~~~~~~~~~~~~~~~~~~~~~
Coordinate & Identification
~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :widths: 25 60 15
   :header-rows: 1

   * - Column
     - Description
     - Units
   * - ``id``
     - Identifier for the galaxy or star in the catalog.
     - —
   * - ``ra``
     - Right Ascension (J2000) of the galaxy center.
     - deg
   * - ``dec``
     - Declination (J2000) of the galaxy center.
     - deg
   * - ``x``
     - x coordinate in the image
     - pixel
   * - ``y``
     - y coordinate in the image
     - pixel
   * - ``z``
     - Redshift of the galaxy.
     - redshift
   * - ``galaxy_type``
     - 0 for red (passive) galaxies, 1 for blue (star-forming) galaxies.
     - label

~~~~~~~~~~~~~~~~~~~~~~~~~~~
Photometry & SED
~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :widths: 25 60 15
   :header-rows: 1

   * - Column
     - Description
     - Units
   * - ``mag``
     - apparent magnitude in the corresponding band including shear.
     - magnitude
   * - ``int_mag``
     - intrinsic apparent magnitude in the corresponding band (without shear).
     - magnitude
   * - ``abs_mag``
     - Rest-frame absolute magnitude in the corresponding band.
     - mag
   * - ``abs_mag_lumfun``
     - Rest-frame absolute magnitude in the band defined by the luminosity function (set by ``lum_fct_filter_band``)
     - mag
   * - ``excess_b_v``
     - Color excess E(B–V) from dust reddening, used for extinction correction.
     - mag
   * - ``template_coeffs_abs``
     - Template coefficients for the kcorrect templates, normalized such that the generated SED
       corresponds to the rest-frame SED at the redshift of the galaxy.
     - —
   * - ``template_coeffs``
     - Template coefficients for the kcorrect templates, normalized such that the generated SED
       corresponds to the observed-frame SED at the redshift of the galaxy.
     - —
   * - ``sed``
     - Intrinsic SED of the galaxy in the observed-frame. The rest-frame wavelengths are stored in a separate file
       and have to be adjusted according to the redshift of the galaxy, see `Saving Galaxy Spectra <https://cosmo-docs.phys.ethz.ch/galsbi/spectra.html>`_.
     - erg/s/cm2/Å

~~~~~~~~~~~~~~~~~~~~~~~~~~~
Morphology
~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :header-rows: 1
   :widths: 25 60 15

   * - Column
     - Description
     - Units
   * - ``sersic_n``
     - Sérsic index describing the light profile shape
     - —
   * - ``r50``
     - Half-light radius enclosing 50% of total flux of the galaxy
     - pixel
   * - ``int_r50``
     - Half-light radius enclosing 50% of total flux of the galaxy (without shear).
     - pixel
   * - ``r50_arcsec``
     - Half-light radius enclosing 50% of total flux of the galaxy (without shear).
     - arcsec
   * - ``int_r50_arcsec``
     - Half-light radius enclosing 50% of total flux of the galaxy (without shear).
     - arcsec
   * - ``r50_phys``
     - Half-light radius enclosing 50% of total flux of the galaxy (without shear).
     - kpc
   * - ``e1``, ``e2``
     - Complex ellipticity components :math:`e = e_1 + i e_2`.
     - —
   * - ``int_e1``, ``int_e2``
     - Complex ellipticity components :math:`e = e_1 + i e_2` without shear.
     - —
   * - ``e_abs``
     - Absolute ellipticity :math:`e = \sqrt{e_1^2 + e_2^2}`.
     - —
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Shapes & Weak-Lensing Quantities
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :header-rows: 1
   :widths: 25 60 15

   * - Column
     - Description
     - Units
   * - ``gamma1``, ``gamma2``
     - Weak lensing shear components.
     - —
   * - ``kappa``
     - Weak lensing convergence.
     - —


--------------------------------
Quantities from Image Simulation
--------------------------------

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Point Spread Function (PSF)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The PSF is modelled as a Moffat profile with distortions following
`Herbel+2018 <http://arxiv.org/abs/1801.07615>`_ and `Kacprzak+2020 <http://arxiv.org/abs/1906.01018>`_.
More details can also be found in the `UFig documentation
<https://cosmo-docs.phys.ethz.ch/ufig/>`_.

.. list-table::
   :header-rows: 1
   :widths: 25 60 15

   * - Column
     - Description
     - Units
   * - ``psf_fwhm``
     - PSF full width at half maximum.
     - pixel
   * - ``psf_beta``
     - Moffat beta parameter, if 2D, the PSF is a double Moffat profile.
     - —
   * - ``psf_e1``, ``psf_e2``
     - Complex ellipticity components of the PSF :math:`e = e_1 + i e_2`.
     - —
   * - ``psf_f1``, ``psf_f2``, ``psf_g1``, ``psf_g2``
     - Flexion components of the PSF.
     - —
   * - ``psf_flux_ratio``
     - Ratio of the flux of the two Moffat profiles in the PSF (if 2D).
     - —
   * - ``psf_kurtosis``
     - PSF kurtosis.
     - —


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Other Image Properties
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :header-rows: 1
   :widths: 25 60 15

   * - Column
     - Description
     - Units
   * - ``nphot``
     - Number of photons per object, estimated from the magnitude and image systemtatics
       (e.g., gain, exposure time).
     - number of photons
   * - ``FLAGS_STAMP``
     - UFig flags, using binary flags for delta weight (bit 0), bright star (1) and survey mask (2), see
       e.g. `UFig documentation: Simulating an HSC Deep Field Image <https://cosmo-docs.phys.ethz.ch/ufig/HSC_DUD/HSC_DUD.html#mask-and-overlap-files>`_ for more details.
     - binary bit flag
   * - ``star_gal``
     - label for star/galaxy classification, 0 for stars, 1 for galaxies. Created when intrinsic
       objects are matched to the measured objects in the image. Unmatched objects are set to -200.
     - —
   * - ``bkg_noise_amp``
     - Mean of the Gaussian noise at the position of the object
     - pixel counts
   * - ``bkg_noise_std``
     - Standard deviation of the Gaussian noise at the position of the object.
     - pixel counts

---------------------------------
SExtractor Parameters
---------------------------------

In the measured catalogs, the catalogs include columns from the SExtractor measurements.
Depending on the configuration, different columns may be present, typical columns are:

.. list-table::
   :header-rows: 1
   :widths: 25 60 15

   * - Column
     - Description
     - Units
   * - ``MAG_AUTO``
     - SExtractor AUTO magnitude.
     - mag
   * - ``MAGERR_AUTO``
     - Error on the SExtractor AUTO magnitude.
     - mag
   * - ``FLUX_AUTO``
     - SExtractor AUTO flux.
     - flux
   * - ``FLUXERR_AUTO``
     - Error on the SExtractor AUTO flux.
     - flux
   * - ``CLASS_STAR``
     - SExtractor star/galaxy classification, 1 for stars, 0 for galaxies.
     - —
   * - ``FLUX_RADIUS``
     - SExtractor flux radius, the radius enclosing 50% of the total flux.
     - pixel

For a more comprehensive list of SExtractor parameters and their descriptions, refer to the
`SExtractor documentation <https://sextractor.readthedocs.io>`_.
