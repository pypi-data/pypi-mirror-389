"use strict";(self.webpackChunksolace_agenitc_mesh_docs=self.webpackChunksolace_agenitc_mesh_docs||[]).push([[3243],{6009:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>g});const i=JSON.parse('{"id":"documentation/deploying/logging","title":"Logging","description":"Agent Mesh uses Python\'s built-in logging module to provide flexible and powerful logging capabilities.","source":"@site/docs/documentation/deploying/logging.md","sourceDirName":"documentation/deploying","slug":"/documentation/deploying/logging","permalink":"/solace-agent-mesh/docs/documentation/deploying/logging","draft":false,"unlisted":false,"editUrl":"https://github.com/SolaceLabs/solace-agent-mesh/edit/main/docs/docs/documentation/deploying/logging.md","tags":[],"version":"current","sidebarPosition":35,"frontMatter":{"title":"Logging","sidebar_position":35},"sidebar":"docSidebar","previous":{"title":"Diagnosing and Resolving Problems","permalink":"/solace-agent-mesh/docs/documentation/deploying/debugging"},"next":{"title":"Migration Guide: Upgrading to the A2A SDK","permalink":"/solace-agent-mesh/docs/documentation/migrations/a2a-upgrade/a2a-gateway-upgrade-to-0.3.0"}}');var t=o(4848),l=o(8453);const r={title:"Logging",sidebar_position:35},s="Logging",a={},g=[{value:"Configuration",id:"configuration",level:2},{value:"Default Logging Configuration",id:"default-logging-configuration",level:2},{value:"Understanding the Default Configuration",id:"understanding-the-default-configuration",level:3},{value:"Loggers",id:"loggers",level:3},{value:"Handlers",id:"handlers",level:3},{value:"Formatters",id:"formatters",level:3},{value:"Understanding Effective Log Levels",id:"understanding-effective-log-levels",level:3},{value:"Environment Variable Substitution",id:"environment-variable-substitution",level:2},{value:"Enabling Structured Logging",id:"enabling-structured-logging",level:2},{value:"Common Configuration Scenarios",id:"common-configuration-scenarios",level:2},{value:"Customizing Log Levels",id:"customizing-log-levels",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"logging",children:"Logging"})}),"\n",(0,t.jsxs)(n.p,{children:["Agent Mesh uses ",(0,t.jsx)(n.a,{href:"https://docs.python.org/3/library/logging.html",children:"Python's built-in logging module"})," to provide flexible and powerful logging capabilities."]}),"\n",(0,t.jsx)(n.p,{children:"Understanding logging configuration is essential for troubleshooting, monitoring system behavior, and maintaining production deployments. This guide covers everything you need to effectively configure and manage logging in your Agent Mesh applications."}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.p,{children:"The logging system is configured through an INI-based configuration file that gives you fine-grained control over log levels, output destinations, and formatting options."}),"\n",(0,t.jsx)(n.p,{children:"This approach provides several advantages:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Centralized Control"}),": Single configuration file manages logging for all components"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Python Native"}),": Built on Python's standard ",(0,t.jsx)(n.code,{children:"logging"})," module"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Flexible and Powerful"}),": Full access to Python's logging capabilities"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Production-Ready"}),": Industry-standard approach used by many Python applications"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["To provide a logging configuration, set the ",(0,t.jsx)(n.code,{children:"LOGGING_CONFIG_PATH=path/to/logging_config.ini"})," environment variable in your ",(0,t.jsx)(n.code,{children:".env"})," file or with the ",(0,t.jsx)(n.code,{children:"export"})," command."]}),"\n",(0,t.jsxs)(n.admonition,{title:"INI vs YAML Configuration",type:"info",children:[(0,t.jsxs)(n.p,{children:["While individual agent and gateway YAML files may contain a ",(0,t.jsx)(n.code,{children:"log:"})," section:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"log:\n  stdout_log_level: INFO\n  log_file_level: INFO\n  log_file: my-agent.log\n"})}),(0,t.jsx)(n.p,{children:"the INI-based configuration is the recommended and preferred approach. YAML configuration has lower precedence and will only be active when INI-based configuration is not enabled."})]}),"\n",(0,t.jsx)(n.h2,{id:"default-logging-configuration",children:"Default Logging Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["When you run ",(0,t.jsx)(n.code,{children:"sam init"}),", Agent Mesh automatically generates a ",(0,t.jsx)(n.code,{children:"configs/logging_config.ini"})," file in your project directory. This file establishes sensible defaults while remaining easy to customize for your specific needs."]}),"\n",(0,t.jsx)(n.h3,{id:"understanding-the-default-configuration",children:"Understanding the Default Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["Here's the default ",(0,t.jsx)(n.code,{children:"logging_config.ini"})," generated by ",(0,t.jsx)(n.code,{children:"sam init"}),", with annotations explaining each section:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"# Lists all configured loggers in this file\n[loggers]\nkeys=root,solace_ai_connector,solace_agent_mesh,sam_trace\n\n# Root logger - applies to all modules (including external libraries) that do not have a specific logger configured. \n# The root logger also specifies handlers for the application.\n[logger_root]\nlevel=${LOGGING_ROOT_LEVEL, WARNING}\nhandlers=streamHandler,rotatingFileHandler\nqualname=root\n\n# Main logger for the solace-ai-connector module\n[logger_solace_ai_connector]\nlevel=${LOGGING_SOLACE_AI_CONNECTOR_LEVEL, INFO}\nhandlers=\nqualname=solace_ai_connector\n\n# Main logger for the solace-agent-mesh module\n[logger_solace_agent_mesh]\nlevel=${LOGGING_SAM_LEVEL, INFO}\nhandlers=\nqualname=solace_agent_mesh\n\n# Special trace logger for detailed troubleshooting. Set to DEBUG to enable.\n[logger_sam_trace]\nlevel=${LOGGING_SAM_TRACE_LEVEL, INFO}\nhandlers=\nqualname=sam_trace\n\n# Lists all configured handlers in this file\n[handlers]\nkeys=streamHandler,rotatingFileHandler\n\n# Rotating file handler - writes to log files with automatic rotation\n[handler_rotatingFileHandler]\nclass=logging.handlers.RotatingFileHandler\nformatter=simpleFormatter\nargs=('sam.log', 'a', 52428800, 10)\n\n# Stream handler - outputs logs to console (stdout)\n[handler_streamHandler]\nclass=StreamHandler\nformatter=simpleFormatter\nargs=(sys.stdout,)\n\n# Lists all configured formatters in this file\n[formatters]\nkeys=simpleFormatter,jsonFormatter\n\n# Simple human-readable format\n[formatter_simpleFormatter]\nformat=%(asctime)s | %(levelname)-5s | %(threadName)s | %(name)s | %(message)s\n\n# JSON format for structured logging\n[formatter_jsonFormatter]\nclass=pythonjsonlogger.jsonlogger.JsonFormatter\nformat=%(asctime)s %(levelname)s %(threadName)s %(name)s %(message)s\n"})}),"\n",(0,t.jsx)(n.h3,{id:"loggers",children:"Loggers"}),"\n",(0,t.jsx)(n.p,{children:"Loggers are organized in a hierarchical namespace using dot-separated names, forming a tree structure where child loggers inherit configuration from their parents. When a logger is asked to handle a log record, it propagates the record up through the logger hierarchy until it reaches a logger with handlers configured or reaches the root logger."}),"\n",(0,t.jsx)(n.h3,{id:"handlers",children:"Handlers"}),"\n",(0,t.jsx)(n.p,{children:"Handlers determine where log messages go. The default configuration includes:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"streamHandler"})}),": Outputs logs to the console (stdout) for immediate visibility"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"rotatingFileHandler"})}),": Writes logs to files with automatic rotation when size limits are reached. The rotating file handler is configured with these parameters (in the ",(0,t.jsx)(n.code,{children:"args"})," tuple):","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Filename"}),": ",(0,t.jsx)(n.code,{children:"sam.log"})," - the base log file name"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Mode"}),": ",(0,t.jsx)(n.code,{children:"'a'"})," - append mode (don't overwrite existing logs)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Max Size"}),": ",(0,t.jsx)(n.code,{children:"52428800"})," bytes (50 MB) - rotate when file reaches this size"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Backup Count"}),": ",(0,t.jsx)(n.code,{children:"10"})," - keep up to 10 historical log files"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For complete details on handlers, see Python's ",(0,t.jsx)(n.a,{href:"https://docs.python.org/3/library/logging.handlers.html",children:"supported handlers documentation"})]}),"\n",(0,t.jsx)(n.h3,{id:"formatters",children:"Formatters"}),"\n",(0,t.jsx)(n.p,{children:"Formatters control the structure and appearance of log messages:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"simpleFormatter"})}),": Human-readable format including timestamp, level, thread, logger name, and message"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"jsonFormatter"})}),": Structured JSON format for log aggregation and analysis tools"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For complete details on formatters and available fields, see Python's ",(0,t.jsx)(n.a,{href:"https://docs.python.org/3/library/logging.html#logrecord-attributes",children:"LogRecord attributes documentation"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"understanding-effective-log-levels",children:"Understanding Effective Log Levels"}),"\n",(0,t.jsx)(n.p,{children:"The effective log level for a logger is determined by the most specific configuration in the logger hierarchy. If a logger doesn't have a level explicitly set, it inherits from its parent. The root logger applies to all modules that do not have a logger defined."}),"\n",(0,t.jsx)(n.p,{children:"For example, if you set the root logger to DEBUG but create a more specific logger for solace_ai_connector at the INFO level, the effective log level for the solace_ai_connector module will be INFO. This means DEBUG level logs from solace_ai_connector will not be handled, as they fall below the effective log level."}),"\n",(0,t.jsx)(n.h2,{id:"environment-variable-substitution",children:"Environment Variable Substitution"}),"\n",(0,t.jsx)(n.p,{children:"The INI configuration supports environment variable substitution using the syntax:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"${VARIABLE_NAME, default_value}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Users can use variable names of their choice; the application will look for these environment variables at runtime and substitute their values accordingly. If the environment variable is not set, the provided default value will be used."}),"\n",(0,t.jsx)(n.h2,{id:"enabling-structured-logging",children:"Enabling Structured Logging"}),"\n",(0,t.jsx)(n.p,{children:"Structured logging outputs log messages in JSON format, making them easier to parse, search, and analyze with log aggregation tools."}),"\n",(0,t.jsxs)(n.p,{children:["To enable JSON logging, modify the handler configurations to use ",(0,t.jsx)(n.code,{children:"jsonFormatter"})," instead of ",(0,t.jsx)(n.code,{children:"simpleFormatter"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"[handler_rotatingFileHandler]\nclass=logging.handlers.RotatingFileHandler\nformatter=jsonFormatter  # Changed from simpleFormatter\nargs=('sam.log', 'a', 52428800, 10)\n\n[handler_streamHandler]\nclass=StreamHandler\nformatter=simpleFormatter  # Kept as simpleFormatter to show handlers can have different formatters\nargs=(sys.stdout,)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"common-configuration-scenarios",children:"Common Configuration Scenarios"}),"\n",(0,t.jsx)(n.h3,{id:"customizing-log-levels",children:"Customizing Log Levels"}),"\n",(0,t.jsx)(n.p,{children:"You can add loggers to control the log level of specific modules or external libraries in your application. This allows you to increase verbosity for troubleshooting specific components while keeping other parts of the system quiet."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:"# Add to the loggers list\n[loggers]\nkeys=root,solace_ai_connector,solace_agent_mesh,sam_trace,my_logger,google_adk\n\n[logger_root]\nlevel=WARNING\nhandlers=streamHandler,rotatingFileHandler\nqualname=root\n\n[ some loggers were omitted ]\n\n# Increase verbosity of a specific package\n[logger_my_logger]\nlevel=DEBUG\nhandlers=\nqualname=solace_agent_mesh.gateway.http_sse\n\n# Increase verbosity of a specific external library\n[logger_google_adk]\nlevel=INFO\nhandlers=\nqualname=google_adk\n"})}),"\n",(0,t.jsxs)(n.admonition,{title:"Discovering Logger Names",type:"tip",children:[(0,t.jsxs)(n.p,{children:["To discover what logger names are available to control, temporarily set the root logger level to ",(0,t.jsx)(n.code,{children:"DEBUG"})," and run your application. The logger names will be visible in the actual log output (shown in the logger name field). This is particularly useful for identifying logger names from external libraries you want to control."]}),(0,t.jsx)(n.p,{children:"Once you've identified the logger names you need, you can:"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Set the root logger level back to ",(0,t.jsx)(n.code,{children:"WARNING"})," to reduce overall verbosity"]}),"\n",(0,t.jsx)(n.li,{children:"Add specific logger configurations for the modules/library you want to monitor with increased verbosity"}),"\n"]}),(0,t.jsx)(n.p,{children:"This approach keeps your logs clean while giving you detailed visibility into the specific components you're troubleshooting."})]})]})}function c(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>s});var i=o(6540);const t={},l=i.createContext(t);function r(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);