"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from intuned_client.types import BaseModel
from intuned_client.utils import FieldMetadata, PathParamMetadata
import pydantic
from typing import Any, Dict, List, Literal, Optional
from typing_extensions import Annotated, NotRequired, TypedDict


class RunAPIResultGlobalsTypedDict(TypedDict):
    workspace_id: NotRequired[str]
    r"""Your workspace ID. [How to find it](/docs/guides/general/how-to-get-a-workspace-id)?"""


class RunAPIResultGlobals(BaseModel):
    workspace_id: Annotated[
        Optional[str],
        pydantic.Field(alias="workspaceId"),
        FieldMetadata(path=PathParamMetadata(style="simple", explode=False)),
    ] = None
    r"""Your workspace ID. [How to find it](/docs/guides/general/how-to-get-a-workspace-id)?"""


class RunAPIResultRequestTypedDict(TypedDict):
    project_name: str
    r"""Your project name. It is the name you provide when creating a project."""
    run_id: str
    r"""Run ID"""


class RunAPIResultRequest(BaseModel):
    project_name: Annotated[
        str,
        pydantic.Field(alias="projectName"),
        FieldMetadata(path=PathParamMetadata(style="simple", explode=False)),
    ]
    r"""Your project name. It is the name you provide when creating a project."""

    run_id: Annotated[
        str,
        pydantic.Field(alias="runId"),
        FieldMetadata(path=PathParamMetadata(style="simple", explode=False)),
    ]
    r"""Run ID"""


RunAPIResultStatus = Literal[
    "pending",
    "started",
    "completed",
    "canceled",
    "failed",
]
r"""Status of the run execution"""


class ExtendedPayloadTypedDict(TypedDict):
    api: str
    r"""The name of the API to be executed. This is the file path relative to the `api` folder inside your project."""
    run_id: NotRequired[str]
    parameters: NotRequired[Dict[str, Any]]
    r"""The parameters to be passed to the API."""


class ExtendedPayload(BaseModel):
    api: str
    r"""The name of the API to be executed. This is the file path relative to the `api` folder inside your project."""

    run_id: Annotated[Optional[str], pydantic.Field(alias="runId")] = None

    parameters: Optional[Dict[str, Any]] = None
    r"""The parameters to be passed to the API."""


RunAPIResultCode = Literal[
    "internal-server-error",
    "script-process-crashed",
    "unexpected",
    "script-execution-exception",
    "script-no-valid-output-received",
    "result-too-big-error",
    "script-timeout",
    "script-unexpected-error",
    "auth-check-failed",
    "all-attempts-failed",
    "check-attempts-failed",
    "create-attempts-failed",
    "post-create-check-attempts-failed",
    "api-attempts-failed",
    "onepassword-integration-error",
    "job-run-terminated",
]
r"""Optional error code for more specific error identification"""


RunAPIResultCategory = Literal[
    "infrastructure",
    "execution",
    "auth",
    "user",
    "billing",
]


class RunAPIResultErrorTypedDict(TypedDict):
    message: str
    r"""Error message describing the failure"""
    category: RunAPIResultCategory
    code: NotRequired[RunAPIResultCode]
    r"""Optional error code for more specific error identification"""
    retirable: NotRequired[bool]
    doc_url: NotRequired[str]
    r"""Optional URL to documentation for this error"""
    correlation_id: NotRequired[str]
    r"""Optional correlation ID for tracing the error in logs"""
    details: NotRequired[Any]


class RunAPIResultError(BaseModel):
    message: str
    r"""Error message describing the failure"""

    category: RunAPIResultCategory

    code: Optional[RunAPIResultCode] = None
    r"""Optional error code for more specific error identification"""

    retirable: Optional[bool] = False

    doc_url: Optional[str] = None
    r"""Optional URL to documentation for this error"""

    correlation_id: Optional[str] = None
    r"""Optional correlation ID for tracing the error in logs"""

    details: Optional[Any] = None


RunAPIResultType = Literal[
    "auth-session-validate-dependency-failed",
    "terminated",
    "job-run-paused",
    "job-run-terminated",
    "failed-to-initialize-job-run",
    "api-access-disabled",
]


class RunAPIResultReasonTypedDict(TypedDict):
    type: RunAPIResultType
    message: str
    doc_url: NotRequired[str]
    r"""Optional URL to documentation for this error"""
    details: NotRequired[Any]


class RunAPIResultReason(BaseModel):
    type: RunAPIResultType

    message: str

    doc_url: Optional[str] = None
    r"""Optional URL to documentation for this error"""

    details: Optional[Any] = None


class RunAPIResultResponseTypedDict(TypedDict):
    r"""Run result with status and output data."""

    run_id: str
    r"""Unique identifier for the run, nanoId of 21 characters"""
    status: RunAPIResultStatus
    r"""Status of the run execution"""
    result: NotRequired[Any]
    r"""Output result of the run execution"""
    extended_payloads: NotRequired[List[ExtendedPayloadTypedDict]]
    r"""Extended payloads from the run execution"""
    error: NotRequired[RunAPIResultErrorTypedDict]
    message: NotRequired[str]
    r"""Error or reason message"""
    reason: NotRequired[RunAPIResultReasonTypedDict]


class RunAPIResultResponse(BaseModel):
    r"""Run result with status and output data."""

    run_id: Annotated[str, pydantic.Field(alias="runId")]
    r"""Unique identifier for the run, nanoId of 21 characters"""

    status: RunAPIResultStatus
    r"""Status of the run execution"""

    result: Optional[Any] = None
    r"""Output result of the run execution"""

    extended_payloads: Annotated[
        Optional[List[ExtendedPayload]], pydantic.Field(alias="extendedPayloads")
    ] = None
    r"""Extended payloads from the run execution"""

    error: Optional[RunAPIResultError] = None

    message: Optional[str] = None
    r"""Error or reason message"""

    reason: Optional[RunAPIResultReason] = None
