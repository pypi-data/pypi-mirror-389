[pytest]
# Test discovery paths
testpaths = tests

# Test file patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Minimum Python version
minversion = 8.0

# Default options
# -v: verbose output
# --strict-markers: raise error on unknown markers
# --strict-config: raise error on unknown configuration options
# --tb=short: shorter traceback format
# -ra: show extra test summary info for all tests
addopts =
    -v
    --strict-markers
    --strict-config
    --tb=short
    -ra

# Custom markers
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
    unit: marks tests as unit tests
    lexical: marks tests related to lexical inferencer
    magic: marks tests related to magic inferencer
    magika: marks tests related to magika inferencer

# Logging configuration
# Disable pytest's own logging to avoid conflicts with loguru
log_cli = false
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Coverage options (if pytest-cov is used)
# [tool.coverage.run]
# source = src
# omit =
#     */tests/*
#     */test_*.py

# Filterwarnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Test timeout (if pytest-timeout is installed)
# timeout = 300
# timeout_method = thread

