Metadata-Version: 2.4
Name: krx300-hj3415
Version: 1.0.4
Summary: KRX 300 ì¢…ëª© ìŠ¤ëƒ…ìƒ· ë™ê¸°í™” ë„êµ¬
Keywords: example,demo
Author-email: Hyungjin Kim <hj3415@gmail.com>
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Typing :: Typed
License-File: LICENSE
Requires-Dist: logging-hj3415>=0.1
Requires-Dist: httpx[http2]>=0.28
Requires-Dist: tenacity>=9.1
Requires-Dist: pandas>=2.3
Requires-Dist: openpyxl>=3.1
Requires-Dist: xlrd>=2.0
Requires-Dist: typer>=0.20
Requires-Dist: pytest>=8 ; extra == "dev"
Requires-Dist: pytest-cov>=7.0 ; extra == "dev"
Requires-Dist: pytest-asyncio>=1.2 ; extra == "dev"
Requires-Dist: ruff>=0.5 ; extra == "dev"
Requires-Dist: mypy>=1.10 ; extra == "dev"
Provides-Extra: dev



## **ğŸ§­ ê¸°ë³¸ êµ¬ì¡°**

```
krx300 [COMMAND] [OPTIONS]
```

### **ì£¼ìš” ëª…ë ¹ì–´**

|**ëª…ë ¹ì–´**|**ì„¤ëª…**|
|---|---|
|sync|ìµœì‹  KRX300 êµ¬ì„±ìš”ì†Œ(ì½”ë“œ ëª©ë¡ ë“±)ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  ìŠ¤ëƒ…ìƒ· íŒŒì¼ì„ ê°±ì‹ |
|show|ê¸°ì¡´ ìŠ¤ëƒ…ìƒ· íŒŒì¼(codes_snapshot.json) ë‚´ìš©ì„ ì¡°íšŒ ë˜ëŠ” ë‚´ë³´ë‚´ê¸°|

---

## 1.**sync ëª…ë ¹ì–´ â€” ìŠ¤ëƒ…ìƒ· ë™ê¸°í™”**

> â€œKRX300 ì½”ë“œ ëª©ë¡ì„ ìƒˆë¡œ ë‹¤ìš´ë¡œë“œí•˜ê³  JSON ìŠ¤ëƒ…ìƒ·ì„ ê°±ì‹ í•©ë‹ˆë‹¤.â€

### **âœ… ê¸°ë³¸ ì‚¬ìš©**

```
krx300 sync
```

- í˜„ì¬ ë””ë ‰í„°ë¦¬ì˜ ./codes_snapshot.jsonì„ ìë™ ìƒì„± ë˜ëŠ” ê°±ì‹ í•©ë‹ˆë‹¤.
    
- ì½˜ì†”ì— ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:
    

```
âœ“ ë™ê¸°í™” ì™„ë£Œ  rows=300
source_ymd: 20251105  etag: E123456
snapshot : codes_snapshot.json
ì¶”ê°€(+3): 001234, 002345, 004321
ì‚­ì œ(-1): 003456
```

---

### **âœ… ì¶œë ¥ JSON ë³´ê¸°**

```
krx300 sync --json
```

- JSON í˜•ì‹ìœ¼ë¡œ ê²°ê³¼ë¥¼ ì¶œë ¥:
    

```
{
  "ok": true,
  "source_ymd": "20251105",
  "etag": "E123456",
  "rows": 300,
  "added": ["001234"],
  "removed": [],
  "snapshot_path": "codes_snapshot.json"
}
```

---

### **âœ… íŒŒì¼ë¡œ ê²°ê³¼ ì €ì¥**

```
krx300 sync --out-json ./result.json --out-codes ./codes.txt
```

- result.json â†’ ë™ê¸°í™” ê²°ê³¼ ìš”ì•½(JSON)
    
- codes.txt â†’ ì½”ë“œ ëª©ë¡ë§Œ í•œ ì¤„ì”© ì €ì¥
    

```
005930
000660
035420
...
```

â†’ ì´ íŒŒì¼ì€ **scraper2-hj3415**ì— ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```
scraper2 ingest many --file ./codes.txt --save
```

---

### **âœ… ê¸°íƒ€ ìœ ìš©í•œ ì˜µì…˜**

|**ì˜µì…˜**|**ì„¤ëª…**|**ê¸°ë³¸ê°’**|
|---|---|---|
|--state, -s|ìŠ¤ëƒ…ìƒ· JSON íŒŒì¼ ê²½ë¡œ|./codes_snapshot.json|
|--json|ì½˜ì†” ì¶œë ¥ ëŒ€ì‹  JSON í˜•ì‹ ì¶œë ¥|False|
|--out-json PATH|ê²°ê³¼ë¥¼ JSON íŒŒì¼ë¡œ ì €ì¥|None|
|--out-codes PATH|ì½”ë“œ ëª©ë¡ì„ í…ìŠ¤íŠ¸ íŒŒì¼ë¡œ ì €ì¥|None|
|-v, -vv|ë¡œê·¸ ìƒì„¸ë„ ì¦ê°€|-|
|--quiet|ê²½ê³  ì´ìƒë§Œ ì¶œë ¥|False|

---

## **2.show ëª…ë ¹ì–´ â€” ìŠ¤ëƒ…ìƒ· ë‚´ìš© ë³´ê¸°**

> ê¸°ì¡´ì— ì €ì¥ëœ codes_snapshot.json ë‚´ìš©ì„ ì¶œë ¥í•˜ê±°ë‚˜ ë‚´ë³´ëƒ…ë‹ˆë‹¤.

### **âœ… ê¸°ë³¸ ì‚¬ìš©**

```
krx300 show
```

ì¶œë ¥ ì˜ˆì‹œ:

```
asof      : 2025-11-05
source_ymd: 20251104
etag      : E123456
codes(300): 005930, 000660, 035420, 051910, ...
```

---

### **âœ… JSONìœ¼ë¡œ ë³´ê¸°**

```
krx300 show --json
```

- ìŠ¤ëƒ…ìƒ· ë‚´ìš©ì„ JSONìœ¼ë¡œ í‘œì‹œ.
    

---

### **âœ… íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸°**

```
krx300 show --out-codes ./codes.txt
```

- ì½”ë“œ ëª©ë¡ë§Œ ì¶”ì¶œí•´ì„œ í…ìŠ¤íŠ¸ íŒŒì¼ë¡œ ì €ì¥.
    
    (scraper2ì—ì„œ --fileë¡œ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥)
    

---

## **ì „ì²´ ì˜ˆì‹œ íë¦„ (í†µí•© ì‹œë‚˜ë¦¬ì˜¤)**

```
# 1ï¸âƒ£ KRX300 ìŠ¤ëƒ…ìƒ· ë™ê¸°í™” ë° ì½”ë“œ ëª©ë¡ ìƒì„±
krx300 sync --out-codes ./codes.txt

# 2ï¸âƒ£ Scraper2ë¡œ ì½”ë“œ ëª©ë¡ì„ ì‚¬ìš©í•´ ì‹¤ì œ ìˆ˜ì§‘ ë° MongoDB ì €ì¥
scraper2 ingest many --file ./codes.txt --pages c103 c104 --save
```

