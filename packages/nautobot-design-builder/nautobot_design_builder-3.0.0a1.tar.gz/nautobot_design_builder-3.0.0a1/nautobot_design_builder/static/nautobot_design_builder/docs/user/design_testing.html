
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.nautobot.com/projects/design-builder/en/latest/user/design_testing.html">
      
      
        <link rel="prev" href="design_lifecycle.html">
      
      
        <link rel="next" href="design_job_testing.html">
      
      
      <link rel="icon" href="../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>Design Testing - Nautobot Design Builder Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../assets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#design-testing-framework" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Nautobot Design Builder Documentation" class="md-header__button md-logo" aria-label="Nautobot Design Builder Documentation" data-md-component="logo">
      
  <img src="../assets/nautobot_logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nautobot Design Builder Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Design Testing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/nautobot/nautobot-app-design-builder" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../index.html" class="md-tabs__link">
        
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="app_overview.html" class="md-tabs__link">
          
  
    
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../admin/install.html" class="md-tabs__link">
          
  
    
  
  Administrator Guide

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../dev/extending.html" class="md-tabs__link">
          
  
    
  
  Developer Guide

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://docs.nautobot.com" class="md-tabs__link">
        
  
    
  
  Nautobot Docs Home ↗︎

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Nautobot Design Builder Documentation" class="md-nav__button md-logo" aria-label="Nautobot Design Builder Documentation" data-md-component="logo">
      
  <img src="../assets/nautobot_logo.svg" alt="logo">

    </a>
    Nautobot Design Builder Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nautobot/nautobot-app-design-builder" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="app_overview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    App Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="app_getting_started.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="design_quickstart.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Quick Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="design_development.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Development
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="design_lifecycle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design LifeCycle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Design Testing
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="design_testing.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Design Testing
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unittest-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Unittest Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-data" class="md-nav__link">
    <span class="md-ellipsis">
      Create Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-reuse" class="md-nav__link">
    <span class="md-ellipsis">
      Data Reuse
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-data-with-checks" class="md-nav__link">
    <span class="md-ellipsis">
      Validating Data with Checks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validating Data with Checks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#value-response-type" class="md-nav__link">
    <span class="md-ellipsis">
      Value Response Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-response-type" class="md-nav__link">
    <span class="md-ellipsis">
      Model Response Type
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Response Type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-with-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      Example with Attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-without-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      Example without Attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-with-count" class="md-nav__link">
    <span class="md-ellipsis">
      Example with Count
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-types" class="md-nav__link">
    <span class="md-ellipsis">
      Check Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Check Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-connected-check" class="md-nav__link">
    <span class="md-ellipsis">
      The connected Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-equal-check" class="md-nav__link">
    <span class="md-ellipsis">
      The equal Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-model_exists-check" class="md-nav__link">
    <span class="md-ellipsis">
      The model_exists Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-model_not_exist-check" class="md-nav__link">
    <span class="md-ellipsis">
      The model_not_exist Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-in-check" class="md-nav__link">
    <span class="md-ellipsis">
      The in Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-not_in-check" class="md-nav__link">
    <span class="md-ellipsis">
      The not_in Check
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extensions" class="md-nav__link">
    <span class="md-ellipsis">
      Extensions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skipping-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Skipping tests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-single-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Running Single Tests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#large-example" class="md-nav__link">
    <span class="md-ellipsis">
      Large Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="design_job_testing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Job Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="faq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frequently Asked Questions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="git_config_context.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git-based Config Context
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Administrator Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Administrator Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/install.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install and Configure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/upgrade.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrade
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/uninstall.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Uninstall
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/compatibility_matrix.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compatibility Matrix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../admin/release_notes/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/release_notes/version_1.0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v1.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/release_notes/version_1.1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v1.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/release_notes/version_1.2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v1.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/release_notes/version_1.3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v1.3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/release_notes/version_1.4.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v1.4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/release_notes/version_2.0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v2.0
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/release_notes/version_2.1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v2.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/release_notes/version_2.2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v2.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin/release_notes/version_3.0.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v3.0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/extending.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending the App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/contributing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing to the App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/dev_environment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Development Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/release_checklist.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Checklist
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../dev/code_reference/index.html" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Code Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Code Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/code_reference/package.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Package
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/code_reference/context.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Context
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/code_reference/design.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Builder
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/code_reference/fields.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Field Descriptors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/code_reference/design_job.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Job
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/code_reference/jinja2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jinja Rendering
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/code_reference/jinja_filters.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jinja Filters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/code_reference/ext.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Template Extensions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/code_reference/testing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dev/code_reference/util.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Util
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../assets/abbreviations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abbreviations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.nautobot.com" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nautobot Docs Home ↗︎
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quick-start" class="md-nav__link">
    <span class="md-ellipsis">
      Quick Start
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unittest-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Unittest Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-data" class="md-nav__link">
    <span class="md-ellipsis">
      Create Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-reuse" class="md-nav__link">
    <span class="md-ellipsis">
      Data Reuse
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#validating-data-with-checks" class="md-nav__link">
    <span class="md-ellipsis">
      Validating Data with Checks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Validating Data with Checks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#value-response-type" class="md-nav__link">
    <span class="md-ellipsis">
      Value Response Type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-response-type" class="md-nav__link">
    <span class="md-ellipsis">
      Model Response Type
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Response Type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-with-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      Example with Attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-without-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      Example without Attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-with-count" class="md-nav__link">
    <span class="md-ellipsis">
      Example with Count
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-types" class="md-nav__link">
    <span class="md-ellipsis">
      Check Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Check Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-connected-check" class="md-nav__link">
    <span class="md-ellipsis">
      The connected Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-equal-check" class="md-nav__link">
    <span class="md-ellipsis">
      The equal Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-model_exists-check" class="md-nav__link">
    <span class="md-ellipsis">
      The model_exists Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-model_not_exist-check" class="md-nav__link">
    <span class="md-ellipsis">
      The model_not_exist Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-in-check" class="md-nav__link">
    <span class="md-ellipsis">
      The in Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-not_in-check" class="md-nav__link">
    <span class="md-ellipsis">
      The not_in Check
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extensions" class="md-nav__link">
    <span class="md-ellipsis">
      Extensions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skipping-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Skipping tests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-single-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Running Single Tests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#large-example" class="md-nav__link">
    <span class="md-ellipsis">
      Large Example
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/nautobot/nautobot-app-design-builder/edit/main/docs/user/design_testing.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/nautobot/nautobot-app-design-builder/raw/main/docs/user/design_testing.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="design-testing-framework">Design Testing Framework<a class="headerlink" href="#design-testing-framework" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The Nautobot Design Builder testing framework streamlines and standardizes the process of testing within your designs by leveraging YAML files to create data objects and verify their consistency. This ensures no regressions in your design builds as both your designs and the Nautobot Design Builder evolve.</p>
<p>The Nautobot Design Builder testing framework provides:</p>
<ul>
<li><strong>Data Creation</strong>: Tools to easily create and configure test data, such as devices, prefixes, and any object.</li>
<li><strong>Data Validation</strong>: Various "check" methods to verify that the data and application state meet the expected conditions.</li>
<li><strong>Modular Design</strong>: The ability to use inheritance between designs, via the <code>depends_on</code> capabilities.</li>
</ul>
<h2 id="quick-start">Quick Start<a class="headerlink" href="#quick-start" title="Permanent link">&para;</a></h2>
<p>To get started with the Nautobot Design Builder testing framework, create a simple YAML file to define a device and set up a test to verify its creation.</p>
<p>Create a file named <code>ensure_device.yaml</code> in your <code>tests/testdata/</code> folder with the following content:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nt">designs</span><span class="p">:</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">devices</span><span class="p">:</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Test</span><span class="nv"> </span><span class="s">Device&quot;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">        </span><span class="nt">device_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WS-C9300-12X-S&quot;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">        </span><span class="nt">device_role</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Test</span><span class="nv"> </span><span class="s">Role&quot;</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">        </span><span class="nt">site</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Test</span><span class="nv"> </span><span class="s">Site&quot;</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model_exists</span><span class="p">:</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">      </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dcim.device</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">      </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Test</span><span class="nv"> </span><span class="s">Device&quot;</span><span class="p p-Indicator">}</span>
</code></pre></div>
<p>In your test file, such as <code>test_builder.py</code> or <code>unittest/test_builder.py</code>, use the following code to verify the device creation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">nautobot_design_builder.testing</span><span class="w"> </span><span class="kn">import</span> <span class="n">BuilderTestCase</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">TestGeneralDesigns</span><span class="p">(</span><span class="n">BuilderTestCase</span><span class="p">):</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Designs that should work with all versions of Nautobot.&quot;&quot;&quot;</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;testdata&quot;</span><span class="p">)</span>
</code></pre></div>
<p>This should be enough to get you started and potentially infer how the system works. Essentially, you create designs and then check that the results are as expected.</p>
<blockquote>
<p>Note: While you can set the <code>testdata</code> folder to be anything, we will refer to it as <code>tests/testdata/</code> throughout the documentation.</p>
</blockquote>
<h2 id="unittest-setup">Unittest Setup<a class="headerlink" href="#unittest-setup" title="Permanent link">&para;</a></h2>
<p>Most of the setup was provided in the Quick Start. For completeness, here is how you would set up your unittest. In your test file, such as <code>test_builder.py</code> or <code>unittest/test_builder.py</code>, use the following code to verify the device creation:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">nautobot_design_builder.testing</span><span class="w"> </span><span class="kn">import</span> <span class="n">BuilderTestCase</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">TestGeneralDesigns</span><span class="p">(</span><span class="n">BuilderTestCase</span><span class="p">):</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Designs that should work with all versions of Nautobot.&quot;&quot;&quot;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="n">data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;testdata&quot;</span><span class="p">)</span>
</code></pre></div>
<p>The <code>data_dir</code> folder can be any valid folder. The code provided essentially says "from the folder called <code>testdata</code> relative to my file". You can have multiple classes inherit from <code>BuilderTestCase</code> and leverage different folders, such as <code>TestBranchDesigns(BuilderTestCase)</code> and <code>TestColoDesigns(BuilderTestCase)</code> pointing to different folders.</p>
<blockquote>
<p>Note: Unittest and CI setup is beyond the scope of this documentation.</p>
</blockquote>
<h2 id="create-data">Create Data<a class="headerlink" href="#create-data" title="Permanent link">&para;</a></h2>
<p>To create a design, you create a list of designs. While often there will be a single design, there is support for running through multiple designs.</p>
<p>Let's say you have the design called <code>base_design.yaml.j2</code> that looks like:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nt">manufacturers</span><span class="p">:</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cisco&quot;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;arista&quot;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nt">device_types</span><span class="p">:</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">manufacturer__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cisco&quot;</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WS-C9300-12X-S&quot;</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="nt">u_height</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>That would become the file <code>base_design.yaml</code> in your <code>tests/testdata</code> folder:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">designs</span><span class="p">:</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">manufacturers</span><span class="p">:</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cisco&quot;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;arista&quot;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="nt">device_types</span><span class="p">:</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">manufacturer__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cisco&quot;</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">        </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WS-C9300-12X-S&quot;</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">        </span><span class="nt">u_height</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p>You would tier the design under an element in the <code>designs:</code> key. You can have multiple designs, such as:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="nt">designs</span><span class="p">:</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">manufacturers</span><span class="p">:</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cisco&quot;</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;arista&quot;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="nt">device_types</span><span class="p">:</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">manufacturer__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cisco&quot;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">        </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WS-C9300-12X-S&quot;</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">        </span><span class="nt">u_height</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">manufacturers</span><span class="p">:</span><span class="w"> </span><span class="c1"># Though simple, this is the second design</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;palo</span><span class="nv"> </span><span class="s">alto&quot;</span>
</code></pre></div>
<p>This is how you declare multiple designs, as you re-initiate <code>manufacturers</code> in the second design.</p>
<h3 id="data-reuse">Data Reuse<a class="headerlink" href="#data-reuse" title="Permanent link">&para;</a></h3>
<p>The <code>depends_on</code> feature allows you to create complex designs by building upon existing ones. This is useful when you have a base design that multiple other designs need to extend or modify. By using the <code>depends_on</code> key, you can ensure that the base design is always applied before the dependent design, maintaining consistency and reducing redundant code.</p>
<p>To use <code>depends_on</code>, reference the base design in the dependent design's YAML file.</p>
<p><strong>Base Design</strong>: Create a file named <code>base_design.yaml</code> in your <code>tests/testdata/</code> folder with the following content:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">abstract</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="nt">designs</span><span class="p">:</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">manufacturers</span><span class="p">:</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cisco&quot;</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;arista&quot;</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="nt">device_types</span><span class="p">:</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">manufacturer__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cisco&quot;</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">        </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WS-C9300-12X-S&quot;</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">        </span><span class="nt">u_height</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</code></pre></div>
<p><strong>Dependent Design</strong>: Create another file named <code>branch_design.yaml</code> in the same folder with the following content:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nt">depends_on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">base_design.yaml</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="nt">designs</span><span class="p">:</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">devices</span><span class="p">:</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Test</span><span class="nv"> </span><span class="s">Device&quot;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">        </span><span class="nt">device_type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WS-C9300-12X-S&quot;</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">        </span><span class="nt">device_role</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Test</span><span class="nv"> </span><span class="s">Role&quot;</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">        </span><span class="nt">site</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Test</span><span class="nv"> </span><span class="s">Site&quot;</span>
</code></pre></div>
<p>In this example, <code>branch_design.yaml</code> depends on <code>base_design.yaml</code>. When <code>branch_design.yaml</code> is processed, it will first apply the configurations from <code>base_design.yaml</code> and then apply its own configurations. This ensures that the device type "WS-C9300-12X-S" defined in the base design is available when creating the "Test Device" in the extended design.</p>
<blockquote>
<p>Note: If you don't need to run this design by itself, you can use the <code>abstract</code> key as shown in the example so that it doesn't run.</p>
</blockquote>
<h2 id="validating-data-with-checks">Validating Data with Checks<a class="headerlink" href="#validating-data-with-checks" title="Permanent link">&para;</a></h2>
<p>The "check" methods in the Nautobot Design Builder testing framework validate that the data and application state meet the expected conditions. These checks help ensure that your designs are correctly implemented and that no regressions occur as your designs or the Nautobot Design Builder evolve.</p>
<p>Currently, we support the following checks:</p>
<ul>
<li>connected</li>
<li>equal</li>
<li>model_exists</li>
<li>model_not_exist</li>
<li>in</li>
<li>not_in</li>
</ul>
<p>We will go into more detail on them in the next sections.</p>
<p>There are two main types of responses you can get from your check, a model or a value:</p>
<ul>
<li><strong>Model</strong>: This response type indicates that the check is verifying the existence or properties of a specific model instance. For example, the <code>model_exists</code> check ensures that a particular instance of a model, such as a device, exists in the database.</li>
<li><strong>Value</strong>: This response type indicates that the check is verifying a specific value or set of values within a model's field. For example, the <code>equal</code> check ensures that a field of a model equals a specific value, such as verifying that a device's name is "Test Device".</li>
</ul>
<blockquote>
<p>Note: Model without using the <code>count</code> argument will return a list, so your value will often be a list of data.</p>
</blockquote>
<p>By using these check systems, you can automate the validation process, reduce manual testing efforts, and maintain a high level of confidence in your design implementations.</p>
<h3 id="value-response-type">Value Response Type<a class="headerlink" href="#value-response-type" title="Permanent link">&para;</a></h3>
<p>The value response type is straightforward. This is simply the data you define, with no data manipulation or query run to get the data. In general, this will be used in checks when you are comparing data from a model.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">equal</span><span class="p">:</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Device&quot;</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test</span><span class="nv"> </span><span class="s">device&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">        </span><span class="nt">attribute</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;rack.name&quot;</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;rack-1&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p>This is saying that the <code>model</code> and <code>attribute</code> or <code>rack.name</code> will return exactly the <code>value</code> of <code>["rack-1"]</code>.</p>
<h3 id="model-response-type">Model Response Type<a class="headerlink" href="#model-response-type" title="Permanent link">&para;</a></h3>
<p>The model response type involves using the <code>model</code>, <code>query</code>, <code>attribute</code>, and <code>count</code> keys to define the checks.</p>
<ul>
<li><strong>model</strong>: Specifies the model to query. This should be a string representing the full dotted path to the model class, e.g., <code>"nautobot.dcim.models.Device"</code>.</li>
<li><strong>query</strong>: (Optional) A dictionary that defines the conditions for the query, specifically a valid dictionary that would be accepted on a queryset to the Django model defined. This dictionary is used to filter the model instances based on the specified conditions and is valid, e.g., <code>{"name": "test device"}</code>.</li>
<li><strong>attribute</strong>: (Optional) Specifies the attribute of the model to check. This should be a string representing the attribute path, e.g., <code>"rack.name"</code>. If not provided, the check returns the full model instances as a list.</li>
<li><strong>count</strong>: (Optional) This is a boolean that defaults to not being set. Use <code>count: true</code> and be careful of how YAML will interpret values; you would be wise to omit the key if not setting it to <code>true</code>.</li>
</ul>
<p>As mentioned, the model will return a list in all cases <strong>except</strong> when using count. It will either be a list of attributes or a list of models.</p>
<h4 id="example-with-attribute">Example with Attribute<a class="headerlink" href="#example-with-attribute" title="Permanent link">&para;</a></h4>
<p>In this example, the check verifies that the <code>rack.name</code> attribute of a device with the name "test device" is equal to <code>["rack-1"]</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">equal</span><span class="p">:</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Device&quot;</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test</span><span class="nv"> </span><span class="s">device&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">        </span><span class="nt">attribute</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;rack.name&quot;</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;rack-1&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>
<h4 id="example-without-attribute">Example without Attribute<a class="headerlink" href="#example-without-attribute" title="Permanent link">&para;</a></h4>
<p>In this example, the check verifies that a device with the name "test device" exists:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model_exists</span><span class="p">:</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">      </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Device&quot;</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">      </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;test</span><span class="nv"> </span><span class="s">device&quot;</span><span class="p p-Indicator">}</span>
</code></pre></div>
<h4 id="example-with-count">Example with Count<a class="headerlink" href="#example-with-count" title="Permanent link">&para;</a></h4>
<p>In this example, we are verifying that there are 2 model instances created.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">equal</span><span class="p">:</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.extras.models.Secret&quot;</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">        </span><span class="nt">count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre></div>
<h3 id="check-types">Check Types<a class="headerlink" href="#check-types" title="Permanent link">&para;</a></h3>
<p>The checks generally compare two values, what is returned in the first item in the list compared to what is returned in the second item. However, you can also test if an object exists or does not exist with the <code>model_exists</code> and <code>model_not_exists</code> checks.</p>
<blockquote>
<p>Note: In addition to checks, there are <code>pre_checks</code>, which have all of the same rules as <code>checks</code>, but they happen before the design is run. This is helpful if you want to ensure something does not exist before your design and does exist after your design, as one example.</p>
</blockquote>
<h4 id="the-connected-check">The connected Check<a class="headerlink" href="#the-connected-check" title="Permanent link">&para;</a></h4>
<p>The <code>connected</code> check verifies that two interface objects are connected with a cable object. For example, to check if two devices are connected:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">connected</span><span class="p">:</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Device</span><span class="nv"> </span><span class="s">1&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;GigabitEthernet1&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Device</span><span class="nv"> </span><span class="s">2&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;GigabitEthernet1&quot;</span><span class="p p-Indicator">}</span>
</code></pre></div>
<p>This check type is a bit different from the other pattern, so pay close attention to how it is used.</p>
<h4 id="the-equal-check">The equal Check<a class="headerlink" href="#the-equal-check" title="Permanent link">&para;</a></h4>
<p>The <code>equal</code> check verifies that a field of a model equals a specific value. For example, to check if a device's name is "Test Device":</p>
<p>In this example, we test that the model itself is the same.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">equal</span><span class="p">:</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.DeviceType&quot;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;model1&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">        </span><span class="nt">attribute</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;manufacturer&quot;</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Manufacturer&quot;</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Manufacturer1&quot;</span><span class="p p-Indicator">}</span>
</code></pre></div>
<p>In this example, we test that the value is the same as returned, and we use the count value to get the number of elements.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">equal</span><span class="p">:</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.extras.models.Secret&quot;</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">        </span><span class="nt">count</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
</code></pre></div>
<h4 id="the-model_exists-check">The model_exists Check<a class="headerlink" href="#the-model_exists-check" title="Permanent link">&para;</a></h4>
<p>The <code>model_exists</code> check verifies that an instance of a model exists. For example, to check if a prefix "10.0.0.0/24" exists:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model_exists</span><span class="p">:</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">      </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.ipam.models.Prefix&quot;</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">      </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10.0.0.0/24&quot;</span><span class="p p-Indicator">}</span>
</code></pre></div>
<p>This is often good enough to ensure your design is working, so keep that in mind as you build your tests to not over-complicate them.</p>
<blockquote>
<p>Note: There is a single dictionary, not a list of dictionaries in <code>model_exists</code>.</p>
</blockquote>
<h4 id="the-model_not_exist-check">The model_not_exist Check<a class="headerlink" href="#the-model_not_exist-check" title="Permanent link">&para;</a></h4>
<p>The <code>model_not_exist</code> check verifies that an instance of a model does not exist. For example, to check if a device named "WS-C9300-12X-S" does not exist:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model_not_exist</span><span class="p">:</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">      </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.DeviceType&quot;</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">      </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;WS-C9300-12X-S&quot;</span><span class="p p-Indicator">}</span>
</code></pre></div>
<blockquote>
<p>Note: There is a single dictionary, not a list of dictionaries in <code>model_not_exist</code>.</p>
</blockquote>
<h4 id="the-in-check">The in Check<a class="headerlink" href="#the-in-check" title="Permanent link">&para;</a></h4>
<p>The <code>in</code> check verifies that a field of a model is in a specific list of values. For example, to check if the content types for Status are in the Content Types:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">in</span><span class="p">:</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;django.contrib.contenttypes.models.ContentType&quot;</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">app_label</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;dcim&quot;</span><span class="p p-Indicator">,</span><span class="nt"> model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cable&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.extras.models.Status&quot;</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">        </span><span class="nt">attribute</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content_types&quot;</span>
</code></pre></div>
<h4 id="the-not_in-check">The not_in Check<a class="headerlink" href="#the-not_in-check" title="Permanent link">&para;</a></h4>
<p>The <code>not_in</code> check verifies that a field of a model is not in a specific list of values. For example, to check if the content types for Status are <strong>not</strong> in the Content Types:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">not_in</span><span class="p">:</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;django.contrib.contenttypes.models.ContentType&quot;</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">app_label</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;dcim&quot;</span><span class="p p-Indicator">,</span><span class="nt"> model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cable&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.extras.models.Status&quot;</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">        </span><span class="nt">attribute</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;content_types&quot;</span>
</code></pre></div>
<h2 id="extensions">Extensions<a class="headerlink" href="#extensions" title="Permanent link">&para;</a></h2>
<p>Extensions need to be explicitly defined as they are not automatically loaded. This allows you to customize and extend the functionality of the Nautobot Design Builder testing framework to fit your specific needs.</p>
<p>To define an extension, include it in the <code>extensions</code> key in your YAML file. Here is an example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="nt">extensions</span><span class="p">:</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;nautobot_design_builder.contrib.ext.NextPrefixExtension&quot;</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="nt">designs</span><span class="p">:</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tenants</span><span class="p">:</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Nautobot</span><span class="nv"> </span><span class="s">Airports&quot;</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">    </span><span class="nt">roles</span><span class="p">:</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Video&quot;</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">        </span><span class="nt">content_types</span><span class="p">:</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!get:app_label&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;ipam&quot;</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">            </span><span class="s">&quot;!get:model&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;prefix&quot;</span>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Servers&quot;</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">        </span><span class="nt">content_types</span><span class="p">:</span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!get:app_label&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;ipam&quot;</span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="w">            </span><span class="s">&quot;!get:model&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;prefix&quot;</span>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">prefixes</span><span class="p">:</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10.0.0.0/23&quot;</span>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">        </span><span class="nt">status__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="w">        </span><span class="nt">tenant__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Nautobot</span><span class="nv"> </span><span class="s">Airports&quot;</span>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">        </span><span class="nt">role__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Servers&quot;</span>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;10.0.2.0/23&quot;</span>
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">        </span><span class="nt">status__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="w">        </span><span class="nt">tenant__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Nautobot</span><span class="nv"> </span><span class="s">Airports&quot;</span>
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="w">        </span><span class="nt">role__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Video&quot;</span>
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!next_prefix&quot;</span><span class="p p-Indicator">:</span>
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a><span class="w">          </span><span class="nt">prefix</span><span class="p">:</span>
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;10.0.0.0/23&quot;</span>
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a><span class="w">            </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;10.0.2.0/23&quot;</span>
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a><span class="w">          </span><span class="nt">length</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24</span>
<a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a><span class="w">        </span><span class="nt">status__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
</code></pre></div>
<p>In this example, the <code>NextPrefixExtension</code> is explicitly defined in the <code>extensions</code> key. This extension will be loaded and used to process the <code>!next_prefix</code> directive in the <code>designs</code> section.</p>
<h2 id="skipping-tests">Skipping tests<a class="headerlink" href="#skipping-tests" title="Permanent link">&para;</a></h2>
<p>Occasionally, you will need to skip a test, if for example, there is a known reason a test is failing but will be released anyway. You can add the <code>skip</code> key to the test file. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="nt">skip</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="nt">designs</span><span class="p">:</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">tenants</span><span class="p">:</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Nautobot</span><span class="nv"> </span><span class="s">Airports&quot;</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model_exists</span><span class="p">:</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">      </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.tenancy.models.Prefix&quot;</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">      </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Nautobot</span><span class="nv"> </span><span class="s">Airports&quot;</span><span class="p p-Indicator">}</span>
</code></pre></div>
<h2 id="running-single-tests">Running Single Tests<a class="headerlink" href="#running-single-tests" title="Permanent link">&para;</a></h2>
<p>Occasionally, you want to run a single test. In unittest, they have the concept of a label to run a single test. Here is an example of using the Python unittest with a label:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>python<span class="w"> </span>-m<span class="w"> </span>nautobot.core.cli<span class="w"> </span><span class="nb">test</span><span class="w"> </span>nautobot_design_builder.tests.test_builder.TestGeneralDesigns<span class="w"> </span>--keepdb<span class="w"> </span>--buffer
</code></pre></div>
<p>This is generally easier to track, as the label is all real folders, files, and classes. However, the YAML file gets ingested, and the test name is auto-created. The name of the test will be the word <code>test_</code> and the root of the name (e.g., without the .yaml extension on it), such as <code>test_prefixes_for_location</code> for the file <code>prefixes_for_location.yaml</code>. Here is an example of running a single test with a label:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>python<span class="w"> </span>-m<span class="w"> </span>nautobot.core.cli<span class="w"> </span><span class="nb">test</span><span class="w"> </span>nautobot_design_builder.tests.test_builder.TestGeneralDesigns.test_prefixes_for_location<span class="w"> </span>--keepdb<span class="w"> </span>--buffer
</code></pre></div>
<p>This is helpful if you do not want to run all of your tests while testing a single issue or working on the root issue first.</p>
<h2 id="large-example">Large Example<a class="headerlink" href="#large-example" title="Permanent link">&para;</a></h2>
<p>You can get many great examples from the <a href="https://github.com/nautobot/nautobot-app-design-builder/tree/develop/nautobot_design_builder/tests/testdata">test's folder</a>, let's review a single larger example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nn">---</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="nt">depends_on</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;base_test.yaml&quot;</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="nt">designs</span><span class="p">:</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">roles</span><span class="p">:</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;EVPN</span><span class="nv"> </span><span class="s">Leaf&quot;</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">        </span><span class="nt">content_types</span><span class="p">:</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!get:app_label&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;dcim&quot;</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">            </span><span class="s">&quot;!get:model&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;device&quot;</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;EVPN</span><span class="nv"> </span><span class="s">Spine&quot;</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">        </span><span class="nt">content_types</span><span class="p">:</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!get:app_label&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;dcim&quot;</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">            </span><span class="s">&quot;!get:model&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;device&quot;</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="w">    </span><span class="nt">devices</span><span class="p">:</span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">      </span><span class="c1"># Create Spine Switches</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;spine1&quot;</span>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="w">        </span><span class="s">&quot;location__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Site&quot;</span>
<a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="w">        </span><span class="s">&quot;role__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;EVPN</span><span class="nv"> </span><span class="s">Spine&quot;</span>
<a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="w">        </span><span class="s">&quot;device_type__model&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;model</span><span class="nv"> </span><span class="s">name&quot;</span>
<a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="w">        </span><span class="s">&quot;interfaces&quot;</span><span class="p p-Indicator">:</span>
<a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet9/3&quot;</span>
<a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;spine1_to_leaf1&quot;</span>
<a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet25/3&quot;</span>
<a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-28" name="__codelineno-23-28" href="#__codelineno-23-28"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-29" name="__codelineno-23-29" href="#__codelineno-23-29"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;spine1_to_leaf2&quot;</span>
<a id="__codelineno-23-30" name="__codelineno-23-30" href="#__codelineno-23-30"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;spine2&quot;</span>
<a id="__codelineno-23-31" name="__codelineno-23-31" href="#__codelineno-23-31"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-32" name="__codelineno-23-32" href="#__codelineno-23-32"></a><span class="w">        </span><span class="s">&quot;location__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Site&quot;</span>
<a id="__codelineno-23-33" name="__codelineno-23-33" href="#__codelineno-23-33"></a><span class="w">        </span><span class="s">&quot;role__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;EVPN</span><span class="nv"> </span><span class="s">Spine&quot;</span>
<a id="__codelineno-23-34" name="__codelineno-23-34" href="#__codelineno-23-34"></a><span class="w">        </span><span class="s">&quot;device_type__model&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;model</span><span class="nv"> </span><span class="s">name&quot;</span>
<a id="__codelineno-23-35" name="__codelineno-23-35" href="#__codelineno-23-35"></a><span class="w">        </span><span class="s">&quot;interfaces&quot;</span><span class="p p-Indicator">:</span>
<a id="__codelineno-23-36" name="__codelineno-23-36" href="#__codelineno-23-36"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet9/3&quot;</span>
<a id="__codelineno-23-37" name="__codelineno-23-37" href="#__codelineno-23-37"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-38" name="__codelineno-23-38" href="#__codelineno-23-38"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-39" name="__codelineno-23-39" href="#__codelineno-23-39"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;spine2_to_leaf1&quot;</span>
<a id="__codelineno-23-40" name="__codelineno-23-40" href="#__codelineno-23-40"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet25/3&quot;</span>
<a id="__codelineno-23-41" name="__codelineno-23-41" href="#__codelineno-23-41"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-42" name="__codelineno-23-42" href="#__codelineno-23-42"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-43" name="__codelineno-23-43" href="#__codelineno-23-43"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;spine2_to_leaf2&quot;</span>
<a id="__codelineno-23-44" name="__codelineno-23-44" href="#__codelineno-23-44"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;spine3&quot;</span>
<a id="__codelineno-23-45" name="__codelineno-23-45" href="#__codelineno-23-45"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-46" name="__codelineno-23-46" href="#__codelineno-23-46"></a><span class="w">        </span><span class="s">&quot;location__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Site&quot;</span>
<a id="__codelineno-23-47" name="__codelineno-23-47" href="#__codelineno-23-47"></a><span class="w">        </span><span class="s">&quot;role__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;EVPN</span><span class="nv"> </span><span class="s">Spine&quot;</span>
<a id="__codelineno-23-48" name="__codelineno-23-48" href="#__codelineno-23-48"></a><span class="w">        </span><span class="s">&quot;device_type__model&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;model</span><span class="nv"> </span><span class="s">name&quot;</span>
<a id="__codelineno-23-49" name="__codelineno-23-49" href="#__codelineno-23-49"></a><span class="w">        </span><span class="s">&quot;interfaces&quot;</span><span class="p p-Indicator">:</span>
<a id="__codelineno-23-50" name="__codelineno-23-50" href="#__codelineno-23-50"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet9/3&quot;</span>
<a id="__codelineno-23-51" name="__codelineno-23-51" href="#__codelineno-23-51"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-52" name="__codelineno-23-52" href="#__codelineno-23-52"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-53" name="__codelineno-23-53" href="#__codelineno-23-53"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;spine3_to_leaf1&quot;</span>
<a id="__codelineno-23-54" name="__codelineno-23-54" href="#__codelineno-23-54"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet25/3&quot;</span>
<a id="__codelineno-23-55" name="__codelineno-23-55" href="#__codelineno-23-55"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-56" name="__codelineno-23-56" href="#__codelineno-23-56"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-57" name="__codelineno-23-57" href="#__codelineno-23-57"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;spine3_to_leaf2&quot;</span>
<a id="__codelineno-23-58" name="__codelineno-23-58" href="#__codelineno-23-58"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;leaf1&quot;</span>
<a id="__codelineno-23-59" name="__codelineno-23-59" href="#__codelineno-23-59"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-60" name="__codelineno-23-60" href="#__codelineno-23-60"></a><span class="w">        </span><span class="s">&quot;location__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Site&quot;</span>
<a id="__codelineno-23-61" name="__codelineno-23-61" href="#__codelineno-23-61"></a><span class="w">        </span><span class="s">&quot;role__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;EVPN</span><span class="nv"> </span><span class="s">Leaf&quot;</span>
<a id="__codelineno-23-62" name="__codelineno-23-62" href="#__codelineno-23-62"></a><span class="w">        </span><span class="s">&quot;device_type__model&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;model</span><span class="nv"> </span><span class="s">name&quot;</span>
<a id="__codelineno-23-63" name="__codelineno-23-63" href="#__codelineno-23-63"></a><span class="w">        </span><span class="s">&quot;interfaces&quot;</span><span class="p p-Indicator">:</span>
<a id="__codelineno-23-64" name="__codelineno-23-64" href="#__codelineno-23-64"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet33/1&quot;</span>
<a id="__codelineno-23-65" name="__codelineno-23-65" href="#__codelineno-23-65"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-66" name="__codelineno-23-66" href="#__codelineno-23-66"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;leaf1_to_spine1&quot;</span>
<a id="__codelineno-23-67" name="__codelineno-23-67" href="#__codelineno-23-67"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-68" name="__codelineno-23-68" href="#__codelineno-23-68"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet34/1&quot;</span>
<a id="__codelineno-23-69" name="__codelineno-23-69" href="#__codelineno-23-69"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-70" name="__codelineno-23-70" href="#__codelineno-23-70"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;leaf1_to_spine2&quot;</span>
<a id="__codelineno-23-71" name="__codelineno-23-71" href="#__codelineno-23-71"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-72" name="__codelineno-23-72" href="#__codelineno-23-72"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet35/1&quot;</span>
<a id="__codelineno-23-73" name="__codelineno-23-73" href="#__codelineno-23-73"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-74" name="__codelineno-23-74" href="#__codelineno-23-74"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;leaf1_to_spine3&quot;</span>
<a id="__codelineno-23-75" name="__codelineno-23-75" href="#__codelineno-23-75"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-76" name="__codelineno-23-76" href="#__codelineno-23-76"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;leaf2&quot;</span>
<a id="__codelineno-23-77" name="__codelineno-23-77" href="#__codelineno-23-77"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-78" name="__codelineno-23-78" href="#__codelineno-23-78"></a><span class="w">        </span><span class="s">&quot;location__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Site&quot;</span>
<a id="__codelineno-23-79" name="__codelineno-23-79" href="#__codelineno-23-79"></a><span class="w">        </span><span class="s">&quot;role__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;EVPN</span><span class="nv"> </span><span class="s">Leaf&quot;</span>
<a id="__codelineno-23-80" name="__codelineno-23-80" href="#__codelineno-23-80"></a><span class="w">        </span><span class="s">&quot;device_type__model&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;model</span><span class="nv"> </span><span class="s">name&quot;</span>
<a id="__codelineno-23-81" name="__codelineno-23-81" href="#__codelineno-23-81"></a><span class="w">        </span><span class="s">&quot;interfaces&quot;</span><span class="p p-Indicator">:</span>
<a id="__codelineno-23-82" name="__codelineno-23-82" href="#__codelineno-23-82"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet33/1&quot;</span>
<a id="__codelineno-23-83" name="__codelineno-23-83" href="#__codelineno-23-83"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-84" name="__codelineno-23-84" href="#__codelineno-23-84"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;leaf2_to_spine1&quot;</span>
<a id="__codelineno-23-85" name="__codelineno-23-85" href="#__codelineno-23-85"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-86" name="__codelineno-23-86" href="#__codelineno-23-86"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet34/1&quot;</span>
<a id="__codelineno-23-87" name="__codelineno-23-87" href="#__codelineno-23-87"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-88" name="__codelineno-23-88" href="#__codelineno-23-88"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;leaf2_to_spine2&quot;</span>
<a id="__codelineno-23-89" name="__codelineno-23-89" href="#__codelineno-23-89"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-90" name="__codelineno-23-90" href="#__codelineno-23-90"></a><span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Ethernet35/1&quot;</span>
<a id="__codelineno-23-91" name="__codelineno-23-91" href="#__codelineno-23-91"></a><span class="w">            </span><span class="s">&quot;type&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;100gbase-x-qsfp28&quot;</span>
<a id="__codelineno-23-92" name="__codelineno-23-92" href="#__codelineno-23-92"></a><span class="w">            </span><span class="s">&quot;!ref&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;leaf2_to_spine3&quot;</span>
<a id="__codelineno-23-93" name="__codelineno-23-93" href="#__codelineno-23-93"></a><span class="w">            </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Active&quot;</span>
<a id="__codelineno-23-94" name="__codelineno-23-94" href="#__codelineno-23-94"></a>
<a id="__codelineno-23-95" name="__codelineno-23-95" href="#__codelineno-23-95"></a><span class="w">    </span><span class="nt">cables</span><span class="p">:</span>
<a id="__codelineno-23-96" name="__codelineno-23-96" href="#__codelineno-23-96"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:termination_a_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine1_to_leaf1.id&quot;</span>
<a id="__codelineno-23-97" name="__codelineno-23-97" href="#__codelineno-23-97"></a><span class="w">        </span><span class="s">&quot;!create_or_update:termination_b_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf1_to_spine1.id&quot;</span>
<a id="__codelineno-23-98" name="__codelineno-23-98" href="#__codelineno-23-98"></a><span class="w">        </span><span class="s">&quot;termination_a&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine1_to_leaf1&quot;</span>
<a id="__codelineno-23-99" name="__codelineno-23-99" href="#__codelineno-23-99"></a><span class="w">        </span><span class="s">&quot;termination_b&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf1_to_spine1&quot;</span>
<a id="__codelineno-23-100" name="__codelineno-23-100" href="#__codelineno-23-100"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Planned&quot;</span>
<a id="__codelineno-23-101" name="__codelineno-23-101" href="#__codelineno-23-101"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:termination_a_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine2_to_leaf1.id&quot;</span>
<a id="__codelineno-23-102" name="__codelineno-23-102" href="#__codelineno-23-102"></a><span class="w">        </span><span class="s">&quot;!create_or_update:termination_b_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf1_to_spine2.id&quot;</span>
<a id="__codelineno-23-103" name="__codelineno-23-103" href="#__codelineno-23-103"></a><span class="w">        </span><span class="s">&quot;termination_a&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine2_to_leaf1&quot;</span>
<a id="__codelineno-23-104" name="__codelineno-23-104" href="#__codelineno-23-104"></a><span class="w">        </span><span class="s">&quot;termination_b&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf1_to_spine2&quot;</span>
<a id="__codelineno-23-105" name="__codelineno-23-105" href="#__codelineno-23-105"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Planned&quot;</span>
<a id="__codelineno-23-106" name="__codelineno-23-106" href="#__codelineno-23-106"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:termination_a_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine3_to_leaf1.id&quot;</span>
<a id="__codelineno-23-107" name="__codelineno-23-107" href="#__codelineno-23-107"></a><span class="w">        </span><span class="s">&quot;!create_or_update:termination_b_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf1_to_spine3.id&quot;</span>
<a id="__codelineno-23-108" name="__codelineno-23-108" href="#__codelineno-23-108"></a><span class="w">        </span><span class="s">&quot;termination_a&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine3_to_leaf1&quot;</span>
<a id="__codelineno-23-109" name="__codelineno-23-109" href="#__codelineno-23-109"></a><span class="w">        </span><span class="s">&quot;termination_b&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf1_to_spine3&quot;</span>
<a id="__codelineno-23-110" name="__codelineno-23-110" href="#__codelineno-23-110"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Planned&quot;</span>
<a id="__codelineno-23-111" name="__codelineno-23-111" href="#__codelineno-23-111"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:termination_a_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine1_to_leaf2.id&quot;</span>
<a id="__codelineno-23-112" name="__codelineno-23-112" href="#__codelineno-23-112"></a><span class="w">        </span><span class="s">&quot;!create_or_update:termination_b_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf2_to_spine1.id&quot;</span>
<a id="__codelineno-23-113" name="__codelineno-23-113" href="#__codelineno-23-113"></a><span class="w">        </span><span class="s">&quot;termination_a&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine1_to_leaf2&quot;</span>
<a id="__codelineno-23-114" name="__codelineno-23-114" href="#__codelineno-23-114"></a><span class="w">        </span><span class="s">&quot;termination_b&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf2_to_spine1&quot;</span>
<a id="__codelineno-23-115" name="__codelineno-23-115" href="#__codelineno-23-115"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Planned&quot;</span>
<a id="__codelineno-23-116" name="__codelineno-23-116" href="#__codelineno-23-116"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:termination_a_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine2_to_leaf2.id&quot;</span>
<a id="__codelineno-23-117" name="__codelineno-23-117" href="#__codelineno-23-117"></a><span class="w">        </span><span class="s">&quot;!create_or_update:termination_b_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf2_to_spine2.id&quot;</span>
<a id="__codelineno-23-118" name="__codelineno-23-118" href="#__codelineno-23-118"></a><span class="w">        </span><span class="s">&quot;termination_a&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine2_to_leaf2&quot;</span>
<a id="__codelineno-23-119" name="__codelineno-23-119" href="#__codelineno-23-119"></a><span class="w">        </span><span class="s">&quot;termination_b&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf2_to_spine2&quot;</span>
<a id="__codelineno-23-120" name="__codelineno-23-120" href="#__codelineno-23-120"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Planned&quot;</span>
<a id="__codelineno-23-121" name="__codelineno-23-121" href="#__codelineno-23-121"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;!create_or_update:termination_a_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine3_to_leaf2.id&quot;</span>
<a id="__codelineno-23-122" name="__codelineno-23-122" href="#__codelineno-23-122"></a><span class="w">        </span><span class="s">&quot;!create_or_update:termination_b_id&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf2_to_spine3.id&quot;</span>
<a id="__codelineno-23-123" name="__codelineno-23-123" href="#__codelineno-23-123"></a><span class="w">        </span><span class="s">&quot;termination_a&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:spine3_to_leaf2&quot;</span>
<a id="__codelineno-23-124" name="__codelineno-23-124" href="#__codelineno-23-124"></a><span class="w">        </span><span class="s">&quot;termination_b&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;!ref:leaf2_to_spine3&quot;</span>
<a id="__codelineno-23-125" name="__codelineno-23-125" href="#__codelineno-23-125"></a><span class="w">        </span><span class="s">&quot;status__name&quot;</span><span class="p p-Indicator">:</span><span class="w"> </span><span class="s">&quot;Planned&quot;</span>
<a id="__codelineno-23-126" name="__codelineno-23-126" href="#__codelineno-23-126"></a><span class="nt">checks</span><span class="p">:</span>
<a id="__codelineno-23-127" name="__codelineno-23-127" href="#__codelineno-23-127"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model_exists</span><span class="p">:</span>
<a id="__codelineno-23-128" name="__codelineno-23-128" href="#__codelineno-23-128"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Device&quot;</span>
<a id="__codelineno-23-129" name="__codelineno-23-129" href="#__codelineno-23-129"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;spine1&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-130" name="__codelineno-23-130" href="#__codelineno-23-130"></a><span class="w">  </span><span class="c1"># Spine 1 to Leaf 1</span>
<a id="__codelineno-23-131" name="__codelineno-23-131" href="#__codelineno-23-131"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">connected</span><span class="p">:</span>
<a id="__codelineno-23-132" name="__codelineno-23-132" href="#__codelineno-23-132"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-133" name="__codelineno-23-133" href="#__codelineno-23-133"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;spine1&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet9/3&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-134" name="__codelineno-23-134" href="#__codelineno-23-134"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-135" name="__codelineno-23-135" href="#__codelineno-23-135"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;leaf1&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet33/1&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-136" name="__codelineno-23-136" href="#__codelineno-23-136"></a>
<a id="__codelineno-23-137" name="__codelineno-23-137" href="#__codelineno-23-137"></a><span class="w">  </span><span class="c1"># Spine 1 to Leaf 2</span>
<a id="__codelineno-23-138" name="__codelineno-23-138" href="#__codelineno-23-138"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">connected</span><span class="p">:</span>
<a id="__codelineno-23-139" name="__codelineno-23-139" href="#__codelineno-23-139"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-140" name="__codelineno-23-140" href="#__codelineno-23-140"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;spine1&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet25/3&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-141" name="__codelineno-23-141" href="#__codelineno-23-141"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-142" name="__codelineno-23-142" href="#__codelineno-23-142"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;leaf2&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet33/1&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-143" name="__codelineno-23-143" href="#__codelineno-23-143"></a>
<a id="__codelineno-23-144" name="__codelineno-23-144" href="#__codelineno-23-144"></a><span class="w">  </span><span class="c1"># Spine 2 to Leaf 1</span>
<a id="__codelineno-23-145" name="__codelineno-23-145" href="#__codelineno-23-145"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">connected</span><span class="p">:</span>
<a id="__codelineno-23-146" name="__codelineno-23-146" href="#__codelineno-23-146"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-147" name="__codelineno-23-147" href="#__codelineno-23-147"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;spine2&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet9/3&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-148" name="__codelineno-23-148" href="#__codelineno-23-148"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-149" name="__codelineno-23-149" href="#__codelineno-23-149"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;leaf1&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet34/1&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-150" name="__codelineno-23-150" href="#__codelineno-23-150"></a>
<a id="__codelineno-23-151" name="__codelineno-23-151" href="#__codelineno-23-151"></a><span class="w">  </span><span class="c1"># Spine 2 to Leaf 2</span>
<a id="__codelineno-23-152" name="__codelineno-23-152" href="#__codelineno-23-152"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">connected</span><span class="p">:</span>
<a id="__codelineno-23-153" name="__codelineno-23-153" href="#__codelineno-23-153"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-154" name="__codelineno-23-154" href="#__codelineno-23-154"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;spine2&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet25/3&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-155" name="__codelineno-23-155" href="#__codelineno-23-155"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-156" name="__codelineno-23-156" href="#__codelineno-23-156"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;leaf2&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet34/1&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-157" name="__codelineno-23-157" href="#__codelineno-23-157"></a>
<a id="__codelineno-23-158" name="__codelineno-23-158" href="#__codelineno-23-158"></a><span class="w">  </span><span class="c1"># Spine 3 to Leaf 1</span>
<a id="__codelineno-23-159" name="__codelineno-23-159" href="#__codelineno-23-159"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">connected</span><span class="p">:</span>
<a id="__codelineno-23-160" name="__codelineno-23-160" href="#__codelineno-23-160"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-161" name="__codelineno-23-161" href="#__codelineno-23-161"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;spine3&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet9/3&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-162" name="__codelineno-23-162" href="#__codelineno-23-162"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-163" name="__codelineno-23-163" href="#__codelineno-23-163"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;leaf1&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet35/1&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-164" name="__codelineno-23-164" href="#__codelineno-23-164"></a>
<a id="__codelineno-23-165" name="__codelineno-23-165" href="#__codelineno-23-165"></a><span class="w">  </span><span class="c1"># Spine 3 to Leaf 2</span>
<a id="__codelineno-23-166" name="__codelineno-23-166" href="#__codelineno-23-166"></a><span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">connected</span><span class="p">:</span>
<a id="__codelineno-23-167" name="__codelineno-23-167" href="#__codelineno-23-167"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-168" name="__codelineno-23-168" href="#__codelineno-23-168"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;spine3&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet25/3&quot;</span><span class="p p-Indicator">}</span>
<a id="__codelineno-23-169" name="__codelineno-23-169" href="#__codelineno-23-169"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">model</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nautobot.dcim.models.Interface&quot;</span>
<a id="__codelineno-23-170" name="__codelineno-23-170" href="#__codelineno-23-170"></a><span class="w">        </span><span class="nt">query</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt">device__name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;leaf2&quot;</span><span class="p p-Indicator">,</span><span class="nt"> name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Ethernet35/1&quot;</span><span class="p p-Indicator">}</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="design_lifecycle.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Design LifeCycle">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Design LifeCycle
              </div>
            </div>
          </a>
        
        
          
          <a href="design_job_testing.html" class="md-footer__link md-footer__link--next" aria-label="Next: Design Job Testing">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Design Job Testing
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      
<div class="md-copyright">
    
    <div class="md-copyright__highlight">
        Copyright &copy; The Authors
    </div>
    <a href="https://github.com/nautobot/nautobot-app-design-builder/blob/main/LICENSE">Apache-2.0 LICENSE</a>
    
</div>

<div class="md-copyright">
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">Made with Material for MkDocs</a>
    | <a href="https://www.networktocode.com/community/open-source/" target="_blank" rel="noopener">Join #Nautobot on the Network to Code Slack</a>
    
    | <a href="https://networktocode.com" target="_blank" rel="noopener">Sponsored by <img
            src=../assets/networktocode_bw.png class="copyright-logo"></a>
    
</div>

<!-- RTD version flyout injected on live site -->
<div id="readthedocs-embed-flyout"></div>

      
        <div class="md-social">
  
    
    
    
    
    <a href="https://blog.networktocode.com/blog/tags/nautobot" target="_blank" rel="noopener" title="Network to Code Blog" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M0 64c0-17.7 14.3-32 32-32 229.8 0 416 186.2 416 416 0 17.7-14.3 32-32 32s-32-14.3-32-32C384 253.6 226.4 96 32 96 14.3 96 0 81.7 0 64m0 352a64 64 0 1 1 128 0 64 64 0 1 1-128 0m32-256c159.1 0 288 128.9 288 288 0 17.7-14.3 32-32 32s-32-14.3-32-32c0-123.7-100.3-224-224-224-17.7 0-32-14.3-32-32s14.3-32 32-32"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.youtube.com/playlist?list=PLjA0bhxgryJ2Ts4GJMDA-tPzVWEncv4pb" target="_blank" rel="noopener" title="Nautobot Videos" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305m-317.51 213.508V175.185l142.739 81.205z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.networktocode.com/community/" target="_blank" rel="noopener" title="Network to Code Community" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1s21.16-47.06 47.06-47.06h47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06S448 171 448 196.9s-21.16 47.06-47.06 47.06h-47.06zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06S309 480 283.1 480s-47.06-21.16-47.06-47.06v-47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06s21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/nautobot/nautobot" target="_blank" rel="noopener" title="GitHub Repo" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://twitter.com/networktocode" target="_blank" rel="noopener" title="Network to Code Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.action.edit", "content.action.view", "content.code.copy", "navigation.footer", "navigation.indexes", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>