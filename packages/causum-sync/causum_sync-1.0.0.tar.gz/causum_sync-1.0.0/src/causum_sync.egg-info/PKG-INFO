Metadata-Version: 2.4
Name: causum-sync
Version: 1.0.0
Summary: Local connector runner that verifies, migrates, and loads data to your analytics database.
Home-page: https://gitlab.com/causum/causum-sync
Author: Causumâ„¢ Analytics
Author-email: info@causum.ai
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: psycopg2-binary>=2.9.0
Requires-Dist: colorama>=0.4.6
Requires-Dist: tqdm<5.0,>=4.66
Dynamic: author
Dynamic: author-email
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: license-file
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# causum-sync

**causum-sync** is a lightweight local client that lets users securely run data connector synchronizations **entirely on their own machines** â€” without ever sharing database credentials externally.

It executes open-source [Airbyte](https://airbyte.com) connectors under the hood via Docker, verifies all source and destination connections, and loads the resulting data into your unified analytics database (Postgres).

---

## ğŸš€ Key Features

- ğŸ§© **Automatic source verification** â€“ checks all source connections before migration  
- ğŸ—„ï¸ **Destination verification** â€“ validates your Postgres connection before loading  
- ğŸ³ **Docker-based execution** â€“ runs Airbyte connectors locally using Docker SDK  
- ğŸ”„ **Full migration pipeline** â€“ extracts, verifies, and loads automatically  
- ğŸ§  **Multi-connector support** â€“ runs all configs in one bundle (up to 19+)  
- ğŸ¨ **Colorized CLI with emojis** â€“ clear cross-platform terminal output  
- ğŸ§¾ **Verbose mode** â€“ detailed Docker and psycopg2 logs for debugging  
- ğŸ›¡ï¸ **Offline and private** â€“ credentials never leave the userâ€™s environment  

---

## ğŸ“¦ Installation

Requires:
- Python **3.8+**
- Docker running locally
- Network access to your source databases
- Network access to the specified destination database

Install from source:
```bash
git clone https://github.com/yourorg/causum-sync.git
cd causum-sync
pip install -e .
````

---

## âš™ï¸ How It Works

The **frontend** generates a ZIP bundle containing all connection configurations:

```
causum_configs_2025-11-04.zip
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ postgres.json
â”‚   â”œâ”€â”€ mysql.json
â”‚   â”œâ”€â”€ mongo.json
â”‚   â””â”€â”€ ...
â””â”€â”€ destination_config.json
```

* `config/*.json` â€“ source database connector configurations
* `destination_config.json` â€“ your specified Postgres destination

The library:

1. Extracts and validates the bundle.
2. Runs Airbyte Docker connectors for each source.
3. Streams their output into your Postgres destination.

---

## ğŸ§‘â€ğŸ’» Usage

### Run with a bundle path

```bash
causum-sync --bundle ~/Downloads/causum_configs_2025-11-04.zip
```

### Auto-import the latest bundle from Downloads

```bash
causum-sync --auto-import
```

### Enable verbose debug output

```bash
causum-sync --bundle ~/Downloads/causum_configs_2025-11-04.zip --verbose
```

---

## ğŸ§  Workflow Summary

1ï¸âƒ£ **Extract bundle**
ğŸ“¦ Detects and unpacks `causum_configs_*.zip`

2ï¸âƒ£ **Verify connections**
ğŸ§© Runs connection checks for every source and destination

3ï¸âƒ£ **Migrate data**
ğŸ”„ Sequentially extracts from each source and loads into Postgres

4ï¸âƒ£ **Report results**
âœ… Green = success
âŒ Red = failure
âš ï¸ Warns if configs require correction

---

## ğŸ”§ Example Output

```
ğŸ“¦ Imported bundle from ~/Downloads/causum_configs_2025-11-04.zip
ğŸ§© Verifying source connections...
âœ… postgres
âœ… mysql
âŒ mongo (Authentication failed)
âœ… snowflake
ğŸ§© Verifying destination connection...
âœ… destination

âš ï¸  Connection issues: mongo
Fix configs and retry.
```

If all succeed:

```
ğŸ”„ All connections verified, starting migration...
âš™ï¸  Migrating postgres â†’ unified_mimic.public ...
âœ… postgres complete
âœ… All sources migrated successfully!
```

---

## ğŸ³ Connectors Supported

Out of the box, `causum-sync` supports these Airbyte sources:

| Connector   | Image               |
| ----------- | ------------------- |
| Postgres    | `source-postgres`   |
| MySQL       | `source-mysql`      |
| MongoDB     | `source-mongodb-v2` |
| Snowflake   | `source-snowflake`  |
| ClickHouse  | `source-clickhouse` |
| Oracle      | `source-oracle`     |
| MSSQL       | `source-mssql`      |
| Redshift    | `source-redshift`   |
| ...and more |                     |

New connectors can be added in `mapping.py`.

---

## âš™ï¸ Command Reference

| Flag              | Description                                        |
| ----------------- | -------------------------------------------------- |
| `--bundle <path>` | Path to the ZIP bundle from frontend               |
| `--auto-import`   | Automatically use the latest bundle from Downloads |
| `--verbose`       | Print detailed Docker and database logs            |
| `-h`, `--help`    | Show help message                                  |

---

## ğŸ§± Development

Structure:

```
causum-sync/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ cli.py
â”‚   â”œâ”€â”€ runner.py
â”‚   â”œâ”€â”€ migrate.py
â”‚   â”œâ”€â”€ to_postgres.py
â”‚   â”œâ”€â”€ utils.py
â”‚   â”œâ”€â”€ constants.py
â”‚   â””â”€â”€ mapping.py
â”œâ”€â”€ setup.py
â””â”€â”€ README.md
```

---

## ğŸªª License

**MIT License**
Â© 2025 Causumâ„¢ Analytics
See [LICENSE](./LICENSE) for details.

---

## ğŸ’¬ Acknowledgments

This library uses [Airbyte connectors](https://airbyte.com/connectors) under the hood to perform source extraction and validation, leveraging Docker for execution and psycopg2 for Postgres ingestion.
