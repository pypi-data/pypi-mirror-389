import{r as l,I as gt,a6 as Bt,a7 as _t,a8 as ye,a9 as Xe,aa as ht,ab as pe,c as X,ac as Ve,T as Ee,ad as vt,ae as bt,af as yt,ag as te,ah as Ge,ai as Ht,aj as ke,ak as wt,al as qt,am as Xt,an as Vt,ao as Gt,ap as Ie,aq as Kt,ar as Jt,as as we,at as ae,au as se,av as $t,aw as Ct,ax as St,ay as G,az as ee,aA as xt,aB as Ke,aC as Zt,aD as Et,aE as jt,aF as Qt,aG as nt,aH as Yt,aI as er,aJ as It,aK as tr,aL as rr,aM as nr,aN as ot,B as je,aO as at,aP as or,aQ as ar,aR as sr,aS as ir,aT as st,b as lr,aU as We,U as cr,j as D,v as Ce,V as ze,R as dr,$ as ur,m as oe}from"./index-D4gM71-s.js";import{P as pr}from"./index-Cmtkq4rx.js";var mr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Je.apply(this,arguments)}const fr=(e,t)=>l.createElement(gt,Je({},e,{ref:t,icon:mr})),gr=l.forwardRef(fr);var hr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},vr={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:r}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},br={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},yr={icon:function(t,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:r}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:r}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:r}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},wr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ze.apply(this,arguments)}const $r=(e,t)=>l.createElement(gt,Ze({},e,{ref:t,icon:wr})),Cr=l.forwardRef($r);var Sr={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},xr=function(){var t=l.useRef([]),r=l.useRef(null);return l.useEffect(function(){var n=Date.now(),o=!1;t.current.forEach(function(i){if(i){o=!0;var a=i.style;a.transitionDuration=".3s, .3s, .3s, .06s",r.current&&n-r.current<100&&(a.transitionDuration="0s, 0s")}}),o&&(r.current=Date.now())}),t.current},it=0,Er=_t();function jr(){var e;return Er?(e=it,it+=1):e="TEST_OR_SSR",e}const Ir=function(e){var t=l.useState(),r=Bt(t,2),n=r[0],o=r[1];return l.useEffect(function(){o("rc_progress_".concat(jr()))},[]),e||n};var lt=function(t){var r=t.bg,n=t.children;return l.createElement("div",{style:{width:"100%",height:"100%",background:r}},n)};function ct(e,t){return Object.keys(e).map(function(r){var n=parseFloat(r),o="".concat(Math.floor(n*t),"%");return"".concat(e[r]," ").concat(o)})}var Or=l.forwardRef(function(e,t){var r=e.prefixCls,n=e.color,o=e.gradientId,i=e.radius,a=e.style,s=e.ptg,d=e.strokeLinecap,u=e.strokeWidth,p=e.size,m=e.gapDegree,f=n&&ye(n)==="object",w=f?"#FFF":void 0,y=p/2,$=l.createElement("circle",{className:"".concat(r,"-circle-path"),r:i,cx:y,cy:y,stroke:w,strokeLinecap:d,strokeWidth:u,opacity:s===0?0:1,style:a,ref:t});if(!f)return $;var C="".concat(o,"-conic"),b=m?"".concat(180+m/2,"deg"):"0deg",v=ct(n,(360-m)/360),I=ct(n,1),S="conic-gradient(from ".concat(b,", ").concat(v.join(", "),")"),c="linear-gradient(to ".concat(m?"bottom":"top",", ").concat(I.join(", "),")");return l.createElement(l.Fragment,null,l.createElement("mask",{id:C},$),l.createElement("foreignObject",{x:0,y:0,width:p,height:p,mask:"url(#".concat(C,")")},l.createElement(lt,{bg:c},l.createElement(lt,{bg:S}))))}),Se=100,Ue=function(t,r,n,o,i,a,s,d,u,p){var m=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,f=n/100*360*((360-a)/360),w=a===0?0:{bottom:0,top:180,left:90,right:-90}[s],y=(100-o)/100*r;u==="round"&&o!==100&&(y+=p/2,y>=r&&(y=r-.01));var $=Se/2;return{stroke:typeof d=="string"?d:void 0,strokeDasharray:"".concat(r,"px ").concat(t),strokeDashoffset:y+m,transform:"rotate(".concat(i+f+w,"deg)"),transformOrigin:"".concat($,"px ").concat($,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},Pr=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function dt(e){var t=e??[];return Array.isArray(t)?t:[t]}var Lr=function(t){var r=Xe(Xe({},Sr),t),n=r.id,o=r.prefixCls,i=r.steps,a=r.strokeWidth,s=r.trailWidth,d=r.gapDegree,u=d===void 0?0:d,p=r.gapPosition,m=r.trailColor,f=r.strokeLinecap,w=r.style,y=r.className,$=r.strokeColor,C=r.percent,b=ht(r,Pr),v=Se/2,I=Ir(n),S="".concat(I,"-gradient"),c=v-a/2,h=Math.PI*2*c,g=u>0?90+u/2:-90,E=h*((360-u)/360),P=ye(i)==="object"?i:{count:i,gap:2},j=P.count,A=P.gap,Z=dt(C),W=dt($),V=W.find(function(_){return _&&ye(_)==="object"}),T=V&&ye(V)==="object",F=T?"butt":f,R=Ue(h,E,0,100,g,u,p,m,F,a),re=xr(),K=function(){var J=0;return Z.map(function(x,N){var Q=W[N]||W[W.length-1],q=Ue(h,E,J,x,g,u,p,Q,F,a);return J+=x,l.createElement(Or,{key:N,color:Q,ptg:x,radius:c,prefixCls:o,gradientId:S,style:q,strokeLinecap:F,strokeWidth:a,gapDegree:u,ref:function(ie){re[N]=ie},size:Se})}).reverse()},H=function(){var J=Math.round(j*(Z[0]/100)),x=100/j,N=0;return new Array(j).fill(null).map(function(Q,q){var ne=q<=J-1?W[0]:m,ie=ne&&ye(ne)==="object"?"url(#".concat(S,")"):void 0,me=Ue(h,E,N,x,g,u,p,ne,"butt",a,A);return N+=(E-me.strokeDashoffset+A)*100/E,l.createElement("circle",{key:q,className:"".concat(o,"-circle-path"),r:c,cx:v,cy:v,stroke:ie,strokeWidth:a,opacity:1,style:me,ref:function(de){re[q]=de}})})};return l.createElement("svg",pe({className:X("".concat(o,"-circle"),y),viewBox:"0 0 ".concat(Se," ").concat(Se),style:w,id:n,role:"presentation"},b),!j&&l.createElement("circle",{className:"".concat(o,"-circle-trail"),r:c,cx:v,cy:v,stroke:m,strokeLinecap:F,strokeWidth:s||a,style:R}),j?H():K())};function ge(e){return!e||e<0?0:e>100?100:e}function Le(e){let{success:t,successPercent:r}=e,n=r;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}const Dr=e=>{let{percent:t,success:r,successPercent:n}=e;const o=ge(Le({success:r,successPercent:n}));return[o,ge(ge(t)-o)]},Rr=e=>{let{success:t={},strokeColor:r}=e;const{strokeColor:n}=t;return[n||Ve.green,r||null]},Fe=(e,t,r)=>{var n,o,i,a;let s=-1,d=-1;if(t==="step"){const u=r.steps,p=r.strokeWidth;typeof e=="string"||typeof e>"u"?(s=e==="small"?2:14,d=p??8):typeof e=="number"?[s,d]=[e,e]:[s=14,d=8]=Array.isArray(e)?e:[e.width,e.height],s*=u}else if(t==="line"){const u=r==null?void 0:r.strokeWidth;typeof e=="string"||typeof e>"u"?d=u||(e==="small"?6:8):typeof e=="number"?[s,d]=[e,e]:[s=-1,d=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[s,d]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[s,d]=[e,e]:Array.isArray(e)&&(s=(o=(n=e[0])!==null&&n!==void 0?n:e[1])!==null&&o!==void 0?o:120,d=(a=(i=e[0])!==null&&i!==void 0?i:e[1])!==null&&a!==void 0?a:120));return[s,d]},kr=3,Fr=e=>kr/e*100,Nr=e=>{const{prefixCls:t,trailColor:r=null,strokeLinecap:n="round",gapPosition:o,gapDegree:i,width:a=120,type:s,children:d,success:u,size:p=a,steps:m}=e,[f,w]=Fe(p,"circle");let{strokeWidth:y}=e;y===void 0&&(y=Math.max(Fr(f),6));const $={width:f,height:w,fontSize:f*.15+6},C=l.useMemo(()=>{if(i||i===0)return i;if(s==="dashboard")return 75},[i,s]),b=Dr(e),v=o||s==="dashboard"&&"bottom"||void 0,I=Object.prototype.toString.call(e.strokeColor)==="[object Object]",S=Rr({success:u,strokeColor:e.strokeColor}),c=X(`${t}-inner`,{[`${t}-circle-gradient`]:I}),h=l.createElement(Lr,{steps:m,percent:m?b[1]:b,strokeWidth:y,trailWidth:y,strokeColor:m?S[1]:S,strokeLinecap:n,trailColor:r,prefixCls:t,gapDegree:C,gapPosition:v}),g=f<=20,E=l.createElement("div",{className:c,style:$},h,!g&&d);return g?l.createElement(Ee,{title:d},E):E},De="--progress-line-stroke-color",Ot="--progress-percent",ut=e=>{const t=e?"100%":"-100%";return new Ge(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Ar=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},yt(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${De})`]},height:"100%",width:`calc(1 / var(${Ot}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[r]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${te(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:ut(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:ut(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},Mr=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[r]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Tr=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Wr=e=>{const{componentCls:t,iconCls:r}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${r}`]:{fontSize:e.fontSizeSM}}}},zr=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Ur=vt("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),r=bt(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Ar(r),Mr(r),Tr(r),Wr(r)]},zr);var Br=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const _r=e=>{let t=[];return Object.keys(e).forEach(r=>{const n=parseFloat(r.replace(/%/g,""));Number.isNaN(n)||t.push({key:n,value:e[r]})}),t=t.sort((r,n)=>r.key-n.key),t.map(r=>{let{key:n,value:o}=r;return`${o} ${n}%`}).join(", ")},Hr=(e,t)=>{const{from:r=Ve.blue,to:n=Ve.blue,direction:o=t==="rtl"?"to left":"to right"}=e,i=Br(e,["from","to","direction"]);if(Object.keys(i).length!==0){const s=_r(i),d=`linear-gradient(${o}, ${s})`;return{background:d,[De]:d}}const a=`linear-gradient(${o}, ${r}, ${n})`;return{background:a,[De]:a}},qr=e=>{const{prefixCls:t,direction:r,percent:n,size:o,strokeWidth:i,strokeColor:a,strokeLinecap:s="round",children:d,trailColor:u=null,percentPosition:p,success:m}=e,{align:f,type:w}=p,y=a&&typeof a!="string"?Hr(a,r):{[De]:a,background:a},$=s==="square"||s==="butt"?0:void 0,C=o??[-1,i||(o==="small"?6:8)],[b,v]=Fe(C,"line",{strokeWidth:i}),I={backgroundColor:u||void 0,borderRadius:$},S=Object.assign(Object.assign({width:`${ge(n)}%`,height:v,borderRadius:$},y),{[Ot]:ge(n)/100}),c=Le(e),h={width:`${ge(c)}%`,height:v,borderRadius:$,backgroundColor:m==null?void 0:m.strokeColor},g={width:b<0?"100%":b},E=l.createElement("div",{className:`${t}-inner`,style:I},l.createElement("div",{className:X(`${t}-bg`,`${t}-bg-${w}`),style:S},w==="inner"&&d),c!==void 0&&l.createElement("div",{className:`${t}-success-bg`,style:h})),P=w==="outer"&&f==="start",j=w==="outer"&&f==="end";return w==="outer"&&f==="center"?l.createElement("div",{className:`${t}-layout-bottom`},E,d):l.createElement("div",{className:`${t}-outer`,style:g},P&&d,E,j&&d)},Xr=e=>{const{size:t,steps:r,rounding:n=Math.round,percent:o=0,strokeWidth:i=8,strokeColor:a,trailColor:s=null,prefixCls:d,children:u}=e,p=n(r*(o/100)),f=t??[t==="small"?2:14,i],[w,y]=Fe(f,"step",{steps:r,strokeWidth:i}),$=w/r,C=Array.from({length:r});for(let b=0;b<r;b++){const v=Array.isArray(a)?a[b]:a;C[b]=l.createElement("div",{key:b,className:X(`${d}-steps-item`,{[`${d}-steps-item-active`]:b<=p-1}),style:{backgroundColor:b<=p-1?v:s,width:$,height:y}})}return l.createElement("div",{className:`${d}-steps-outer`},C,u)};var Vr=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Gr=["normal","exception","active","success"],Kr=l.forwardRef((e,t)=>{const{prefixCls:r,className:n,rootClassName:o,steps:i,strokeColor:a,percent:s=0,size:d="default",showInfo:u=!0,type:p="line",status:m,format:f,style:w,percentPosition:y={}}=e,$=Vr(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:C="end",type:b="outer"}=y,v=Array.isArray(a)?a[0]:a,I=typeof a=="string"||Array.isArray(a)?a:void 0,S=l.useMemo(()=>{if(v){const K=typeof v=="string"?v:Object.values(v)[0];return new Ht(K).isLight()}return!1},[a]),c=l.useMemo(()=>{var K,H;const _=Le(e);return parseInt(_!==void 0?(K=_??0)===null||K===void 0?void 0:K.toString():(H=s??0)===null||H===void 0?void 0:H.toString(),10)},[s,e.success,e.successPercent]),h=l.useMemo(()=>!Gr.includes(m)&&c>=100?"success":m||"normal",[m,c]),{getPrefixCls:g,direction:E,progress:P}=l.useContext(ke),j=g("progress",r),[A,Z,W]=Ur(j),V=p==="line",T=V&&!i,F=l.useMemo(()=>{if(!u)return null;const K=Le(e);let H;const _=f||(x=>`${x}%`),J=V&&S&&b==="inner";return b==="inner"||f||h!=="exception"&&h!=="success"?H=_(ge(s),ge(K)):h==="exception"?H=V?l.createElement(qt,null):l.createElement(Xt,null):h==="success"&&(H=V?l.createElement(Vt,null):l.createElement(Gt,null)),l.createElement("span",{className:X(`${j}-text`,{[`${j}-text-bright`]:J,[`${j}-text-${C}`]:T,[`${j}-text-${b}`]:T}),title:typeof H=="string"?H:void 0},H)},[u,s,c,h,p,j,f]);let R;p==="line"?R=i?l.createElement(Xr,Object.assign({},e,{strokeColor:I,prefixCls:j,steps:typeof i=="object"?i.count:i}),F):l.createElement(qr,Object.assign({},e,{strokeColor:v,prefixCls:j,direction:E,percentPosition:{align:C,type:b}}),F):(p==="circle"||p==="dashboard")&&(R=l.createElement(Nr,Object.assign({},e,{strokeColor:v,prefixCls:j,progressStatus:h}),F));const re=X(j,`${j}-status-${h}`,{[`${j}-${p==="dashboard"&&"circle"||p}`]:p!=="line",[`${j}-inline-circle`]:p==="circle"&&Fe(d,"circle")[0]<=20,[`${j}-line`]:T,[`${j}-line-align-${C}`]:T,[`${j}-line-position-${b}`]:T,[`${j}-steps`]:i,[`${j}-show-info`]:u,[`${j}-${d}`]:typeof d=="string",[`${j}-rtl`]:E==="rtl"},P==null?void 0:P.className,n,o,Z,W);return A(l.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},P==null?void 0:P.style),w),className:re,role:"progressbar","aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100},wt($,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),R))});var Jr=function(t,r){return l.createElement(Ie,pe({},t,{ref:r,icon:hr}))},Zr=l.forwardRef(Jr),Qr=function(t,r){return l.createElement(Ie,pe({},t,{ref:r,icon:Kt}))},Yr=l.forwardRef(Qr),en=function(t,r){return l.createElement(Ie,pe({},t,{ref:r,icon:vr}))},tn=l.forwardRef(en),rn=function(t,r){return l.createElement(Ie,pe({},t,{ref:r,icon:br}))},nn=l.forwardRef(rn),on=function(t,r){return l.createElement(Ie,pe({},t,{ref:r,icon:yr}))},an=l.forwardRef(on);const Be=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return r.some(function(a){var s=a.trim();if(/^\*(\/\*)?$/.test(a))return!0;if(s.charAt(0)==="."){var d=n.toLowerCase(),u=s.toLowerCase(),p=[u];return(u===".jpg"||u===".jpeg")&&(p=[".jpg",".jpeg"]),p.some(function(m){return d.endsWith(m)})}return/\/\*$/.test(s)?i===s.replace(/\/.*$/,""):o===s?!0:/^\w+$/.test(s)?(Jt(!1,"Upload takes an invalidate 'accept' type '".concat(s,"'.Skip for check.")),!0):!1})}return!0};function sn(e,t){var r="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),n=new Error(r);return n.status=t.status,n.method=e.method,n.url=e.action,n}function pt(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function ln(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(i){i.total>0&&(i.percent=i.loaded/i.total*100),e.onProgress(i)});var r=new FormData;e.data&&Object.keys(e.data).forEach(function(o){var i=e.data[o];if(Array.isArray(i)){i.forEach(function(a){r.append("".concat(o,"[]"),a)});return}r.append(o,i)}),e.file instanceof Blob?r.append(e.filename,e.file,e.file.name):r.append(e.filename,e.file),t.onerror=function(i){e.onError(i)},t.onload=function(){return t.status<200||t.status>=300?e.onError(sn(e,t),pt(t)):e.onSuccess(pt(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var n=e.headers||{};return n["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach(function(o){n[o]!==null&&t.setRequestHeader(o,n[o])}),t.send(r),{abort:function(){t.abort()}}}var cn=function(){var e=we(ae().mark(function t(r,n){var o,i,a,s,d,u,p,m;return ae().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:u=function(){return u=we(ae().mark(function $(C){return ae().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",new Promise(function(I){C.file(function(S){n(S)?(C.fullPath&&!S.webkitRelativePath&&(Object.defineProperties(S,{webkitRelativePath:{writable:!0}}),S.webkitRelativePath=C.fullPath.replace(/^\//,""),Object.defineProperties(S,{webkitRelativePath:{writable:!1}})),I(S)):I(null)})}));case 1:case"end":return v.stop()}},$)})),u.apply(this,arguments)},d=function($){return u.apply(this,arguments)},s=function(){return s=we(ae().mark(function $(C){var b,v,I,S,c;return ae().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:b=C.createReader(),v=[];case 2:return g.next=5,new Promise(function(E){b.readEntries(E,function(){return E([])})});case 5:if(I=g.sent,S=I.length,S){g.next=9;break}return g.abrupt("break",12);case 9:for(c=0;c<S;c++)v.push(I[c]);g.next=2;break;case 12:return g.abrupt("return",v);case 13:case"end":return g.stop()}},$)})),s.apply(this,arguments)},a=function($){return s.apply(this,arguments)},o=[],i=[],r.forEach(function(y){return i.push(y.webkitGetAsEntry())}),p=function(){var y=we(ae().mark(function $(C,b){var v,I;return ae().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(C){c.next=2;break}return c.abrupt("return");case 2:if(C.path=b||"",!C.isFile){c.next=10;break}return c.next=6,d(C);case 6:v=c.sent,v&&o.push(v),c.next=15;break;case 10:if(!C.isDirectory){c.next=15;break}return c.next=13,a(C);case 13:I=c.sent,i.push.apply(i,se(I));case 15:case"end":return c.stop()}},$)}));return function(C,b){return y.apply(this,arguments)}}(),m=0;case 9:if(!(m<i.length)){w.next=15;break}return w.next=12,p(i[m]);case 12:m++,w.next=9;break;case 15:return w.abrupt("return",o);case 16:case"end":return w.stop()}},t)}));return function(r,n){return e.apply(this,arguments)}}(),dn=+new Date,un=0;function _e(){return"rc-upload-".concat(dn,"-").concat(++un)}var pn=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],mn=function(e){$t(r,e);var t=Ct(r);function r(){var n;St(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=t.call.apply(t,[this].concat(i)),G(ee(n),"state",{uid:_e()}),G(ee(n),"reqs",{}),G(ee(n),"fileInput",void 0),G(ee(n),"_isMounted",void 0),G(ee(n),"onChange",function(s){var d=n.props,u=d.accept,p=d.directory,m=s.target.files,f=se(m).filter(function(w){return!p||Be(w,u)});n.uploadFiles(f),n.reset()}),G(ee(n),"onClick",function(s){var d=n.fileInput;if(d){var u=s.target,p=n.props.onClick;if(u&&u.tagName==="BUTTON"){var m=d.parentNode;m.focus(),u.blur()}d.click(),p&&p(s)}}),G(ee(n),"onKeyDown",function(s){s.key==="Enter"&&n.onClick(s)}),G(ee(n),"onFileDropOrPaste",function(){var s=we(ae().mark(function d(u){var p,m,f,w,y,$,C,b,v;return ae().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(u.preventDefault(),u.type!=="dragover"){S.next=3;break}return S.abrupt("return");case 3:if(p=n.props,m=p.multiple,f=p.accept,w=p.directory,y=[],$=[],u.type==="drop"?(C=u.dataTransfer,y=se(C.items||[]),$=se(C.files||[])):u.type==="paste"&&(b=u.clipboardData,y=se(b.items||[]),$=se(b.files||[])),!w){S.next=14;break}return S.next=10,cn(Array.prototype.slice.call(y),function(c){return Be(c,n.props.accept)});case 10:$=S.sent,n.uploadFiles($),S.next=17;break;case 14:v=se($).filter(function(c){return Be(c,f)}),m===!1&&(v=$.slice(0,1)),n.uploadFiles(v);case 17:case"end":return S.stop()}},d)}));return function(d){return s.apply(this,arguments)}}()),G(ee(n),"onPrePaste",function(s){var d=n.props.pastable;d&&n.onFileDropOrPaste(s)}),G(ee(n),"uploadFiles",function(s){var d=se(s),u=d.map(function(p){return p.uid=_e(),n.processFile(p,d)});Promise.all(u).then(function(p){var m=n.props.onBatchStart;m==null||m(p.map(function(f){var w=f.origin,y=f.parsedFile;return{file:w,parsedFile:y}})),p.filter(function(f){return f.parsedFile!==null}).forEach(function(f){n.post(f)})})}),G(ee(n),"processFile",function(){var s=we(ae().mark(function d(u,p){var m,f,w,y,$,C,b,v,I;return ae().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(m=n.props.beforeUpload,f=u,!m){c.next=14;break}return c.prev=3,c.next=6,m(u,p);case 6:f=c.sent,c.next=12;break;case 9:c.prev=9,c.t0=c.catch(3),f=!1;case 12:if(f!==!1){c.next=14;break}return c.abrupt("return",{origin:u,parsedFile:null,action:null,data:null});case 14:if(w=n.props.action,typeof w!="function"){c.next=21;break}return c.next=18,w(u);case 18:y=c.sent,c.next=22;break;case 21:y=w;case 22:if($=n.props.data,typeof $!="function"){c.next=29;break}return c.next=26,$(u);case 26:C=c.sent,c.next=30;break;case 29:C=$;case 30:return b=(ye(f)==="object"||typeof f=="string")&&f?f:u,b instanceof File?v=b:v=new File([b],u.name,{type:u.type}),I=v,I.uid=u.uid,c.abrupt("return",{origin:u,data:C,parsedFile:I,action:y});case 35:case"end":return c.stop()}},d,null,[[3,9]])}));return function(d,u){return s.apply(this,arguments)}}()),G(ee(n),"saveFileInput",function(s){n.fileInput=s}),n}return xt(r,[{key:"componentDidMount",value:function(){this._isMounted=!0;var o=this.props.pastable;o&&document.addEventListener("paste",this.onPrePaste)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort(),document.removeEventListener("paste",this.onPrePaste)}},{key:"componentDidUpdate",value:function(o){var i=this.props.pastable;i&&!o.pastable?document.addEventListener("paste",this.onPrePaste):!i&&o.pastable&&document.removeEventListener("paste",this.onPrePaste)}},{key:"post",value:function(o){var i=this,a=o.data,s=o.origin,d=o.action,u=o.parsedFile;if(this._isMounted){var p=this.props,m=p.onStart,f=p.customRequest,w=p.name,y=p.headers,$=p.withCredentials,C=p.method,b=s.uid,v=f||ln,I={action:d,filename:w,data:a,file:u,headers:y,withCredentials:$,method:C||"post",onProgress:function(c){var h=i.props.onProgress;h==null||h(c,u)},onSuccess:function(c,h){var g=i.props.onSuccess;g==null||g(c,u,h),delete i.reqs[b]},onError:function(c,h){var g=i.props.onError;g==null||g(c,h,u),delete i.reqs[b]}};m(s),this.reqs[b]=v(I)}}},{key:"reset",value:function(){this.setState({uid:_e()})}},{key:"abort",value:function(o){var i=this.reqs;if(o){var a=o.uid?o.uid:o;i[a]&&i[a].abort&&i[a].abort(),delete i[a]}else Object.keys(i).forEach(function(s){i[s]&&i[s].abort&&i[s].abort(),delete i[s]})}},{key:"render",value:function(){var o=this.props,i=o.component,a=o.prefixCls,s=o.className,d=o.classNames,u=d===void 0?{}:d,p=o.disabled,m=o.id,f=o.name,w=o.style,y=o.styles,$=y===void 0?{}:y,C=o.multiple,b=o.accept,v=o.capture,I=o.children,S=o.directory,c=o.openFileDialogOnClick,h=o.onMouseEnter,g=o.onMouseLeave,E=o.hasControlInside,P=ht(o,pn),j=X(G(G(G({},a,!0),"".concat(a,"-disabled"),p),s,s)),A=S?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},Z=p?{}:{onClick:c?this.onClick:function(){},onKeyDown:c?this.onKeyDown:function(){},onMouseEnter:h,onMouseLeave:g,onDrop:this.onFileDropOrPaste,onDragOver:this.onFileDropOrPaste,tabIndex:E?void 0:"0"};return Ke.createElement(i,pe({},Z,{className:j,role:E?void 0:"button",style:w}),Ke.createElement("input",pe({},Zt(P,{aria:!0,data:!0}),{id:m,name:f,disabled:p,type:"file",ref:this.saveFileInput,onClick:function(V){return V.stopPropagation()},key:this.state.uid,style:Xe({display:"none"},$.input),className:u.input,accept:b},A,{multiple:C,onChange:this.onChange},v!=null?{capture:v}:{})),I)}}]),r}(l.Component);function He(){}var Qe=function(e){$t(r,e);var t=Ct(r);function r(){var n;St(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=t.call.apply(t,[this].concat(i)),G(ee(n),"uploader",void 0),G(ee(n),"saveUploader",function(s){n.uploader=s}),n}return xt(r,[{key:"abort",value:function(o){this.uploader.abort(o)}},{key:"render",value:function(){return Ke.createElement(mn,pe({},this.props,{ref:this.saveUploader}))}}]),r}(l.Component);G(Qe,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:He,onError:He,onSuccess:He,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const fn=e=>{const{componentCls:t,iconCls:r}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${te(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${te(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[r]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${te(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${r},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},gn=e=>{const{componentCls:t,iconCls:r,fontSize:n,lineHeight:o,calc:i}=e,a=`${t}-list-item`,s=`${a}-actions`,d=`${a}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},Et()),{lineHeight:e.lineHeight,[a]:{position:"relative",height:i(e.lineHeight).mul(n).equal(),marginTop:e.marginXS,fontSize:n,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${a}-name`]:Object.assign(Object.assign({},jt),{padding:`0 ${te(e.paddingXS)}`,lineHeight:o,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[s]:{whiteSpace:"nowrap",[d]:{opacity:0},[r]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${d}:focus-visible,
              &.picture ${d}
            `]:{opacity:1}},[`${t}-icon ${r}`]:{color:e.colorIcon,fontSize:n},[`${a}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:i(n).add(e.paddingXS).equal(),fontSize:n,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${a}:hover ${d}`]:{opacity:1},[`${a}-error`]:{color:e.colorError,[`${a}-name, ${t}-icon ${r}`]:{color:e.colorError},[s]:{[`${r}, ${r}:hover`]:{color:e.colorError},[d]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},hn=e=>{const{componentCls:t}=e,r=new Ge("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),n=new Ge("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${o}-appear, ${o}-enter, ${o}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${o}-appear, ${o}-enter`]:{animationName:r},[`${o}-leave`]:{animationName:n}}},{[`${t}-wrapper`]:Qt(e)},r,n]},vn=e=>{const{componentCls:t,iconCls:r,uploadThumbnailSize:n,uploadProgressOffset:o,calc:i}=e,a=`${t}-list`,s=`${a}-item`;return{[`${t}-wrapper`]:{[`
        ${a}${a}-picture,
        ${a}${a}-picture-card,
        ${a}${a}-picture-circle
      `]:{[s]:{position:"relative",height:i(n).add(i(e.lineWidth).mul(2)).add(i(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${te(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${s}-thumbnail`]:Object.assign(Object.assign({},jt),{width:n,height:n,lineHeight:te(i(n).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[r]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${s}-progress`]:{bottom:o,width:`calc(100% - ${te(i(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:i(n).add(e.paddingXS).equal()}},[`${s}-error`]:{borderColor:e.colorError,[`${s}-thumbnail ${r}`]:{[`svg path[fill='${nt[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${nt.primary}']`]:{fill:e.colorError}}},[`${s}-uploading`]:{borderStyle:"dashed",[`${s}-name`]:{marginBottom:o}}},[`${a}${a}-picture-circle ${s}`]:{[`&, &::before, ${s}-thumbnail`]:{borderRadius:"50%"}}}}},bn=e=>{const{componentCls:t,iconCls:r,fontSizeLG:n,colorTextLightSolid:o,calc:i}=e,a=`${t}-list`,s=`${a}-item`,d=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},Et()),{display:"block",[`${t}${t}-select`]:{width:d,height:d,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${te(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${a}${a}-picture-card, ${a}${a}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${a}-item-container`]:{display:"inline-block",width:d,height:d,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[s]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${te(i(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${te(i(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${s}:hover`]:{[`&::before, ${s}-actions`]:{opacity:1}},[`${s}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${r}-eye,
            ${r}-download,
            ${r}-delete
          `]:{zIndex:10,width:n,margin:`0 ${te(e.marginXXS)}`,fontSize:n,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:o,"&:hover":{color:o},svg:{verticalAlign:"baseline"}}},[`${s}-thumbnail, ${s}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${s}-name`]:{display:"none",textAlign:"center"},[`${s}-file + ${s}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${te(i(e.paddingXS).mul(2).equal())})`},[`${s}-uploading`]:{[`&${s}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${r}-eye, ${r}-download, ${r}-delete`]:{display:"none"}},[`${s}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${te(i(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},yn=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},wn=e=>{const{componentCls:t,colorTextDisabled:r}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},yt(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:r,cursor:"not-allowed"}})}},$n=e=>({actionsColor:e.colorIcon}),Cn=vt("Upload",e=>{const{fontSizeHeading3:t,fontHeight:r,lineWidth:n,controlHeightLG:o,calc:i}=e,a=bt(e,{uploadThumbnailSize:i(t).mul(2).equal(),uploadProgressOffset:i(i(r).div(2)).add(n).equal(),uploadPicCardSize:i(o).mul(2.55).equal()});return[wn(a),fn(a),vn(a),bn(a),gn(a),hn(a),yn(a),Yt(a)]},$n);function Oe(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Pe(e,t){const r=se(t),n=r.findIndex(o=>{let{uid:i}=o;return i===e.uid});return n===-1?r.push(e):r[n]=e,r}function qe(e,t){const r=e.uid!==void 0?"uid":"name";return t.filter(n=>n[r]===e[r])[0]}function Sn(e,t){const r=e.uid!==void 0?"uid":"name",n=t.filter(o=>o[r]!==e[r]);return n.length===t.length?null:n}const xn=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),n=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(n)||[""])[0]},Pt=e=>e.indexOf("image/")===0,En=e=>{if(e.type&&!e.thumbUrl)return Pt(e.type);const t=e.thumbUrl||e.url||"",r=xn(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(r)?!0:!(/^data:/.test(t)||r)},fe=200;function jn(e){return new Promise(t=>{if(!e.type||!Pt(e.type)){t("");return}const r=document.createElement("canvas");r.width=fe,r.height=fe,r.style.cssText=`position: fixed; left: 0; top: 0; width: ${fe}px; height: ${fe}px; z-index: 9999; display: none;`,document.body.appendChild(r);const n=r.getContext("2d"),o=new Image;if(o.onload=()=>{const{width:i,height:a}=o;let s=fe,d=fe,u=0,p=0;i>a?(d=a*(fe/i),p=-(d-s)/2):(s=i*(fe/a),u=-(s-d)/2),n.drawImage(o,u,p,s,d);const m=r.toDataURL();document.body.removeChild(r),window.URL.revokeObjectURL(o.src),t(m)},o.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const i=new FileReader;i.onload=()=>{i.result&&typeof i.result=="string"&&(o.src=i.result)},i.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const i=new FileReader;i.onload=()=>{i.result&&t(i.result)},i.readAsDataURL(e)}else o.src=window.URL.createObjectURL(e)})}const In=l.forwardRef((e,t)=>{let{prefixCls:r,className:n,style:o,locale:i,listType:a,file:s,items:d,progress:u,iconRender:p,actionIconRender:m,itemRender:f,isImgUrl:w,showPreviewIcon:y,showRemoveIcon:$,showDownloadIcon:C,previewIcon:b,removeIcon:v,downloadIcon:I,extra:S,onPreview:c,onDownload:h,onClose:g}=e;var E,P;const{status:j}=s,[A,Z]=l.useState(j);l.useEffect(()=>{j!=="removed"&&Z(j)},[j]);const[W,V]=l.useState(!1);l.useEffect(()=>{const U=setTimeout(()=>{V(!0)},300);return()=>{clearTimeout(U)}},[]);const T=p(s);let F=l.createElement("div",{className:`${r}-icon`},T);if(a==="picture"||a==="picture-card"||a==="picture-circle")if(A==="uploading"||!s.thumbUrl&&!s.url){const U=X(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:A!=="uploading"});F=l.createElement("div",{className:U},T)}else{const U=w!=null&&w(s)?l.createElement("img",{src:s.thumbUrl||s.url,alt:s.name,className:`${r}-list-item-image`,crossOrigin:s.crossOrigin}):T,z=X(`${r}-list-item-thumbnail`,{[`${r}-list-item-file`]:w&&!w(s)});F=l.createElement("a",{className:z,onClick:ue=>c(s,ue),href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer"},U)}const R=X(`${r}-list-item`,`${r}-list-item-${A}`),re=typeof s.linkProps=="string"?JSON.parse(s.linkProps):s.linkProps,K=(typeof $=="function"?$(s):$)?m((typeof v=="function"?v(s):v)||l.createElement(Zr,null),()=>g(s),r,i.removeFile,!0):null,H=(typeof C=="function"?C(s):C)&&A==="done"?m((typeof I=="function"?I(s):I)||l.createElement(Yr,null),()=>h(s),r,i.downloadFile):null,_=a!=="picture-card"&&a!=="picture-circle"&&l.createElement("span",{key:"download-delete",className:X(`${r}-list-item-actions`,{picture:a==="picture"})},H,K),J=typeof S=="function"?S(s):S,x=J&&l.createElement("span",{className:`${r}-list-item-extra`},J),N=X(`${r}-list-item-name`),Q=s.url?l.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:N,title:s.name},re,{href:s.url,onClick:U=>c(s,U)}),s.name,x):l.createElement("span",{key:"view",className:N,onClick:U=>c(s,U),title:s.name},s.name,x),q=(typeof y=="function"?y(s):y)&&(s.url||s.thumbUrl)?l.createElement("a",{href:s.url||s.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:U=>c(s,U),title:i.previewFile},typeof b=="function"?b(s):b||l.createElement(er,null)):null,ne=(a==="picture-card"||a==="picture-circle")&&A!=="uploading"&&l.createElement("span",{className:`${r}-list-item-actions`},q,A==="done"&&H,K),{getPrefixCls:ie}=l.useContext(ke),me=ie(),le=l.createElement("div",{className:R},F,Q,_,ne,W&&l.createElement(It,{motionName:`${me}-fade`,visible:A==="uploading",motionDeadline:2e3},U=>{let{className:z}=U;const ue="percent"in s?l.createElement(Kr,Object.assign({},u,{type:"line",percent:s.percent,"aria-label":s["aria-label"],"aria-labelledby":s["aria-labelledby"]})):null;return l.createElement("div",{className:X(`${r}-list-item-progress`,z)},ue)})),de=s.response&&typeof s.response=="string"?s.response:((E=s.error)===null||E===void 0?void 0:E.statusText)||((P=s.error)===null||P===void 0?void 0:P.message)||i.uploadError,$e=A==="error"?l.createElement(Ee,{title:de,getPopupContainer:U=>U.parentNode},le):le;return l.createElement("div",{className:X(`${r}-list-item-container`,n),style:o,ref:t},f?f($e,s,d,{download:h.bind(null,s),preview:c.bind(null,s),remove:g.bind(null,s)}):$e)}),On=(e,t)=>{const{listType:r="text",previewFile:n=jn,onPreview:o,onDownload:i,onRemove:a,locale:s,iconRender:d,isImageUrl:u=En,prefixCls:p,items:m=[],showPreviewIcon:f=!0,showRemoveIcon:w=!0,showDownloadIcon:y=!1,removeIcon:$,previewIcon:C,downloadIcon:b,extra:v,progress:I={size:[-1,2],showInfo:!1},appendAction:S,appendActionVisible:c=!0,itemRender:h,disabled:g}=e,E=tr(),[P,j]=l.useState(!1),A=["picture-card","picture-circle"].includes(r);l.useEffect(()=>{r.startsWith("picture")&&(m||[]).forEach(x=>{!(x.originFileObj instanceof File||x.originFileObj instanceof Blob)||x.thumbUrl!==void 0||(x.thumbUrl="",n==null||n(x.originFileObj).then(N=>{x.thumbUrl=N||"",E()}))})},[r,m,n]),l.useEffect(()=>{j(!0)},[]);const Z=(x,N)=>{if(o)return N==null||N.preventDefault(),o(x)},W=x=>{typeof i=="function"?i(x):x.url&&window.open(x.url)},V=x=>{a==null||a(x)},T=x=>{if(d)return d(x,r);const N=x.status==="uploading";if(r.startsWith("picture")){const Q=r==="picture"?l.createElement(at,null):s.uploading,q=u!=null&&u(x)?l.createElement(an,null):l.createElement(tn,null);return N?Q:q}return N?l.createElement(at,null):l.createElement(nn,null)},F=(x,N,Q,q,ne)=>{const ie={type:"text",size:"small",title:q,onClick:me=>{var le,de;N(),l.isValidElement(x)&&((de=(le=x.props).onClick)===null||de===void 0||de.call(le,me))},className:`${Q}-list-item-action`,disabled:ne?g:!1};return l.isValidElement(x)?l.createElement(je,Object.assign({},ie,{icon:ot(x,Object.assign(Object.assign({},x.props),{onClick:()=>{}}))})):l.createElement(je,Object.assign({},ie),l.createElement("span",null,x))};l.useImperativeHandle(t,()=>({handlePreview:Z,handleDownload:W}));const{getPrefixCls:R}=l.useContext(ke),re=R("upload",p),K=R(),H=X(`${re}-list`,`${re}-list-${r}`),_=l.useMemo(()=>wt(rr(K),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[K]),J=Object.assign(Object.assign({},A?{}:_),{motionDeadline:2e3,motionName:`${re}-${A?"animate-inline":"animate"}`,keys:se(m.map(x=>({key:x.uid,file:x}))),motionAppear:P});return l.createElement("div",{className:H},l.createElement(nr,Object.assign({},J,{component:!1}),x=>{let{key:N,file:Q,className:q,style:ne}=x;return l.createElement(In,{key:N,locale:s,prefixCls:re,className:q,style:ne,file:Q,items:m,progress:I,listType:r,isImgUrl:u,showPreviewIcon:f,showRemoveIcon:w,showDownloadIcon:y,removeIcon:$,previewIcon:C,downloadIcon:b,extra:v,iconRender:T,actionIconRender:F,itemRender:h,onPreview:Z,onDownload:W,onClose:V})}),S&&l.createElement(It,Object.assign({},J,{visible:c,forceRender:!0}),x=>{let{className:N,style:Q}=x;return ot(S,q=>({className:X(q.className,N),style:Object.assign(Object.assign(Object.assign({},Q),{pointerEvents:N?"none":void 0}),q.style)}))}))},Pn=l.forwardRef(On);var Ln=function(e,t,r,n){function o(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function s(p){try{u(n.next(p))}catch(m){a(m)}}function d(p){try{u(n.throw(p))}catch(m){a(m)}}function u(p){p.done?i(p.value):o(p.value).then(s,d)}u((n=n.apply(e,[])).next())})};const xe=`__LIST_IGNORE_${Date.now()}__`,Dn=(e,t)=>{const{fileList:r,defaultFileList:n,onRemove:o,showUploadList:i=!0,listType:a="text",onPreview:s,onDownload:d,onChange:u,onDrop:p,previewFile:m,disabled:f,locale:w,iconRender:y,isImageUrl:$,progress:C,prefixCls:b,className:v,type:I="select",children:S,style:c,itemRender:h,maxCount:g,data:E={},multiple:P=!1,hasControlInside:j=!0,action:A="",accept:Z="",supportServerRender:W=!0,rootClassName:V}=e,T=l.useContext(or),F=f??T,[R,re]=ar(n||[],{value:r,postState:O=>O??[]}),[K,H]=l.useState("drop"),_=l.useRef(null),J=l.useRef(null);l.useMemo(()=>{const O=Date.now();(r||[]).forEach((k,B)=>{!k.uid&&!Object.isFrozen(k)&&(k.uid=`__AUTO__${O}_${B}__`)})},[r]);const x=(O,k,B)=>{let L=se(k),M=!1;g===1?L=L.slice(-1):g&&(M=L.length>g,L=L.slice(0,g)),st.flushSync(()=>{re(L)});const Y={file:O,fileList:L};B&&(Y.event=B),(!M||O.status==="removed"||L.some(he=>he.uid===O.uid))&&st.flushSync(()=>{u==null||u(Y)})},N=(O,k)=>Ln(void 0,void 0,void 0,function*(){const{beforeUpload:B,transformFile:L}=e;let M=O;if(B){const Y=yield B(O,k);if(Y===!1)return!1;if(delete O[xe],Y===xe)return Object.defineProperty(O,xe,{value:!0,configurable:!0}),!1;typeof Y=="object"&&Y&&(M=Y)}return L&&(M=yield L(M)),M}),Q=O=>{const k=O.filter(M=>!M.file[xe]);if(!k.length)return;const B=k.map(M=>Oe(M.file));let L=se(R);B.forEach(M=>{L=Pe(M,L)}),B.forEach((M,Y)=>{let he=M;if(k[Y].parsedFile)M.status="uploading";else{const{originFileObj:be}=M;let ve;try{ve=new File([be],be.name,{type:be.type})}catch{ve=new Blob([be],{type:be.type}),ve.name=be.name,ve.lastModifiedDate=new Date,ve.lastModified=new Date().getTime()}ve.uid=M.uid,he=ve}x(he,L)})},q=(O,k,B)=>{try{typeof O=="string"&&(O=JSON.parse(O))}catch{}if(!qe(k,R))return;const L=Oe(k);L.status="done",L.percent=100,L.response=O,L.xhr=B;const M=Pe(L,R);x(L,M)},ne=(O,k)=>{if(!qe(k,R))return;const B=Oe(k);B.status="uploading",B.percent=O.percent;const L=Pe(B,R);x(B,L,O)},ie=(O,k,B)=>{if(!qe(B,R))return;const L=Oe(B);L.error=O,L.response=k,L.status="error";const M=Pe(L,R);x(L,M)},me=O=>{let k;Promise.resolve(typeof o=="function"?o(O):o).then(B=>{var L;if(B===!1)return;const M=Sn(O,R);M&&(k=Object.assign(Object.assign({},O),{status:"removed"}),R==null||R.forEach(Y=>{const he=k.uid!==void 0?"uid":"name";Y[he]===k[he]&&!Object.isFrozen(Y)&&(Y.status="removed")}),(L=_.current)===null||L===void 0||L.abort(k),x(k,M))})},le=O=>{H(O.type),O.type==="drop"&&(p==null||p(O))};l.useImperativeHandle(t,()=>({onBatchStart:Q,onSuccess:q,onProgress:ne,onError:ie,fileList:R,upload:_.current,nativeElement:J.current}));const{getPrefixCls:de,direction:$e,upload:U}=l.useContext(ke),z=de("upload",b),ue=Object.assign(Object.assign({onBatchStart:Q,onError:ie,onProgress:ne,onSuccess:q},e),{data:E,multiple:P,action:A,accept:Z,supportServerRender:W,prefixCls:z,disabled:F,beforeUpload:N,onChange:void 0,hasControlInside:j});delete ue.className,delete ue.style,(!S||F)&&delete ue.id;const Ye=`${z}-wrapper`,[Ae,et,Dt]=Cn(z,Ye),[Rt]=sr("Upload",ir.Upload),{showRemoveIcon:tt,showPreviewIcon:kt,showDownloadIcon:Ft,removeIcon:Nt,previewIcon:At,downloadIcon:Mt,extra:Tt}=typeof i=="boolean"?{}:i,Wt=typeof tt>"u"?!F:tt,Me=(O,k)=>i?l.createElement(Pn,{prefixCls:z,listType:a,items:R,previewFile:m,onPreview:s,onDownload:d,onRemove:me,showRemoveIcon:Wt,showPreviewIcon:kt,showDownloadIcon:Ft,removeIcon:Nt,previewIcon:At,downloadIcon:Mt,iconRender:y,extra:Tt,locale:Object.assign(Object.assign({},Rt),w),isImageUrl:$,progress:C,appendAction:O,appendActionVisible:k,itemRender:h,disabled:F}):O,Te=X(Ye,v,V,et,Dt,U==null?void 0:U.className,{[`${z}-rtl`]:$e==="rtl",[`${z}-picture-card-wrapper`]:a==="picture-card",[`${z}-picture-circle-wrapper`]:a==="picture-circle"}),zt=Object.assign(Object.assign({},U==null?void 0:U.style),c);if(I==="drag"){const O=X(et,z,`${z}-drag`,{[`${z}-drag-uploading`]:R.some(k=>k.status==="uploading"),[`${z}-drag-hover`]:K==="dragover",[`${z}-disabled`]:F,[`${z}-rtl`]:$e==="rtl"});return Ae(l.createElement("span",{className:Te,ref:J},l.createElement("div",{className:O,style:zt,onDrop:le,onDragOver:le,onDragLeave:le},l.createElement(Qe,Object.assign({},ue,{ref:_,className:`${z}-btn`}),l.createElement("div",{className:`${z}-drag-container`},S))),Me()))}const Ut=X(z,`${z}-select`,{[`${z}-disabled`]:F,[`${z}-hidden`]:!S}),rt=l.createElement("div",{className:Ut},l.createElement(Qe,Object.assign({},ue,{ref:_})));return Ae(a==="picture-card"||a==="picture-circle"?l.createElement("span",{className:Te,ref:J},Me(rt,!!S)):l.createElement("span",{className:Te,ref:J},rt,Me()))},Lt=l.forwardRef(Dn);var Rn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const kn=l.forwardRef((e,t)=>{var{style:r,height:n,hasControlInside:o=!1}=e,i=Rn(e,["style","height","hasControlInside"]);return l.createElement(Lt,Object.assign({ref:t,hasControlInside:o},i,{type:"drag",style:Object.assign(Object.assign({},r),{height:n})}))}),Re=Lt;Re.Dragger=kn;Re.LIST_IGNORE=xe;const Fn=e=>l.createElement("svg",{width:8,height:24,viewBox:"0 0 8 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},l.createElement("path",{d:"M4.07414 1.07222C4.54376 0.173802 5.62729 -0.241098 6.58879 0.143504C7.55011 0.528132 8.04785 1.57543 7.76848 2.54975L7.70305 2.74409L3.99992 12.0009L7.70305 21.2578L7.76848 21.4521C8.04785 22.4264 7.55011 23.4737 6.58879 23.8583C5.62729 24.243 4.54376 23.8281 4.07414 22.9296L3.98821 22.7441L0.286058 13.4863C-0.0953527 12.5327 -0.0953524 11.4692 0.286058 10.5156L3.98821 1.25776L4.07414 1.07222Z",fill:"currentColor"})),Nn=e=>l.createElement("svg",{width:8,height:24,viewBox:"0 0 8 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e},l.createElement("path",{d:"M3.77156 1.07222C3.30194 0.173802 2.21842 -0.241098 1.25691 0.143504C0.29559 0.528132 -0.202146 1.57543 0.0772238 2.54975L0.142653 2.74409L3.84578 12.0009L0.142653 21.2578L0.0772238 21.4521C-0.202146 22.4264 0.29559 23.4737 1.25691 23.8583C2.21842 24.243 3.30194 23.8281 3.77156 22.9296L3.8575 22.7441L7.55965 13.4863C7.94106 12.5327 7.94106 11.4692 7.55965 10.5156L3.8575 1.25776L3.77156 1.07222Z",fill:"currentColor"})),An=e=>l.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 37 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},l.createElement("path",{d:"M9.25828 15.2031C5.95607 15.9884 3.5 18.9573 3.5 22.4999C3.5 26.642 6.85786 29.9999 11 29.9999C11.7106 29.9999 12.398 29.9011 13.0494 29.7165",stroke:"currentColor",strokeOpacity:.8,strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M27.541 15.2031C30.8432 15.9884 33.2993 18.9573 33.2993 22.4999C33.2993 26.642 29.9414 29.9999 25.7993 29.9999C25.0887 29.9999 24.4013 29.9011 23.7499 29.7165",stroke:"currentColor",strokeOpacity:.8,strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M27.5 15C27.5 10.0295 23.4705 6 18.5 6C13.5295 6 9.5 10.0295 9.5 15",stroke:"currentColor",strokeOpacity:.8,strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M13.2991 20.9109L18.4999 15.6929L23.8489 21.0002",stroke:"currentColor",strokeOpacity:.8,strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"}),l.createElement("path",{d:"M18.5 28.5003V18.3467",stroke:"currentColor",strokeOpacity:.8,strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round"})),Mn="_uploadDragger_1e6jb_2",Tn="_fileList_1e6jb_12",mt={uploadDragger:Mn,fileList:Tn},Wn="filesDB",ce="files";function Ne(){return new Promise((e,t)=>{const r=indexedDB.open(Wn,1);r.onerror=()=>t(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=n=>{const o=n.target.result;o.objectStoreNames.contains(ce)||o.createObjectStore(ce,{keyPath:"id",autoIncrement:!0})}})}async function zn(e){const t=await Ne();return new Promise((r,n)=>{const o=t.transaction(ce,"readwrite"),a=o.objectStore(ce).add(e);a.onsuccess=()=>r(a.result),a.onerror=()=>n(a.error),o.oncomplete=()=>t.close()})}async function Un(){const e=await Ne(),t=e.transaction(ce,"readwrite"),n=t.objectStore(ce).clear();n.onsuccess=()=>Promise.resolve(),n.onerror=()=>Promise.reject(n.error),t.oncomplete=()=>e.close()}async function Bn(){const e=await Ne();return new Promise((t,r)=>{const n=e.transaction(ce,"readonly"),i=n.objectStore(ce).getAll();i.onsuccess=()=>t(i.result),i.onerror=()=>r(i.error),n.oncomplete=()=>e.close()})}async function _n(e){const t=await Ne();return new Promise((r,n)=>{const o=t.transaction(ce,"readwrite"),a=o.objectStore(ce).delete(e);a.onsuccess=()=>r(),a.onerror=()=>n(a.error),o.oncomplete=()=>t.close()})}async function Hn(e){try{if(typeof DecompressionStream>"u")throw new TypeError("DecompressionStream API");const t=new Blob([e]),r=new DecompressionStream("gzip"),n=t.stream().pipeThrough(r);return await(await new Response(n).blob()).text()}catch(t){throw console.error("GZ:",t),t}}function qn(e){const t=[],r="WARC/1.0";return e.split(r).filter(o=>o.trim().length>0).forEach((o,i)=>{const a=r+o,s=a.indexOf(`\r
\r
`);if(s===-1)return;const d=a.substring(0,s),u=a.substring(s+4),p=d.match(/WARC-Type:\s*([^\r\n]+)/i),m=p?p[1].trim():"unknown",f=d.match(/WARC-Record-ID:\s*([^\r\n]+)/i),w=f?f[1].trim():`record-${i}`,y=d.match(/WARC-Date:\s*([^\r\n]+)/i),$=y?y[1].trim():"",C=d.match(/WARC-Target-URI:\s*([^\r\n]+)/i),b=C?C[1].trim():"",v=d.match(/Content-Type:\s*([^\r\n]+)/i),I=v?v[1].trim():"";t.push({warcType:m,warcRecordId:w,date:$,content:u,url:b,contentType:I})}),t}const ft=800*1024*1024,Kn=function(){const{t}=lr(),[r,n]=l.useState([]),[o,i]=l.useState(!0),[a,s]=l.useState(null),[d,u]=l.useState(""),[p,m]=l.useState(0),[f,w]=l.useState(!1);l.useEffect(()=>{document.title=`Vis3 - ${t("local")}`},[t]),l.useEffect(()=>{a&&u(`http://localhost:3000/local/${a.name}`)},[a]),l.useEffect(()=>{(async()=>{try{const h=await Bn();n(h)}catch(h){console.error("Failed to load files:",h),oe.error(t("load.error"))}finally{i(!1)}})()},[t]);const y=c=>{const h=new FileReader;h.onload=async g=>{var Z;const E=(Z=g.target)==null?void 0:Z.result;let P="",j=!1,A="";try{if(c.name.endsWith(".gz")||c.name.endsWith(".warc.gz")){if(j=!0,E instanceof ArrayBuffer)try{A=await Hn(E),P=A}catch(T){console.error(":",T),oe.error("");const F=new Uint8Array(E);P=Array.from(F).map(R=>R.toString(16).padStart(2,"0")).join(" ")}}else if(typeof E=="string")P=E;else if(E instanceof ArrayBuffer)try{P=new TextDecoder("utf-8").decode(E)}catch{const F=new Uint8Array(E);P=Array.from(F).map(R=>R.toString(16).padStart(2,"0")).join(" ")}const W={name:c.name,content:P,type:c.type,lastModified:c.lastModified,isCompressed:j,decompressedContent:A};if(c.name.endsWith(".warc")||c.name.endsWith(".warc.gz"))try{const F=qn(j?A:P);W.warcRecords=F,W.content=JSON.stringify(F,null,2)}catch(T){console.error(t("upload.warcError"),T),oe.error(t("upload.warcError"))}const V=await zn(W);n(T=>[...T,{...W,id:V}]),s({...W,id:V}),oe.success(`${c.name} ${t("upload.success")}`)}catch(W){console.error(t("upload.readError"),W),oe.error(t("upload.readError"))}},h.onerror=()=>{oe.error(t("upload.readError"))},c.type.includes("text")||c.type.includes("json")||c.type.includes("jsonl")||c.name.endsWith(".md")||c.name.endsWith(".csv")||c.name.endsWith(".json")||c.name.endsWith(".jsonl")||c.name.endsWith(".md")||c.name.endsWith(".csv")||c.name.endsWith(".json")||c.name.endsWith(".jsonl")?h.readAsText(c):c.type.includes("image")?h.readAsDataURL(c):h.readAsArrayBuffer(c)},$=async c=>{if(c!==void 0)try{await _n(c),s(null),n(h=>h.filter(g=>g.id!==c)),oe.success(t("upload.deleteSuccess"))}catch(h){console.error("Failed to delete file:",h),oe.error(t("upload.deleteFailed"))}},C=async()=>{await Un(),n([])},b={name:"file",multiple:!0,accept:".json, .jsonl, .jsonl.gz, .md, .csv, .html, .txt",showUploadList:!1,beforeUpload:c=>c.size>ft?(oe.error(`${c.name} ${t("upload.maxSize")} 500MB`),!1):r.some(g=>g.name===c.name)?(oe.error(`${t("upload.sameName")}: ${c.name}`),!1):(y(c),!1),onDrop(c){Array.from(c.dataTransfer.files).filter(g=>g.size>ft?(oe.error(`${g.name} ${t("upload.maxSize")} 500MB`),!1):r.some(P=>P.name===g.name)?(oe.error(`${t("upload.sameName")}: ${g.name}`),!1):!0).forEach(g=>y(g))}},v=l.useCallback(({path:c})=>{const h=We(d),g=We(c);g&&!h||g&&h&&(g==null?void 0:g.byte)>(h==null?void 0:h.byte)?m(E=>E+1):(!g&&h||g&&h&&(g==null?void 0:g.byte)<(h==null?void 0:h.byte))&&m(E=>E-1),u(c)},[d]),I=l.useMemo(()=>{if(!a)return;let c=a.content;if(a.name.endsWith(".jsonl")||a.name.endsWith(".jsonl.gz"))c=c.split(`
`)[p];else if((a.name.endsWith(".warc")||a.name.endsWith(".warc.gz"))&&a.warcRecords){const E=Math.min(p,a.warcRecords.length-1);if(E>=0&&a.warcRecords[E]){const P=a.warcRecords[E];c=JSON.stringify({type:P.warcType,recordId:P.warcRecordId,date:P.date,url:P.url,contentType:P.contentType,content:P.content},null,2)}}else a.name.endsWith(".gz")&&!a.name.endsWith(".warc.gz")&&a.decompressedContent&&(c=a.decompressedContent);const h=We(d),g=cr(a.name)||a.type.split("/")[0];return{id:a.id,mimetype:g,name:a.name,type:g,content:c,last_modified:a.lastModified,size:a.content.length,created_by:"local",path:`http://localhost:3000/local/${a.name}?bytes=${(h==null?void 0:h.byte)??0},${c.length}`}},[a,p,d]),S=l.useMemo(()=>D.jsx("div",{className:"flex flex-col items-center justify-center w-full flex-1",children:D.jsx(Re.Dragger,{...b,className:Ce(mt.uploadDragger,"mb-8"),children:D.jsxs("div",{className:"flex flex-col items-center justify-center gap-2",children:[D.jsx(An,{className:"text-4xl"}),D.jsx("p",{className:"text-[20px]",children:t("upload.drag")}),D.jsx("p",{className:"text-sm text-gray-500",children:t("upload.recommend")})]})})}),[t,b,r]);return r.length===0?S:D.jsxs("div",{className:"flex-1 flex flex-row py-4 gap-4 bg-gray-100",children:[D.jsx("div",{className:Ce("bg-white rounded-r-lg shrink-0 left-sider transition-all",{"w-[260px]":!f,"w-0 overflow-hidden":f}),children:D.jsx(ze,{loading:o,size:"small",className:Ce("w-[260px] flex flex-col",mt.fileList),header:D.jsxs("div",{className:"flex justify-between px-4",children:[D.jsx("span",{className:"font-bold",children:t("fileList")}),D.jsxs("div",{className:"flex flex-row items-center gap-2",children:[D.jsx(Ee,{title:t("upload.upload"),children:D.jsx(Re,{...b,children:D.jsx(je,{type:"text",size:"small",icon:D.jsx(Cr,{})})})}),D.jsx(pr,{title:t("deleteAllConfirm"),onConfirm:C,okText:t("ok"),cancelText:t("cancel"),children:D.jsx(Ee,{title:t("deleteAll"),children:D.jsx(je,{type:"text",size:"small",icon:D.jsx(gr,{}),danger:!0})})})]})]}),dataSource:r,renderItem:c=>D.jsxs(ze.Item,{className:Ce("flex flex-row items-center justify-between !px-4 cursor-pointer hover:bg-gray-100 transition-colors",{"bg-(--ant-color-primary-bg)":(a==null?void 0:a.id)===c.id}),onClick:()=>s(c),children:[D.jsx(ze.Item.Meta,{title:D.jsx(Ee,{placement:"topLeft",title:c.name,children:c.name}),description:new Date(c.lastModified).toLocaleString()}),D.jsx(je,{type:"text",size:"small",icon:D.jsx(dr,{}),danger:!0,onClick:()=>$(c.id)},"delete")]})})}),D.jsx("div",{onClick:()=>w(!f),className:"fixed left-[242px] top-1/2 transform -translate-y-1/2 z-10 text-gray-300 h-8 w-4 flex items-center justify-center rounded-r-md cursor-pointer hover:text-gray-400 transition-colors",style:{left:f?"0":"242px",transition:"left 0.1s"},children:f?D.jsx(Nn,{}):D.jsx(Fn,{})}),D.jsx("div",{className:Ce("flex-1 body-content transition-all h-[calc(100vh-88px)]",{"flex flex-col items-center justify-center":!a,"max-w-[calc(100vw-32px)]":f,"max-w-[calc(100vw-292px)]":!f}),"data-block-id":"origin",children:a?D.jsx(ur,{id:"original",path:d,dataSource:I,onChange:v,showPagination:!1,showDownload:!1}):S})]})};export{Kn as component};
