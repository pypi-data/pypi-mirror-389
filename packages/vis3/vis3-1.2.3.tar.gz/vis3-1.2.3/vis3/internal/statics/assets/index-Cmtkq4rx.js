import{r as l,bv as M,B as I,b7 as w,ad as Q,b1 as T,aj as _,aR as U,aS as Y,bw as $,bx as G,c as j,a_ as J,aQ as K,by as Z,ak as ee}from"./index-D4gM71-s.js";function h(e){return!!(e!=null&&e.then)}const te=e=>{const{type:n,children:s,prefixCls:t,buttonProps:o,close:f,autoFocus:b,emitEvent:p,isSilent:i,quitOnNullishReturnValue:C,actionFn:v}=e,a=l.useRef(!1),x=l.useRef(null),[P,m]=M(!1),u=function(){f==null||f.apply(void 0,arguments)};l.useEffect(()=>{let r=null;return b&&(r=setTimeout(()=>{var c;(c=x.current)===null||c===void 0||c.focus({preventScroll:!0})})),()=>{r&&clearTimeout(r)}},[]);const y=r=>{h(r)&&(m(!0),r.then(function(){m(!1,!0),u.apply(void 0,arguments),a.current=!1},c=>{if(m(!1,!0),a.current=!1,!(i!=null&&i()))return Promise.reject(c)}))},O=r=>{if(a.current)return;if(a.current=!0,!v){u();return}let c;if(p){if(c=v(r),C&&!h(c)){a.current=!1,u(r);return}}else if(v.length)c=v(f),a.current=!1;else if(c=v(),!h(c)){u();return}y(c)};return l.createElement(I,Object.assign({},w(n),{onClick:O,loading:P,prefixCls:t},o,{ref:x}),s)},ne=e=>{const{componentCls:n,iconCls:s,antCls:t,zIndexPopup:o,colorText:f,colorWarning:b,marginXXS:p,marginXS:i,fontSize:C,fontWeightStrong:v,colorTextHeading:a}=e;return{[n]:{zIndex:o,[`&${t}-popover`]:{fontSize:C},[`${n}-message`]:{marginBottom:i,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${s}`]:{color:b,fontSize:C,lineHeight:1,marginInlineEnd:i},[`${n}-title`]:{fontWeight:v,color:a,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:p,color:f}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:i}}}}},oe=e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}},R=Q("Popconfirm",e=>ne(e),oe,{resetStyle:!1});var le=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const V=e=>{const{prefixCls:n,okButtonProps:s,cancelButtonProps:t,title:o,description:f,cancelText:b,okText:p,okType:i="primary",icon:C=l.createElement(T,null),showCancel:v=!0,close:a,onConfirm:x,onCancel:P,onPopupClick:m}=e,{getPrefixCls:u}=l.useContext(_),[y]=U("Popconfirm",Y.Popconfirm),O=$(o),r=$(f);return l.createElement("div",{className:`${n}-inner-content`,onClick:m},l.createElement("div",{className:`${n}-message`},C&&l.createElement("span",{className:`${n}-message-icon`},C),l.createElement("div",{className:`${n}-message-text`},O&&l.createElement("div",{className:`${n}-title`},O),r&&l.createElement("div",{className:`${n}-description`},r))),l.createElement("div",{className:`${n}-buttons`},v&&l.createElement(I,Object.assign({onClick:P,size:"small"},t),b||(y==null?void 0:y.cancelText)),l.createElement(te,{buttonProps:Object.assign(Object.assign({size:"small"},w(i)),s),actionFn:x,close:a,prefixCls:u("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},p||(y==null?void 0:y.okText))))},se=e=>{const{prefixCls:n,placement:s,className:t,style:o}=e,f=le(e,["prefixCls","placement","className","style"]),{getPrefixCls:b}=l.useContext(_),p=b("popconfirm",n),[i]=R(p);return i(l.createElement(G,{placement:s,className:j(p,t),style:o,content:l.createElement(V,Object.assign({prefixCls:p},f))}))};var ae=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s};const re=l.forwardRef((e,n)=>{var s,t;const{prefixCls:o,placement:f="top",trigger:b="click",okType:p="primary",icon:i=l.createElement(T,null),children:C,overlayClassName:v,onOpenChange:a,onVisibleChange:x,overlayStyle:P,styles:m,classNames:u}=e,y=ae(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:O,className:r,style:c,classNames:E,styles:k}=J("popconfirm"),[z,B]=K(!1,{value:(s=e.open)!==null&&s!==void 0?s:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),N=(d,g)=>{B(d,!0),x==null||x(d),a==null||a(d,g)},W=d=>{N(!1,d)},F=d=>{var g;return(g=e.onConfirm)===null||g===void 0?void 0:g.call(void 0,d)},L=d=>{var g;N(!1,d),(g=e.onCancel)===null||g===void 0||g.call(void 0,d)},A=(d,g)=>{const{disabled:D=!1}=e;D||N(d,g)},S=O("popconfirm",o),H=j(S,r,v,E.root,u==null?void 0:u.root),X=j(E.body,u==null?void 0:u.body),[q]=R(S);return q(l.createElement(Z,Object.assign({},ee(y,["title"]),{trigger:b,placement:f,onOpenChange:A,open:z,ref:n,classNames:{root:H,body:X},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},k.root),c),P),m==null?void 0:m.root),body:Object.assign(Object.assign({},k.body),m==null?void 0:m.body)},content:l.createElement(V,Object.assign({okType:p,icon:i},e,{prefixCls:S,close:W,onConfirm:F,onCancel:L})),"data-popover-inject":!0}),C))}),ce=re;ce._InternalPanelDoNotUseOrYouWillBeFired=se;export{te as A,ce as P};
