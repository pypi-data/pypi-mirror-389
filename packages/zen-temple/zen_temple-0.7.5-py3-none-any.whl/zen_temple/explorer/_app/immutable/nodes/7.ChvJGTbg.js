import"../chunks/DsnmJJEf.js";import{o as _e,s as gn}from"../chunks/C6tn_jEF.js";import{p as vr,u as Zn,d as C,s as it,b as Tn,h as Lt,m as Et,g as a,i as at,r as mt,l as j,q as kt,a as Q,j as mr,b9 as fn,f as Vt,c as ae,b8 as Yr,e as ze,t as Zr,n as Mn,k as qe}from"../chunks/BPIoXquA.js";import{p as ue,i as bt,b as _r}from"../chunks/lzapwbvy.js";import{R as Gr}from"../chunks/DXf0k2HG.js";import{D as On}from"../chunks/BEdcgSQn.js";import{o as Vr,F as Br,e as Hr,b as le,S as Ur,c as wn,t as jn,f as Wr}from"../chunks/BG-hj6TZ.js";import{_ as Dn}from"../chunks/BXl3LOEh.js";import{e as on,i as an,u as Kr,g as se}from"../chunks/BUFwSDdR.js";import{s as _t,a as Qr,c as Jr}from"../chunks/BeKPjfAQ.js";import{d as ti,e as Xe}from"../chunks/B6F7olol.js";import{s as Ye}from"../chunks/CT5IDZYs.js";import{f as ni,s as ce,i as fe,p as Cn,T as ei}from"../chunks/DbXQBrJp.js";class sn{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const r=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const c=r[i],f=n+c,s=Math.abs(n)<Math.abs(c)?n-(f-c):c-(f-n);s&&(r[e++]=s),n=f}return r[e]=n,this._n=e+1,this}valueOf(){const n=this._partials;let r=this._n,e,i,c,f=0;if(r>0){for(f=n[--r];r>0&&(e=f,i=n[--r],f=e+i,c=i-(f-e),!c););r>0&&(c<0&&n[r-1]<0||c>0&&n[r-1]>0)&&(i=c*2,e=f+i,i==e-f&&(f=e))}return f}}class Ze extends Map{constructor(n,r=oi){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),n!=null)for(const[e,i]of n)this.set(e,i)}get(n){return super.get(Ge(this,n))}has(n){return super.has(Ge(this,n))}set(n,r){return super.set(ri(this,n),r)}delete(n){return super.delete(ii(this,n))}}function Ge({_intern:t,_key:n},r){const e=n(r);return t.has(e)?t.get(e):r}function ri({_intern:t,_key:n},r){const e=n(r);return t.has(e)?t.get(e):(t.set(e,r),r)}function ii({_intern:t,_key:n},r){const e=n(r);return t.has(e)&&(r=t.get(e),t.delete(e)),r}function oi(t){return t!==null&&typeof t=="object"?t.valueOf():t}function*ai(t){for(const n of t)yield*n}function yr(t){return Array.from(ai(t))}const ye=Math.PI,Ee=2*ye,ln=1e-6,ui=Ee-ln;function Er(t){this._+=t[0];for(let n=1,r=t.length;n<r;++n)this._+=arguments[n]+t[n]}function li(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return Er;const r=10**n;return function(e){this._+=e[0];for(let i=1,c=e.length;i<c;++i)this._+=Math.round(arguments[i]*r)/r+e[i]}}class si{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?Er:li(n)}moveTo(n,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,r){this._append`L${this._x1=+n},${this._y1=+r}`}quadraticCurveTo(n,r,e,i){this._append`Q${+n},${+r},${this._x1=+e},${this._y1=+i}`}bezierCurveTo(n,r,e,i,c,f){this._append`C${+n},${+r},${+e},${+i},${this._x1=+c},${this._y1=+f}`}arcTo(n,r,e,i,c){if(n=+n,r=+r,e=+e,i=+i,c=+c,c<0)throw new Error(`negative radius: ${c}`);let f=this._x1,s=this._y1,d=e-n,h=i-r,o=f-n,u=s-r,l=o*o+u*u;if(this._x1===null)this._append`M${this._x1=n},${this._y1=r}`;else if(l>ln)if(!(Math.abs(u*d-h*o)>ln)||!c)this._append`L${this._x1=n},${this._y1=r}`;else{let p=e-f,g=i-s,m=d*d+h*h,_=p*p+g*g,M=Math.sqrt(m),w=Math.sqrt(l),x=c*Math.tan((ye-Math.acos((m+l-_)/(2*M*w)))/2),y=x/w,R=x/M;Math.abs(y-1)>ln&&this._append`L${n+y*o},${r+y*u}`,this._append`A${c},${c},0,0,${+(u*p>o*g)},${this._x1=n+R*d},${this._y1=r+R*h}`}}arc(n,r,e,i,c,f){if(n=+n,r=+r,e=+e,f=!!f,e<0)throw new Error(`negative radius: ${e}`);let s=e*Math.cos(i),d=e*Math.sin(i),h=n+s,o=r+d,u=1^f,l=f?i-c:c-i;this._x1===null?this._append`M${h},${o}`:(Math.abs(this._x1-h)>ln||Math.abs(this._y1-o)>ln)&&this._append`L${h},${o}`,e&&(l<0&&(l=l%Ee+Ee),l>ui?this._append`A${e},${e},0,1,${u},${n-s},${r-d}A${e},${e},0,1,${u},${this._x1=h},${this._y1=o}`:l>ln&&this._append`A${e},${e},0,${+(l>=ye)},${u},${this._x1=n+e*Math.cos(c)},${this._y1=r+e*Math.sin(c)}`)}rect(n,r,e,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+r}h${e=+e}v${+i}h${-e}Z`}toString(){return this._}}var W=1e-6,z=Math.PI,Nt=z/2,Ve=z/4,jt=z*2,Ot=180/z,vt=z/180,nt=Math.abs,Sr=Math.atan,bn=Math.atan2,ut=Math.cos,ci=Math.exp,fi=Math.log,lt=Math.sin,hi=Math.sign||function(t){return t>0?1:t<0?-1:0},hn=Math.sqrt,pi=Math.tan;function gi(t){return t>1?0:t<-1?z:Math.acos(t)}function Nn(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function qt(){}function Bn(t,n){t&&He.hasOwnProperty(t.type)&&He[t.type](t,n)}var Be={Feature:function(t,n){Bn(t.geometry,n)},FeatureCollection:function(t,n){for(var r=t.features,e=-1,i=r.length;++e<i;)Bn(r[e].geometry,n)}},He={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)t=r[e],n.point(t[0],t[1],t[2])},LineString:function(t,n){Se(t.coordinates,n,0)},MultiLineString:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)Se(r[e],n,0)},Polygon:function(t,n){Ue(t.coordinates,n)},MultiPolygon:function(t,n){for(var r=t.coordinates,e=-1,i=r.length;++e<i;)Ue(r[e],n)},GeometryCollection:function(t,n){for(var r=t.geometries,e=-1,i=r.length;++e<i;)Bn(r[e],n)}};function Se(t,n,r){var e=-1,i=t.length-r,c;for(n.lineStart();++e<i;)c=t[e],n.point(c[0],c[1],c[2]);n.lineEnd()}function Ue(t,n){var r=-1,e=t.length;for(n.polygonStart();++r<e;)Se(t[r],n,1);n.polygonEnd()}function dn(t,n){t&&Be.hasOwnProperty(t.type)?Be[t.type](t,n):Bn(t,n)}function Me(t){return[bn(t[1],t[0]),Nn(t[2])]}function _n(t){var n=t[0],r=t[1],e=ut(r);return[e*ut(n),e*lt(n),lt(r)]}function Fn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Hn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function he(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function zn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function we(t){var n=hn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function xe(t,n){function r(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(r.invert=function(e,i){return e=n.invert(e,i),e&&t.invert(e[0],e[1])}),r}function $e(t,n){return nt(t)>z&&(t-=Math.round(t/jt)*jt),[t,n]}$e.invert=$e;function Mr(t,n,r){return(t%=jt)?n||r?xe(Ke(t),Qe(n,r)):Ke(t):n||r?Qe(n,r):$e}function We(t){return function(n,r){return n+=t,nt(n)>z&&(n-=Math.round(n/jt)*jt),[n,r]}}function Ke(t){var n=We(t);return n.invert=We(-t),n}function Qe(t,n){var r=ut(t),e=lt(t),i=ut(n),c=lt(n);function f(s,d){var h=ut(d),o=ut(s)*h,u=lt(s)*h,l=lt(d),p=l*r+o*e;return[bn(u*i-p*c,o*r-l*e),Nn(p*i+u*c)]}return f.invert=function(s,d){var h=ut(d),o=ut(s)*h,u=lt(s)*h,l=lt(d),p=l*i-u*c;return[bn(u*i+l*c,o*r+p*e),Nn(p*r-o*e)]},f}function di(t){t=Mr(t[0]*vt,t[1]*vt,t.length>2?t[2]*vt:0);function n(r){return r=t(r[0]*vt,r[1]*vt),r[0]*=Ot,r[1]*=Ot,r}return n.invert=function(r){return r=t.invert(r[0]*vt,r[1]*vt),r[0]*=Ot,r[1]*=Ot,r},n}function vi(t,n,r,e,i,c){if(r){var f=ut(n),s=lt(n),d=e*r;i==null?(i=n+e*jt,c=n-d/2):(i=Je(f,i),c=Je(f,c),(e>0?i<c:i>c)&&(i+=e*jt));for(var h,o=i;e>0?o>c:o<c;o-=d)h=Me([f,-s*ut(o),-s*lt(o)]),t.point(h[0],h[1])}}function Je(t,n){n=_n(n),n[0]-=t,we(n);var r=gi(-n[1]);return((-n[2]<0?-r:r)+jt-W)%jt}function wr(){var t=[],n;return{point:function(r,e,i){n.push([r,e,i])},lineStart:function(){t.push(n=[])},lineEnd:qt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}}function Gn(t,n){return nt(t[0]-n[0])<W&&nt(t[1]-n[1])<W}function qn(t,n,r,e){this.x=t,this.z=n,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function xr(t,n,r,e,i){var c=[],f=[],s,d;if(t.forEach(function(g){if(!((m=g.length-1)<=0)){var m,_=g[0],M=g[m],w;if(Gn(_,M)){if(!_[2]&&!M[2]){for(i.lineStart(),s=0;s<m;++s)i.point((_=g[s])[0],_[1]);i.lineEnd();return}M[0]+=2*W}c.push(w=new qn(_,g,null,!0)),f.push(w.o=new qn(_,null,w,!1)),c.push(w=new qn(M,g,null,!1)),f.push(w.o=new qn(M,null,w,!0))}}),!!c.length){for(f.sort(n),tr(c),tr(f),s=0,d=f.length;s<d;++s)f[s].e=r=!r;for(var h=c[0],o,u;;){for(var l=h,p=!0;l.v;)if((l=l.n)===h)return;o=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(p)for(s=0,d=o.length;s<d;++s)i.point((u=o[s])[0],u[1]);else e(l.x,l.n.x,1,i);l=l.n}else{if(p)for(o=l.p.z,s=o.length-1;s>=0;--s)i.point((u=o[s])[0],u[1]);else e(l.x,l.p.x,-1,i);l=l.p}l=l.o,o=l.z,p=!p}while(!l.v);i.lineEnd()}}}function tr(t){if(n=t.length){for(var n,r=0,e=t[0],i;++r<n;)e.n=i=t[r],i.p=e,e=i;e.n=i=t[0],i.p=e}}function pe(t){return nt(t[0])<=z?t[0]:hi(t[0])*((nt(t[0])+z)%jt-z)}function mi(t,n){var r=pe(n),e=n[1],i=lt(e),c=[lt(r),-ut(r),0],f=0,s=0,d=new sn;i===1?e=Nt+W:i===-1&&(e=-Nt-W);for(var h=0,o=t.length;h<o;++h)if(l=(u=t[h]).length)for(var u,l,p=u[l-1],g=pe(p),m=p[1]/2+Ve,_=lt(m),M=ut(m),w=0;w<l;++w,g=y,_=A,M=I,p=x){var x=u[w],y=pe(x),R=x[1]/2+Ve,A=lt(R),I=ut(R),b=y-g,N=b>=0?1:-1,k=N*b,$=k>z,D=_*A;if(d.add(bn(D*N*lt(k),M*I+D*ut(k))),f+=$?b+N*jt:b,$^g>=r^y>=r){var S=Hn(_n(p),_n(x));we(S);var P=Hn(c,S);we(P);var v=($^b>=0?-1:1)*Nn(P[2]);(e>v||e===v&&(S[0]||S[1]))&&(s+=$^b>=0?1:-1)}}return(f<-W||f<W&&d<-1e-12)^s&1}function $r(t,n,r,e){return function(i){var c=n(i),f=wr(),s=n(f),d=!1,h,o,u,l={point:p,lineStart:m,lineEnd:_,polygonStart:function(){l.point=M,l.lineStart=w,l.lineEnd=x,o=[],h=[]},polygonEnd:function(){l.point=p,l.lineStart=m,l.lineEnd=_,o=yr(o);var y=mi(h,e);o.length?(d||(i.polygonStart(),d=!0),xr(o,yi,y,r,i)):y&&(d||(i.polygonStart(),d=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),d&&(i.polygonEnd(),d=!1),o=h=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(y,R){t(y,R)&&i.point(y,R)}function g(y,R){c.point(y,R)}function m(){l.point=g,c.lineStart()}function _(){l.point=p,c.lineEnd()}function M(y,R){u.push([y,R]),s.point(y,R)}function w(){s.lineStart(),u=[]}function x(){M(u[0][0],u[0][1]),s.lineEnd();var y=s.clean(),R=f.result(),A,I=R.length,b,N,k;if(u.pop(),h.push(u),u=null,!!I){if(y&1){if(N=R[0],(b=N.length-1)>0){for(d||(i.polygonStart(),d=!0),i.lineStart(),A=0;A<b;++A)i.point((k=N[A])[0],k[1]);i.lineEnd()}return}I>1&&y&2&&R.push(R.pop().concat(R.shift())),o.push(R.filter(_i))}}return l}}function _i(t){return t.length>1}function yi(t,n){return((t=t.x)[0]<0?t[1]-Nt-W:Nt-t[1])-((n=n.x)[0]<0?n[1]-Nt-W:Nt-n[1])}const nr=$r(function(){return!0},Ei,Mi,[-z,-Nt]);function Ei(t){var n=NaN,r=NaN,e=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(c,f){var s=c>0?z:-z,d=nt(c-n);nt(d-z)<W?(t.point(n,r=(r+f)/2>0?Nt:-Nt),t.point(e,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(c,r),i=0):e!==s&&d>=z&&(nt(n-e)<W&&(n-=e*W),nt(c-s)<W&&(c-=s*W),r=Si(n,r,c,f),t.point(e,r),t.lineEnd(),t.lineStart(),t.point(s,r),i=0),t.point(n=c,r=f),e=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-i}}}function Si(t,n,r,e){var i,c,f=lt(t-r);return nt(f)>W?Sr((lt(n)*(c=ut(e))*lt(r)-lt(e)*(i=ut(n))*lt(t))/(i*c*f)):(n+e)/2}function Mi(t,n,r,e){var i;if(t==null)i=r*Nt,e.point(-z,i),e.point(0,i),e.point(z,i),e.point(z,0),e.point(z,-i),e.point(0,-i),e.point(-z,-i),e.point(-z,0),e.point(-z,i);else if(nt(t[0]-n[0])>W){var c=t[0]<n[0]?z:-z;i=r*c/2,e.point(-c,i),e.point(0,i),e.point(c,i)}else e.point(n[0],n[1])}function wi(t){var n=ut(t),r=2*vt,e=n>0,i=nt(n)>W;function c(o,u,l,p){vi(p,t,r,l,o,u)}function f(o,u){return ut(o)*ut(u)>n}function s(o){var u,l,p,g,m;return{lineStart:function(){g=p=!1,m=1},point:function(_,M){var w=[_,M],x,y=f(_,M),R=e?y?0:h(_,M):y?h(_+(_<0?z:-z),M):0;if(!u&&(g=p=y)&&o.lineStart(),y!==p&&(x=d(u,w),(!x||Gn(u,x)||Gn(w,x))&&(w[2]=1)),y!==p)m=0,y?(o.lineStart(),x=d(w,u),o.point(x[0],x[1])):(x=d(u,w),o.point(x[0],x[1],2),o.lineEnd()),u=x;else if(i&&u&&e^y){var A;!(R&l)&&(A=d(w,u,!0))&&(m=0,e?(o.lineStart(),o.point(A[0][0],A[0][1]),o.point(A[1][0],A[1][1]),o.lineEnd()):(o.point(A[1][0],A[1][1]),o.lineEnd(),o.lineStart(),o.point(A[0][0],A[0][1],3)))}y&&(!u||!Gn(u,w))&&o.point(w[0],w[1]),u=w,p=y,l=R},lineEnd:function(){p&&o.lineEnd(),u=null},clean:function(){return m|(g&&p)<<1}}}function d(o,u,l){var p=_n(o),g=_n(u),m=[1,0,0],_=Hn(p,g),M=Fn(_,_),w=_[0],x=M-w*w;if(!x)return!l&&o;var y=n*M/x,R=-n*w/x,A=Hn(m,_),I=zn(m,y),b=zn(_,R);he(I,b);var N=A,k=Fn(I,N),$=Fn(N,N),D=k*k-$*(Fn(I,I)-1);if(!(D<0)){var S=hn(D),P=zn(N,(-k-S)/$);if(he(P,I),P=Me(P),!l)return P;var v=o[0],L=u[0],G=o[1],U=u[1],et;L<v&&(et=v,v=L,L=et);var St=L-v,st=nt(St-z)<W,ct=st||St<W;if(!st&&U<G&&(et=G,G=U,U=et),ct?st?G+U>0^P[1]<(nt(P[0]-v)<W?G:U):G<=P[1]&&P[1]<=U:St>z^(v<=P[0]&&P[0]<=L)){var Z=zn(N,(-k+S)/$);return he(Z,I),[P,Me(Z)]}}}function h(o,u){var l=e?t:z-t,p=0;return o<-l?p|=1:o>l&&(p|=2),u<-l?p|=4:u>l&&(p|=8),p}return $r(f,s,c,e?[0,-t]:[-z,t-z])}function xi(t,n,r,e,i,c){var f=t[0],s=t[1],d=n[0],h=n[1],o=0,u=1,l=d-f,p=h-s,g;if(g=r-f,!(!l&&g>0)){if(g/=l,l<0){if(g<o)return;g<u&&(u=g)}else if(l>0){if(g>u)return;g>o&&(o=g)}if(g=i-f,!(!l&&g<0)){if(g/=l,l<0){if(g>u)return;g>o&&(o=g)}else if(l>0){if(g<o)return;g<u&&(u=g)}if(g=e-s,!(!p&&g>0)){if(g/=p,p<0){if(g<o)return;g<u&&(u=g)}else if(p>0){if(g>u)return;g>o&&(o=g)}if(g=c-s,!(!p&&g<0)){if(g/=p,p<0){if(g>u)return;g>o&&(o=g)}else if(p>0){if(g<o)return;g<u&&(u=g)}return o>0&&(t[0]=f+o*l,t[1]=s+o*p),u<1&&(n[0]=f+u*l,n[1]=s+u*p),!0}}}}}var xn=1e9,Xn=-xn;function $i(t,n,r,e){function i(h,o){return t<=h&&h<=r&&n<=o&&o<=e}function c(h,o,u,l){var p=0,g=0;if(h==null||(p=f(h,u))!==(g=f(o,u))||d(h,o)<0^u>0)do l.point(p===0||p===3?t:r,p>1?e:n);while((p=(p+u+4)%4)!==g);else l.point(o[0],o[1])}function f(h,o){return nt(h[0]-t)<W?o>0?0:3:nt(h[0]-r)<W?o>0?2:1:nt(h[1]-n)<W?o>0?1:0:o>0?3:2}function s(h,o){return d(h.x,o.x)}function d(h,o){var u=f(h,1),l=f(o,1);return u!==l?u-l:u===0?o[1]-h[1]:u===1?h[0]-o[0]:u===2?h[1]-o[1]:o[0]-h[0]}return function(h){var o=h,u=wr(),l,p,g,m,_,M,w,x,y,R,A,I={point:b,lineStart:D,lineEnd:S,polygonStart:k,polygonEnd:$};function b(v,L){i(v,L)&&o.point(v,L)}function N(){for(var v=0,L=0,G=p.length;L<G;++L)for(var U=p[L],et=1,St=U.length,st=U[0],ct,Z,ft=st[0],ht=st[1];et<St;++et)ct=ft,Z=ht,st=U[et],ft=st[0],ht=st[1],Z<=e?ht>e&&(ft-ct)*(e-Z)>(ht-Z)*(t-ct)&&++v:ht<=e&&(ft-ct)*(e-Z)<(ht-Z)*(t-ct)&&--v;return v}function k(){o=u,l=[],p=[],A=!0}function $(){var v=N(),L=A&&v,G=(l=yr(l)).length;(L||G)&&(h.polygonStart(),L&&(h.lineStart(),c(null,null,1,h),h.lineEnd()),G&&xr(l,s,v,c,h),h.polygonEnd()),o=h,l=p=g=null}function D(){I.point=P,p&&p.push(g=[]),R=!0,y=!1,w=x=NaN}function S(){l&&(P(m,_),M&&y&&u.rejoin(),l.push(u.result())),I.point=b,y&&o.lineEnd()}function P(v,L){var G=i(v,L);if(p&&g.push([v,L]),R)m=v,_=L,M=G,R=!1,G&&(o.lineStart(),o.point(v,L));else if(G&&y)o.point(v,L);else{var U=[w=Math.max(Xn,Math.min(xn,w)),x=Math.max(Xn,Math.min(xn,x))],et=[v=Math.max(Xn,Math.min(xn,v)),L=Math.max(Xn,Math.min(xn,L))];xi(U,et,t,n,r,e)?(y||(o.lineStart(),o.point(U[0],U[1])),o.point(et[0],et[1]),G||o.lineEnd(),A=!1):G&&(o.lineStart(),o.point(v,L),A=!1)}w=v,x=L,y=G}return I}}const Pe=t=>t;var ge=new sn,Re=new sn,Pr,Rr,Ae,Te,Wt={point:qt,lineStart:qt,lineEnd:qt,polygonStart:function(){Wt.lineStart=Pi,Wt.lineEnd=Ai},polygonEnd:function(){Wt.lineStart=Wt.lineEnd=Wt.point=qt,ge.add(nt(Re)),Re=new sn},result:function(){var t=ge/2;return ge=new sn,t}};function Pi(){Wt.point=Ri}function Ri(t,n){Wt.point=Ar,Pr=Ae=t,Rr=Te=n}function Ar(t,n){Re.add(Te*t-Ae*n),Ae=t,Te=n}function Ai(){Ar(Pr,Rr)}var yn=1/0,Un=yn,Ln=-yn,Wn=Ln,Kn={point:Ti,lineStart:qt,lineEnd:qt,polygonStart:qt,polygonEnd:qt,result:function(){var t=[[yn,Un],[Ln,Wn]];return Ln=Wn=-(Un=yn=1/0),t}};function Ti(t,n){t<yn&&(yn=t),t>Ln&&(Ln=t),n<Un&&(Un=n),n>Wn&&(Wn=n)}var be=0,Ne=0,$n=0,Qn=0,Jn=0,vn=0,Le=0,Ie=0,Pn=0,Tr,br,Bt,Ht,zt={point:cn,lineStart:er,lineEnd:rr,polygonStart:function(){zt.lineStart=Li,zt.lineEnd=Ii},polygonEnd:function(){zt.point=cn,zt.lineStart=er,zt.lineEnd=rr},result:function(){var t=Pn?[Le/Pn,Ie/Pn]:vn?[Qn/vn,Jn/vn]:$n?[be/$n,Ne/$n]:[NaN,NaN];return be=Ne=$n=Qn=Jn=vn=Le=Ie=Pn=0,t}};function cn(t,n){be+=t,Ne+=n,++$n}function er(){zt.point=bi}function bi(t,n){zt.point=Ni,cn(Bt=t,Ht=n)}function Ni(t,n){var r=t-Bt,e=n-Ht,i=hn(r*r+e*e);Qn+=i*(Bt+t)/2,Jn+=i*(Ht+n)/2,vn+=i,cn(Bt=t,Ht=n)}function rr(){zt.point=cn}function Li(){zt.point=ki}function Ii(){Nr(Tr,br)}function ki(t,n){zt.point=Nr,cn(Tr=Bt=t,br=Ht=n)}function Nr(t,n){var r=t-Bt,e=n-Ht,i=hn(r*r+e*e);Qn+=i*(Bt+t)/2,Jn+=i*(Ht+n)/2,vn+=i,i=Ht*t-Bt*n,Le+=i*(Bt+t),Ie+=i*(Ht+n),Pn+=i*3,cn(Bt=t,Ht=n)}function Lr(t){this._context=t}Lr.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,jt);break}}},result:qt};var ke=new sn,de,Ir,kr,Rn,An,In={point:qt,lineStart:function(){In.point=Oi},lineEnd:function(){de&&Or(Ir,kr),In.point=qt},polygonStart:function(){de=!0},polygonEnd:function(){de=null},result:function(){var t=+ke;return ke=new sn,t}};function Oi(t,n){In.point=Or,Ir=Rn=t,kr=An=n}function Or(t,n){Rn-=t,An-=n,ke.add(hn(Rn*Rn+An*An)),Rn=t,An=n}let ir,te,or,ar;class ur{constructor(n){this._append=n==null?jr:ji(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,r){switch(this._point){case 0:{this._append`M${n},${r}`,this._point=1;break}case 1:{this._append`L${n},${r}`;break}default:{if(this._append`M${n},${r}`,this._radius!==or||this._append!==te){const e=this._radius,i=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,or=e,te=this._append,ar=this._,this._=i}this._+=ar;break}}}result(){const n=this._;return this._="",n.length?n:null}}function jr(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=arguments[n]+t[n]}function ji(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return jr;if(n!==ir){const r=10**n;ir=n,te=function(i){let c=1;this._+=i[0];for(const f=i.length;c<f;++c)this._+=Math.round(arguments[c]*r)/r+i[c]}}return te}function Di(t,n){let r=3,e=4.5,i,c;function f(s){return s&&(typeof e=="function"&&c.pointRadius(+e.apply(this,arguments)),dn(s,i(c))),c.result()}return f.area=function(s){return dn(s,i(Wt)),Wt.result()},f.measure=function(s){return dn(s,i(In)),In.result()},f.bounds=function(s){return dn(s,i(Kn)),Kn.result()},f.centroid=function(s){return dn(s,i(zt)),zt.result()},f.projection=function(s){return arguments.length?(i=s==null?(t=null,Pe):(t=s).stream,f):t},f.context=function(s){return arguments.length?(c=s==null?(n=null,new ur(r)):new Lr(n=s),typeof e!="function"&&c.pointRadius(e),f):n},f.pointRadius=function(s){return arguments.length?(e=typeof s=="function"?s:(c.pointRadius(+s),+s),f):e},f.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const d=Math.floor(s);if(!(d>=0))throw new RangeError(`invalid digits: ${s}`);r=d}return n===null&&(c=new ur(r)),f},f.projection(t).digits(r).context(n)}function je(t){return function(n){var r=new Oe;for(var e in t)r[e]=t[e];return r.stream=n,r}}function Oe(){}Oe.prototype={constructor:Oe,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function De(t,n,r){var e=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),e!=null&&t.clipExtent(null),dn(r,t.stream(Kn)),n(Kn.result()),e!=null&&t.clipExtent(e),t}function Dr(t,n,r){return De(t,function(e){var i=n[1][0]-n[0][0],c=n[1][1]-n[0][1],f=Math.min(i/(e[1][0]-e[0][0]),c/(e[1][1]-e[0][1])),s=+n[0][0]+(i-f*(e[1][0]+e[0][0]))/2,d=+n[0][1]+(c-f*(e[1][1]+e[0][1]))/2;t.scale(150*f).translate([s,d])},r)}function Ci(t,n,r){return Dr(t,[[0,0],n],r)}function Fi(t,n,r){return De(t,function(e){var i=+n,c=i/(e[1][0]-e[0][0]),f=(i-c*(e[1][0]+e[0][0]))/2,s=-c*e[0][1];t.scale(150*c).translate([f,s])},r)}function zi(t,n,r){return De(t,function(e){var i=+n,c=i/(e[1][1]-e[0][1]),f=-c*e[0][0],s=(i-c*(e[1][1]+e[0][1]))/2;t.scale(150*c).translate([f,s])},r)}var lr=16,qi=ut(30*vt);function sr(t,n){return+n?Yi(t,n):Xi(t)}function Xi(t){return je({point:function(n,r){n=t(n,r),this.stream.point(n[0],n[1])}})}function Yi(t,n){function r(e,i,c,f,s,d,h,o,u,l,p,g,m,_){var M=h-e,w=o-i,x=M*M+w*w;if(x>4*n&&m--){var y=f+l,R=s+p,A=d+g,I=hn(y*y+R*R+A*A),b=Nn(A/=I),N=nt(nt(A)-1)<W||nt(c-u)<W?(c+u)/2:bn(R,y),k=t(N,b),$=k[0],D=k[1],S=$-e,P=D-i,v=w*S-M*P;(v*v/x>n||nt((M*S+w*P)/x-.5)>.3||f*l+s*p+d*g<qi)&&(r(e,i,c,f,s,d,$,D,N,y/=I,R/=I,A,m,_),_.point($,D),r($,D,N,y,R,A,h,o,u,l,p,g,m,_))}}return function(e){var i,c,f,s,d,h,o,u,l,p,g,m,_={point:M,lineStart:w,lineEnd:y,polygonStart:function(){e.polygonStart(),_.lineStart=R},polygonEnd:function(){e.polygonEnd(),_.lineStart=w}};function M(b,N){b=t(b,N),e.point(b[0],b[1])}function w(){u=NaN,_.point=x,e.lineStart()}function x(b,N){var k=_n([b,N]),$=t(b,N);r(u,l,o,p,g,m,u=$[0],l=$[1],o=b,p=k[0],g=k[1],m=k[2],lr,e),e.point(u,l)}function y(){_.point=M,e.lineEnd()}function R(){w(),_.point=A,_.lineEnd=I}function A(b,N){x(i=b,N),c=u,f=l,s=p,d=g,h=m,_.point=x}function I(){r(u,l,o,p,g,m,c,f,i,s,d,h,lr,e),_.lineEnd=y,y()}return _}}var Zi=je({point:function(t,n){this.stream.point(t*vt,n*vt)}});function Gi(t){return je({point:function(n,r){var e=t(n,r);return this.stream.point(e[0],e[1])}})}function Vi(t,n,r,e,i){function c(f,s){return f*=e,s*=i,[n+t*f,r-t*s]}return c.invert=function(f,s){return[(f-n)/t*e,(r-s)/t*i]},c}function cr(t,n,r,e,i,c){if(!c)return Vi(t,n,r,e,i);var f=ut(c),s=lt(c),d=f*t,h=s*t,o=f/t,u=s/t,l=(s*r-f*n)/t,p=(s*n+f*r)/t;function g(m,_){return m*=e,_*=i,[d*m-h*_+n,r-h*m-d*_]}return g.invert=function(m,_){return[e*(o*m-u*_+l),i*(p-u*m-o*_)]},g}function Bi(t){return Hi(function(){return t})()}function Hi(t){var n,r=150,e=480,i=250,c=0,f=0,s=0,d=0,h=0,o,u=0,l=1,p=1,g=null,m=nr,_=null,M,w,x,y=Pe,R=.5,A,I,b,N,k;function $(v){return b(v[0]*vt,v[1]*vt)}function D(v){return v=b.invert(v[0],v[1]),v&&[v[0]*Ot,v[1]*Ot]}$.stream=function(v){return N&&k===v?N:N=Zi(Gi(o)(m(A(y(k=v)))))},$.preclip=function(v){return arguments.length?(m=v,g=void 0,P()):m},$.postclip=function(v){return arguments.length?(y=v,_=M=w=x=null,P()):y},$.clipAngle=function(v){return arguments.length?(m=+v?wi(g=v*vt):(g=null,nr),P()):g*Ot},$.clipExtent=function(v){return arguments.length?(y=v==null?(_=M=w=x=null,Pe):$i(_=+v[0][0],M=+v[0][1],w=+v[1][0],x=+v[1][1]),P()):_==null?null:[[_,M],[w,x]]},$.scale=function(v){return arguments.length?(r=+v,S()):r},$.translate=function(v){return arguments.length?(e=+v[0],i=+v[1],S()):[e,i]},$.center=function(v){return arguments.length?(c=v[0]%360*vt,f=v[1]%360*vt,S()):[c*Ot,f*Ot]},$.rotate=function(v){return arguments.length?(s=v[0]%360*vt,d=v[1]%360*vt,h=v.length>2?v[2]%360*vt:0,S()):[s*Ot,d*Ot,h*Ot]},$.angle=function(v){return arguments.length?(u=v%360*vt,S()):u*Ot},$.reflectX=function(v){return arguments.length?(l=v?-1:1,S()):l<0},$.reflectY=function(v){return arguments.length?(p=v?-1:1,S()):p<0},$.precision=function(v){return arguments.length?(A=sr(I,R=v*v),P()):hn(R)},$.fitExtent=function(v,L){return Dr($,v,L)},$.fitSize=function(v,L){return Ci($,v,L)},$.fitWidth=function(v,L){return Fi($,v,L)},$.fitHeight=function(v,L){return zi($,v,L)};function S(){var v=cr(r,0,0,l,p,u).apply(null,n(c,f)),L=cr(r,e-v[0],i-v[1],l,p,u);return o=Mr(s,d,h),I=xe(n,L),b=xe(o,I),A=sr(I,R),P()}function P(){return N=k=null,$}return function(){return n=t.apply(this,arguments),$.invert=n.invert&&D,S()}}function Ce(t,n){return[t,fi(pi((Nt+n)/2))]}Ce.invert=function(t,n){return[t,2*Sr(ci(n))-Nt]};function ve(){return Ui(Ce).scale(961/jt)}function Ui(t){var n=Bi(t),r=n.center,e=n.scale,i=n.translate,c=n.clipExtent,f=null,s,d,h;n.scale=function(u){return arguments.length?(e(u),o()):e()},n.translate=function(u){return arguments.length?(i(u),o()):i()},n.center=function(u){return arguments.length?(r(u),o()):r()},n.clipExtent=function(u){return arguments.length?(u==null?f=s=d=h=null:(f=+u[0][0],s=+u[0][1],d=+u[1][0],h=+u[1][1]),o()):f==null?null:[[f,s],[d,h]]};function o(){var u=z*e(),l=n(di(n.rotate()).invert([0,0]));return c(f==null?[[l[0]-u,l[1]-u],[l[0]+u,l[1]+u]]:t===Ce?[[Math.max(l[0]-u,f),s],[Math.min(l[0]+u,d),h]]:[[f,Math.max(l[1]-u,s)],[d,Math.min(l[1]+u,h)]])}return o()}function Wi(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}const fr=Symbol("implicit");function Cr(){var t=new Ze,n=[],r=[],e=fr;function i(c){let f=t.get(c);if(f===void 0){if(e!==fr)return e;t.set(c,f=n.push(c)-1)}return r[f%r.length]}return i.domain=function(c){if(!arguments.length)return n.slice();n=[],t=new Ze;for(const f of c)t.has(f)||t.set(f,n.push(f)-1);return i},i.range=function(c){return arguments.length?(r=Array.from(c),i):r.slice()},i.unknown=function(c){return arguments.length?(e=c,i):e},i.copy=function(){return Cr(n,r).unknown(e)},Wi.apply(i,arguments),i}function xt(t){return function(){return t}}const hr=Math.abs,yt=Math.atan2,un=Math.cos,Ki=Math.max,me=Math.min,Gt=Math.sin,mn=Math.sqrt,Tt=1e-12,kn=Math.PI,ne=kn/2,Vn=2*kn;function Qi(t){return t>1?0:t<-1?kn:Math.acos(t)}function pr(t){return t>=1?ne:t<=-1?-ne:Math.asin(t)}function Ji(t){let n=3;return t.digits=function(r){if(!arguments.length)return n;if(r==null)n=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);n=e}return t},()=>new si(n)}function to(t){return t.innerRadius}function no(t){return t.outerRadius}function eo(t){return t.startAngle}function ro(t){return t.endAngle}function io(t){return t&&t.padAngle}function oo(t,n,r,e,i,c,f,s){var d=r-t,h=e-n,o=f-i,u=s-c,l=u*d-o*h;if(!(l*l<Tt))return l=(o*(n-c)-u*(t-i))/l,[t+l*d,n+l*h]}function Yn(t,n,r,e,i,c,f){var s=t-r,d=n-e,h=(f?c:-c)/mn(s*s+d*d),o=h*d,u=-h*s,l=t+o,p=n+u,g=r+o,m=e+u,_=(l+g)/2,M=(p+m)/2,w=g-l,x=m-p,y=w*w+x*x,R=i-c,A=l*m-g*p,I=(x<0?-1:1)*mn(Ki(0,R*R*y-A*A)),b=(A*x-w*I)/y,N=(-A*w-x*I)/y,k=(A*x+w*I)/y,$=(-A*w+x*I)/y,D=b-_,S=N-M,P=k-_,v=$-M;return D*D+S*S>P*P+v*v&&(b=k,N=$),{cx:b,cy:N,x01:-o,y01:-u,x11:b*(i/R-1),y11:N*(i/R-1)}}function ao(){var t=to,n=no,r=xt(0),e=null,i=eo,c=ro,f=io,s=null,d=Ji(h);function h(){var o,u,l=+t.apply(this,arguments),p=+n.apply(this,arguments),g=i.apply(this,arguments)-ne,m=c.apply(this,arguments)-ne,_=hr(m-g),M=m>g;if(s||(s=o=d()),p<l&&(u=p,p=l,l=u),!(p>Tt))s.moveTo(0,0);else if(_>Vn-Tt)s.moveTo(p*un(g),p*Gt(g)),s.arc(0,0,p,g,m,!M),l>Tt&&(s.moveTo(l*un(m),l*Gt(m)),s.arc(0,0,l,m,g,M));else{var w=g,x=m,y=g,R=m,A=_,I=_,b=f.apply(this,arguments)/2,N=b>Tt&&(e?+e.apply(this,arguments):mn(l*l+p*p)),k=me(hr(p-l)/2,+r.apply(this,arguments)),$=k,D=k,S,P;if(N>Tt){var v=pr(N/l*Gt(b)),L=pr(N/p*Gt(b));(A-=v*2)>Tt?(v*=M?1:-1,y+=v,R-=v):(A=0,y=R=(g+m)/2),(I-=L*2)>Tt?(L*=M?1:-1,w+=L,x-=L):(I=0,w=x=(g+m)/2)}var G=p*un(w),U=p*Gt(w),et=l*un(R),St=l*Gt(R);if(k>Tt){var st=p*un(x),ct=p*Gt(x),Z=l*un(y),ft=l*Gt(y),ht;if(_<kn)if(ht=oo(G,U,Z,ft,st,ct,et,St)){var O=G-ht[0],F=U-ht[1],q=st-ht[0],K=ct-ht[1],pt=1/Gt(Qi((O*q+F*K)/(mn(O*O+F*F)*mn(q*q+K*K)))/2),J=mn(ht[0]*ht[0]+ht[1]*ht[1]);$=me(k,(l-J)/(pt-1)),D=me(k,(p-J)/(pt+1))}else $=D=0}I>Tt?D>Tt?(S=Yn(Z,ft,G,U,p,D,M),P=Yn(st,ct,et,St,p,D,M),s.moveTo(S.cx+S.x01,S.cy+S.y01),D<k?s.arc(S.cx,S.cy,D,yt(S.y01,S.x01),yt(P.y01,P.x01),!M):(s.arc(S.cx,S.cy,D,yt(S.y01,S.x01),yt(S.y11,S.x11),!M),s.arc(0,0,p,yt(S.cy+S.y11,S.cx+S.x11),yt(P.cy+P.y11,P.cx+P.x11),!M),s.arc(P.cx,P.cy,D,yt(P.y11,P.x11),yt(P.y01,P.x01),!M))):(s.moveTo(G,U),s.arc(0,0,p,w,x,!M)):s.moveTo(G,U),!(l>Tt)||!(A>Tt)?s.lineTo(et,St):$>Tt?(S=Yn(et,St,st,ct,l,-$,M),P=Yn(G,U,Z,ft,l,-$,M),s.lineTo(S.cx+S.x01,S.cy+S.y01),$<k?s.arc(S.cx,S.cy,$,yt(S.y01,S.x01),yt(P.y01,P.x01),!M):(s.arc(S.cx,S.cy,$,yt(S.y01,S.x01),yt(S.y11,S.x11),!M),s.arc(0,0,l,yt(S.cy+S.y11,S.cx+S.x11),yt(P.cy+P.y11,P.cx+P.x11),M),s.arc(P.cx,P.cy,$,yt(P.y11,P.x11),yt(P.y01,P.x01),!M))):s.arc(0,0,l,R,y,M)}if(s.closePath(),o)return s=null,o+""||null}return h.centroid=function(){var o=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +c.apply(this,arguments))/2-kn/2;return[un(u)*o,Gt(u)*o]},h.innerRadius=function(o){return arguments.length?(t=typeof o=="function"?o:xt(+o),h):t},h.outerRadius=function(o){return arguments.length?(n=typeof o=="function"?o:xt(+o),h):n},h.cornerRadius=function(o){return arguments.length?(r=typeof o=="function"?o:xt(+o),h):r},h.padRadius=function(o){return arguments.length?(e=o==null?null:typeof o=="function"?o:xt(+o),h):e},h.startAngle=function(o){return arguments.length?(i=typeof o=="function"?o:xt(+o),h):i},h.endAngle=function(o){return arguments.length?(c=typeof o=="function"?o:xt(+o),h):c},h.padAngle=function(o){return arguments.length?(f=typeof o=="function"?o:xt(+o),h):f},h.context=function(o){return arguments.length?(s=o??null,h):s},h}function uo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function lo(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function so(t){return t}function co(){var t=so,n=lo,r=null,e=xt(0),i=xt(Vn),c=xt(0);function f(s){var d,h=(s=uo(s)).length,o,u,l=0,p=new Array(h),g=new Array(h),m=+e.apply(this,arguments),_=Math.min(Vn,Math.max(-Vn,i.apply(this,arguments)-m)),M,w=Math.min(Math.abs(_)/h,c.apply(this,arguments)),x=w*(_<0?-1:1),y;for(d=0;d<h;++d)(y=g[p[d]=d]=+t(s[d],d,s))>0&&(l+=y);for(n!=null?p.sort(function(R,A){return n(g[R],g[A])}):r!=null&&p.sort(function(R,A){return r(s[R],s[A])}),d=0,u=l?(_-h*x)/l:0;d<h;++d,m=M)o=p[d],y=g[o],M=m+(y>0?y*u:0)+x,g[o]={data:s[o],index:d,value:y,startAngle:m,endAngle:M,padAngle:w};return g}return f.value=function(s){return arguments.length?(t=typeof s=="function"?s:xt(+s),f):t},f.sortValues=function(s){return arguments.length?(n=s,r=null,f):n},f.sort=function(s){return arguments.length?(r=s,n=null,f):r},f.startAngle=function(s){return arguments.length?(e=typeof s=="function"?s:xt(+s),f):e},f.endAngle=function(s){return arguments.length?(i=typeof s=="function"?s:xt(+s),f):i},f.padAngle=function(s){return arguments.length?(c=typeof s=="function"?s:xt(+s),f):c},f}const fo=(t,n,r)=>{const e=t[n];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((i,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+n+(n.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};function ho(t){return t}function po(t){if(t==null)return ho;var n,r,e=t.scale[0],i=t.scale[1],c=t.translate[0],f=t.translate[1];return function(s,d){d||(n=r=0);var h=2,o=s.length,u=new Array(o);for(u[0]=(n+=s[0])*e+c,u[1]=(r+=s[1])*i+f;h<o;)u[h]=s[h],++h;return u}}function go(t,n){for(var r,e=t.length,i=e-n;i<--e;)r=t[i],t[i++]=t[e],t[e]=r}function vo(t,n){return typeof n=="string"&&(n=t.objects[n]),n.type==="GeometryCollection"?{type:"FeatureCollection",features:n.geometries.map(function(r){return gr(t,r)})}:gr(t,n)}function gr(t,n){var r=n.id,e=n.bbox,i=n.properties==null?{}:n.properties,c=Fr(t,n);return r==null&&e==null?{type:"Feature",properties:i,geometry:c}:e==null?{type:"Feature",id:r,properties:i,geometry:c}:{type:"Feature",id:r,bbox:e,properties:i,geometry:c}}function Fr(t,n){var r=po(t.transform),e=t.arcs;function i(o,u){u.length&&u.pop();for(var l=e[o<0?~o:o],p=0,g=l.length;p<g;++p)u.push(r(l[p],p));o<0&&go(u,g)}function c(o){return r(o)}function f(o){for(var u=[],l=0,p=o.length;l<p;++l)i(o[l],u);return u.length<2&&u.push(u[0]),u}function s(o){for(var u=f(o);u.length<4;)u.push(u[0]);return u}function d(o){return o.map(s)}function h(o){var u=o.type,l;switch(u){case"GeometryCollection":return{type:u,geometries:o.geometries.map(h)};case"Point":l=c(o.coordinates);break;case"MultiPoint":l=o.coordinates.map(c);break;case"LineString":l=f(o.arcs);break;case"MultiLineString":l=o.arcs.map(f);break;case"Polygon":l=d(o.arcs);break;case"MultiPolygon":l=o.arcs.map(d);break;default:return null}return{type:u,coordinates:l}}return h(n)}function mo(t,n){var r={},e={},i={},c=[],f=-1;n.forEach(function(h,o){var u=t.arcs[h<0?~h:h],l;u.length<3&&!u[1][0]&&!u[1][1]&&(l=n[++f],n[f]=h,n[o]=l)}),n.forEach(function(h){var o=s(h),u=o[0],l=o[1],p,g;if(p=i[u])if(delete i[p.end],p.push(h),p.end=l,g=e[l]){delete e[g.start];var m=g===p?p:p.concat(g);e[m.start=p.start]=i[m.end=g.end]=m}else e[p.start]=i[p.end]=p;else if(p=e[l])if(delete e[p.start],p.unshift(h),p.start=u,g=i[u]){delete i[g.end];var _=g===p?p:g.concat(p);e[_.start=g.start]=i[_.end=p.end]=_}else e[p.start]=i[p.end]=p;else p=[h],e[p.start=u]=i[p.end=l]=p});function s(h){var o=t.arcs[h<0?~h:h],u=o[0],l;return t.transform?(l=[0,0],o.forEach(function(p){l[0]+=p[0],l[1]+=p[1]})):l=o[o.length-1],h<0?[l,u]:[u,l]}function d(h,o){for(var u in h){var l=h[u];delete o[l.start],delete l.start,delete l.end,l.forEach(function(p){r[p<0?~p:p]=1}),c.push(l)}}return d(i,e),d(e,i),n.forEach(function(h){r[h<0?~h:h]||c.push([h])}),c}function dr(t){return Fr(t,_o.apply(this,arguments))}function _o(t,n,r){var e,i,c;if(arguments.length>1)e=yo(t,n,r);else for(i=0,e=new Array(c=t.arcs.length);i<c;++i)e[i]=i;return{type:"MultiLineString",arcs:mo(t,e)}}function yo(t,n,r){var e=[],i=[],c;function f(u){var l=u<0?~u:u;(i[l]||(i[l]=[])).push({i:u,g:c})}function s(u){u.forEach(f)}function d(u){u.forEach(s)}function h(u){u.forEach(d)}function o(u){switch(c=u,u.type){case"GeometryCollection":u.geometries.forEach(o);break;case"LineString":s(u.arcs);break;case"MultiLineString":case"Polygon":d(u.arcs);break;case"MultiPolygon":h(u.arcs);break}}return o(n),i.forEach(r==null?function(u){e.push(u[0].i)}:function(u){r(u[0].g,u[u.length-1].g)&&e.push(u[0].i)}),e}var Eo=(t,n,r)=>{n(t),r(t)},So=fn('<text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle">Loading...</text>'),Mo=fn('<path fill="none" stroke="#bbb" stroke-width="1px"></path>'),wo=fn('<path stroke="#000"></path>'),xo=fn('<path class="arc"></path>'),$o=fn('<g class="pies"></g>'),Po=fn('<g><path></path><!><path fill="none" stroke="#888"></path></g><g></g><g></g>',1),Ro=fn('<rect stroke="black" stroke-width="1" fill="rgba(255, 255, 255, 0.5)"></rect>'),Ao=Lt('<div class="d-flex align-items-center"><svg width="16" height="16" class="me-1"><rect width="16" height="16"></rect></svg> </div>'),To=Lt('<div class="position-absolute bottom-0 end-0 m-2 p-2 bg-black bg-opacity-75 text-white pe-none"><h5 class="visually-hidden">Legend</h5> <!></div>'),bo=Lt('<div class="position-absolute top-0 end-0 m-2"><button class="btn btn-secondary"><i class="bi bi-house"></i> <div class="visually-hidden">Reset zoom</div></button></div>'),No=Lt('<div class="px-2 fs-8 svelte-1blgeht"><svg width="16" height="16"><rect width="16" height="16"></rect></svg> </div>'),Lo=Lt('<div class="px-2 fs-8 svelte-1blgeht"><strong> </strong></div>'),Io=Lt('<h5 class="fs-7 mb-0 px-2 svelte-1blgeht"> </h5> <!> <!>',1),ko=Lt("<div> </div>"),Oo=Lt('<div><h5 class="fs-7 mb-0 svelte-1blgeht"> </h5> <!></div>'),jo=Lt('<div class="position-relative"><svg><!><!></svg> <!> <!> <!></div>');function Do(t,n){vr(n,!0);let r=it(null);Zn(()=>{n.map&&fo(Object.assign({"../topojson/nuts-1.json":()=>Dn(()=>import("../chunks/BGj-pI5n.js"),[]),"../topojson/nuts-2.json":()=>Dn(()=>import("../chunks/CpFZsRVk.js"),[]),"../topojson/nuts-3.json":()=>Dn(()=>import("../chunks/B34HR-o6.js"),[]),"../topojson/world-3.json":()=>Dn(()=>import("../chunks/43hnhKVC.js"),[])}),`../topojson/${n.map}.json`,3).then(E=>{C(r,E.default,!0)}).catch(E=>{console.error(`Error loading topology for ${n.map}:`,E)})});let e=ue(n,"id",3,"map"),i=ue(n,"lineData",19,()=>({})),c=ue(n,"nodeCoords",19,()=>({})),f;const s=7,d=40,h=1,o=8;let u=it(936),l=it(800),p=it(1),g=it(0),m=it(0),_=j(()=>{const E=new Set(Object.keys(n.pieData).concat(Object.keys(i()).flatMap(Y=>Y.split("-")))),T=Object.entries(c()).filter(([Y,B])=>E.has(Y));if(!c()||T.length==0)return{scale:1100,translateX:400,translateY:1500};if(T.length==1){const Y=ve().scale(800).translate([0,0]),B=Y(T[0][1]);return{scale:Y.scale(),translateX:a(u)/2-B[0],translateY:a(l)/2-B[1]}}const V={type:"FeatureCollection",features:T.map(([Y,B])=>({type:"Feature",geometry:{type:"Point",coordinates:B},properties:{}}))},X=1.5*d,H=ve().fitExtent([[X,X],[a(u)-X,a(l)-X]],V);return{scale:H.scale(),translateX:H.translate()[0],translateY:H.translate()[1]}}),M=j(()=>ve().translate([a(_).translateX*a(p)+a(g),a(_).translateY*a(p)+a(m)]).scale(a(_).scale*a(p))),w=j(()=>Di().projection(a(M)));const x=Cr(Vr()),y=co().sort(null).value(E=>E);let R=j(()=>a(r)?a(w)(vo(a(r),a(r).objects.land)):null),A=j(()=>a(r)?a(w)(dr(a(r),a(r).objects.countries,(E,T)=>E!==T)):null),I=j(()=>!a(r)||!("regions"in a(r).objects)?null:a(w)(dr(a(r),a(r).objects.regions,(E,T)=>E!==T))),b=ni().filter(N).on("zoom",k);_e(()=>{f&&ce(f).call(b).call(b.transform,fe)});function N(E){return E.button==0&&!(E.ctrlKey&&E.button===0)&&!(E.ctrlKey&&E.type!=="wheel")}function k(E){const{transform:T}=E;C(p,T.k,!0),C(g,T.x,!0),C(m,T.y,!0)}let $=it(!1),D=it(Tn([0,0])),S=it(Tn([0,0]));function P(E){E.button===0&&(C($,!0),C(D,Cn(E,f),!0),C(S,a(D),!0))}function v(E){a($)&&C(S,Cn(E,f),!0)}function L(E){if(!a($))return;C($,!1);const T=Cn(E,f),[V,X]=a(D),[H,Y]=T,B=Math.abs(V-H),tt=Math.abs(X-Y);if(B===0||tt===0)return;const wt=a(u)/B,gt=a(l)/tt,ot=Math.min(wt,gt),dt=Math.min(V,H)+B/2,Rt=Math.min(X,Y)+tt/2,Ct=(a(g)-dt)*ot+a(u)/2,At=(a(m)-Rt)*ot+a(l)/2,Ft=ce(f);b.transform(Ft,fe.translate(Ct,At).scale(a(p)*ot))}function G(){C($,!1)}function U(){C(p,1),C(g,0),C(m,0),ce(f).call(b.transform,fe)}let et=j(()=>Object.entries(n.pieData).map(([E,T])=>{const V=T.reduce((B,tt)=>B+tt.value,0),X=ao().innerRadius(0).outerRadius($t(V)),[H,Y]=a(M)(c()[E]||[0,0]);return{x:H,y:Y,label:E,total:V,data:y(T.map(B=>B.value)).map((B,tt)=>({color:x(T[tt].technology),arc:X(B),technology:T[tt].technology,value:B.data}))}})),St=j(()=>Object.entries(i()).map(([E,T])=>{const[V,X]=E.split("-"),H=T.reduce((Y,B)=>Math.max(Y,B.value),0);return{label:E,values:T,start:a(M)(c()[V]||[40,40]),end:a(M)(c()[X]||[40,40]),width:It(H)}})),st=j(()=>Object.values(n.pieData).reduce((E,T)=>{const V=T.map(X=>X.technology);return[...new Set([...E,...V])]},[])),ct=it(Tn([0,0])),Z=j(()=>pt(a(ct))),ft=j(()=>a(Z)?[]:J(a(ct))),ht=j(()=>a(Z)?a(Z).x:a(ft).length>0?.5*(a(ft)[0].start[0]+a(ft)[0].end[0]):0),O=j(()=>a(Z)?a(Z).y:a(ft).length>0?.5*(a(ft)[0].start[1]+a(ft)[0].end[1]):0),F=j(()=>a(Z)?$t(a(Z).total):0),q=j(()=>a(O)-a(F)>180);function K(E){C(ct,Cn(E),!0)}function pt(E){const[T,V]=E;return a(et).find(X=>{const H=T-X.x,Y=V-X.y;return Math.sqrt(H*H+Y*Y)<$t(X.total)})}function J(E){const[T,V]=E;return a(St).filter(X=>{let[H,Y]=X.start,[B,tt]=X.end;const wt=T-H,gt=V-Y,ot=B-H,dt=tt-Y,Rt=wt*ot+gt*dt,Ct=Math.pow(ot,2)+Math.pow(dt,2);return Rt<0||Rt>Ct||Ct<1e-10?!1:4*(Math.pow(wt,2)+Math.pow(gt,2)-Math.pow(Rt,2)/Ct)<Math.pow(o,2)})}_e(rt);function rt(){const{width:E,height:T}=f.parentElement.getBoundingClientRect();C(u,E,!0),C(l,T,!0)}function $t(E){return n.maxTotal==n.minTotal?d:s+(E-n.minTotal)/(n.maxTotal-n.minTotal)*(d-s)}function It(E){return n.maxEdge==n.minEdge?o:h+(E-n.minEdge)/(n.maxEdge-n.minEdge)*(o-h)}function Dt(E,T){const[V,X]=E,[H,Y]=T;return`M${V},${X} L${H},${Y}`}var ee={resetZoom:U},Ut=jo();Xe("resize",Yr,rt);var Mt=Et(Ut);Mt.__mousemove=[Eo,K,v],Mt.__mousedown=P,Mt.__mouseup=L,Ye(Mt,"",{},{background:"#fff"});var pn=Et(Mt);{var Jt=E=>{var T=So();Q(E,T)},tn=E=>{var T=Po(),V=Vt(T),X=Et(V);Ye(X,"",{},{fill:"#e0e0e0"});var H=at(X);{var Y=gt=>{var ot=Mo();kt(()=>_t(ot,"d",a(I))),Q(gt,ot)};bt(H,gt=>{a(I)!=null&&gt(Y)})}var B=at(H);mt(V);var tt=at(V);on(tt,21,()=>a(St),an,(gt,ot)=>{var dt=wo();kt(Rt=>{_t(dt,"d",Rt),_t(dt,"stroke-width",a(ot).width)},[()=>Dt(a(ot).start,a(ot).end)]),Q(gt,dt)}),mt(tt);var wt=at(tt);on(wt,21,()=>a(et),an,(gt,ot)=>{var dt=$o();on(dt,21,()=>a(ot).data,an,(Rt,Ct)=>{var At=xo();kt(()=>{_t(At,"d",a(Ct).arc),_t(At,"fill",a(Ct).color)}),Q(Rt,At)}),mt(dt),kt(()=>_t(dt,"transform",`translate(${a(ot).x}, ${a(ot).y})`)),Q(gt,dt)}),mt(wt),kt(()=>{_t(X,"d",a(R)),_t(B,"d",a(A)),_t(B,"stroke-width",a(I)==null?"1px":"2px")}),Q(E,T)};bt(pn,E=>{a(r)?E(tn,!1):E(Jt)})}var En=at(pn);{var Sn=E=>{var T=Ro();kt((V,X,H,Y)=>{_t(T,"x",V),_t(T,"y",X),_t(T,"width",H),_t(T,"height",Y)},[()=>Math.min(a(D)[0],a(S)[0]),()=>Math.min(a(D)[1],a(S)[1]),()=>Math.abs(a(D)[0]-a(S)[0]),()=>Math.abs(a(D)[1]-a(S)[1])]),Q(E,T)};bt(En,E=>{a($)&&E(Sn)})}mt(Mt),_r(Mt,E=>f=E,()=>f);var Kt=at(Mt,2);{var Pt=E=>{var T=To(),V=at(Et(T),2);on(V,17,()=>a(st),an,(X,H)=>{var Y=Ao(),B=Et(Y),tt=Et(B);mt(B);var wt=at(B);mt(Y),kt(gt=>{_t(tt,"fill",gt),gn(wt,` ${a(H)??""}`)},[()=>x(a(H))]),Q(X,Y)}),mt(T),Q(E,T)};bt(Kt,E=>{a(st).length>0&&E(Pt)})}var Yt=at(Kt,2);{var Xt=E=>{var T=bo(),V=Et(T);V.__click=U,mt(T),Q(E,T)};bt(Yt,E=>{a(r)&&E(Xt)})}var nn=at(Yt,2);{var en=E=>{ei(E,{get x(){return a(ht)},get y(){return a(O)},get yOffset(){return a(F)},get isOnTop(){return a(q)},content:V=>{var X=ae(),H=Vt(X);{var Y=tt=>{var wt=Io(),gt=Vt(wt),ot=Et(gt,!0);mt(gt);var dt=at(gt,2);on(dt,17,()=>a(Z).data,an,(At,Ft)=>{var Qt=No(),Zt=Et(Qt),rn=Et(Zt);mt(Zt);var re=at(Zt);mt(Qt),kt(ie=>{_t(rn,"fill",a(Ft).color),gn(re,` ${a(Ft).technology??""}: ${ie??""}
							${n.unit??""}`)},[()=>a(Ft).value.toFixed(3)]),Q(At,Qt)});var Rt=at(dt,2);{var Ct=At=>{var Ft=Lo(),Qt=Et(Ft),Zt=Et(Qt);mt(Qt),mt(Ft),kt(rn=>gn(Zt,`Total: ${rn??""} ${n.unit??""}`),[()=>a(Z).total.toFixed(3)]),Q(At,Ft)};bt(Rt,At=>{a(Z).data.length>1&&At(Ct)})}kt(()=>gn(ot,a(Z).label)),Q(tt,wt)},B=tt=>{var wt=ae(),gt=Vt(wt);{var ot=dt=>{var Rt=ae(),Ct=Vt(Rt);on(Ct,17,()=>a(ft),an,(At,Ft,Qt)=>{var Zt=Oo();Qr(Zt,1,Jr(["px-2 fs-8",Qt>0&&"border-top border-secondary mt-1 pt-1"]),"svelte-1blgeht");var rn=Et(Zt),re=Et(rn,!0);mt(rn);var ie=at(rn,2);on(ie,17,()=>a(Ft).values,an,(zr,Fe)=>{var oe=ko(),qr=Et(oe);mt(oe),kt(Xr=>gn(qr,`${a(Fe).technology??""}: ${Xr??""}
									${n.unit??""}`),[()=>a(Fe).value.toFixed(3)]),Q(zr,oe)}),mt(Zt),kt(()=>gn(re,a(Ft).label)),Q(At,Zt)}),Q(dt,Rt)};bt(gt,dt=>{a(ft).length>0&&dt(ot)},!0)}Q(tt,wt)};bt(H,tt=>{a(Z)?tt(Y):tt(B,!1)})}Q(V,X)},$$slots:{content:!0}})};bt(nn,E=>{(a(Z)||a(ft).length>0)&&E(en)})}return mt(Ut),kt(()=>{_t(Mt,"width",a(u)),_t(Mt,"height",a(l)),_t(Mt,"id",e())}),Xe("mouseleave",Mt,()=>{G(),C(ct,[0,0],!0)}),Q(t,Ut),mr(ee)}ti(["mousemove","mousedown","mouseup","click"]);const Co=[{label:"Countries",value:"world-3"},{label:"NUTS 1 (only Europe)",value:"nuts-1"},{label:"NUTS 2 (only Europe)",value:"nuts-2"},{label:"NUTS 3 (only Europe)",value:"nuts-3"}];var Fo=Lt("<!> <!> <!>",1),zo=Lt("<!> <!>",1),qo=Lt("<!> <!>",1),Xo=Lt("<!> <!>",1),Yo=Lt('<h1 class="mt-2 mb-4">The Map</h1> <!> <div class="my-4 border rounded overflow-hidden"><!></div>',1);function ra(t,n){vr(n,!0);let r=it(void 0),e=it(null),i=it(Tn([])),c=["conversion","storage"];const f=["energy","power"],s=Co;let d=it(null),h=it("conversion"),o=it("energy"),u=it(null),l=it(null),p=it("world-3"),g=it(!1),m=it(!1),_=it(Tn({})),M=j(()=>{const O=a(h)=="storage"?a(o):"power";return a(_)[a(y)[0]+"_"+O]||""}),w=j(()=>a(d)==null?{}:Object.entries(a(d).detail.system.coords).reduce((O,[F,{lat:q,lon:K}])=>({...O,[F]:[K,q]}),{}));Zn(()=>{a(i),ze(()=>{a(i).length>0&&(a(l)==null||!a(i).includes(parseInt(a(l))))&&C(l,a(i)[0].toString(),!0)})});let x=j(()=>{if(!a(e)||!a(d)||!a(h))return[];const O=a(R).concat(a(d).detail.system.set_transport_technologies);return Hr(a(e).data.map(F=>{const q=F.technology;return O.includes(q)?a(d).detail.reference_carrier[q]:null}).filter(F=>F!=null))});Zn(()=>{a(x),ze(()=>{a(x).length>0&&(a(u)==null||!a(x).includes(a(u)))&&C(u,a(x)[0],!0)})});let y=j(()=>!a(d)||!a(h)?[]:a(R).filter(O=>a(d).detail.reference_carrier[O]==a(u))),R=j(()=>{if(!a(d)||!a(h))return[];let O={conversion:"set_conversion_technologies",storage:"set_storage_technologies",transport:"set_transport_technologies"}[a(h)];return O?a(d).detail.system[O]||[]:[]});_e(()=>{C(h,se("tech")||a(h),!0),C(o,se("stor")||a(o),!0),C(u,se("car")||a(u),!0)}),Zn(()=>{a(h),a(o),a(u),Zr().then(()=>{Kr({tech:a(h),stor:a(h)==="storage"?a(o):null,car:a(u)})})});async function A(){await I(),a(r)?.resetZoom()}async function I(){if(!a(d))return;C(m,!0),C(e,null);const O=await Wr(a(d).solution_name,["capacity"],a(d).scenario_name);C(e,O.capacity,!0),O.unit?.data&&C(_,Object.fromEntries(O.unit.data.map(F=>[F.technology+"_"+F.capacity_type,F[0]||F.units])),!0),C(m,!1)}function b(O,F=null){return!a(e)||!a(d)||!a(h)||!a(u)?null:a(e).data.reduce((q,K)=>{const{technology:pt,capacity_type:J,location:rt}=K;if(!O.includes(pt)||F&&F!==J)return q;const $t=Object.entries(K).filter(([It,Dt])=>!isNaN(parseInt(It))).map(([It,Dt])=>parseFloat(Dt));return $t.length===0||(q[rt]=q[rt]||[],q[rt].push({technology:pt,years:$t})),q},{})}let N=j(()=>!a(e)||!a(h)?null:b(a(y),a(h)=="storage"?a(o):null)),k=j(()=>{if(!a(d))return null;const O=a(d).detail.system.set_transport_technologies.filter(F=>a(d).detail.reference_carrier[F]==a(u));return b(O)}),$=j(()=>{if(!a(N)||a(l)==null)return null;const O=a(i).findIndex(q=>q.toString()===a(l)),F=Object.entries(a(N)).map(([q,K])=>{const pt=K.map(J=>({technology:J.technology,value:J.years[O]})).filter(J=>J.value>1e-6);return[q,pt]}).filter(([q,K])=>K.length>0);return Object.fromEntries(F)}),D=j(()=>{if(!a(k)||a(l)==null)return null;const O=a(i).findIndex(q=>q.toString()===a(l)),F=Object.entries(a(k)).map(([q,K])=>[q,K.map(pt=>({technology:pt.technology,value:pt.years[O]}))]);return Object.fromEntries(F)}),S=j(()=>a(N)?Object.values(a(N)).reduce(([O,F],q)=>{const K=q.reduce((J,{years:rt})=>J?J.map(($t,It)=>$t+(rt[It]||0)):[...rt],null);if(K==null)return[O,F];const pt=K.reduce((J,rt)=>Math.max(J,rt),0);return[Math.min(O,pt),Math.max(F,pt)]},[Number.MAX_SAFE_INTEGER,0]):[0,0]),P=j(()=>qe(a(S),2)),v=j(()=>a(P)[0]),L=j(()=>a(P)[1]),G=j(()=>a(k)?Object.values(a(k)).reduce(([O,F],q)=>{const K=q.reduce((J,{years:rt})=>J?J.map(($t,It)=>Math.max($t,rt[It]||0)):[...rt],null);if(K==null)return[O,F];const pt=K.reduce((J,rt)=>Math.max(J,rt),0);return[Math.min(O,pt),Math.max(F,pt)]},[Number.MAX_SAFE_INTEGER,0]):[0,0]),U=j(()=>qe(a(G),2)),et=j(()=>a(U)[0]),St=j(()=>a(U)[1]);var st=Yo(),ct=at(Vt(st),2);Br(ct,{children:(O,F)=>{var q=Xo(),K=Vt(q);le(K,{title:"Solution Selection",children:(rt,$t)=>{{let It=j(()=>a(m)||a(g));Ur(rt,{solutionSelected:A,get disabled(){return a(It)},get years(){return a(i)},set years(Dt){C(i,Dt,!0)},get selected_solution(){return a(d)},set selected_solution(Dt){C(d,Dt,!0)},get loading(){return a(g)},set loading(Dt){C(g,Dt,!0)}})}}});var pt=at(K,2);{var J=rt=>{var $t=qo(),It=Vt($t);le(It,{title:"Variable Selection",children:(Ut,Mt)=>{var pn=Fo(),Jt=Vt(pn);wn(Jt,{label:"Technology Type",content:(Yt,Xt=Mn)=>{{let nn=j(()=>jn(c)),en=j(()=>a(m)||a(g));On(Yt,{get formId(){return Xt()},get options(){return a(nn)},get disabled(){return a(en)},get value(){return a(h)},set value(E){C(h,E,!0)}})}}});var tn=at(Jt,2);{var En=Pt=>{wn(Pt,{label:"Storage Type",content:(Xt,nn=Mn)=>{{let en=j(()=>jn(f)),E=j(()=>a(m)||a(g));Gr(Xt,{get formId(){return nn()},get options(){return a(en)},get disabled(){return a(E)},get value(){return a(o)},set value(T){C(o,T,!0)}})}}})};bt(tn,Pt=>{a(h)=="storage"&&Pt(En)})}var Sn=at(tn,2);{var Kt=Pt=>{wn(Pt,{label:"Carrier",content:(Xt,nn=Mn)=>{{let en=j(()=>jn(a(x))),E=j(()=>a(m)||a(g));On(Xt,{get formId(){return nn()},get options(){return a(en)},get disabled(){return a(E)},get value(){return a(u)},set value(T){C(u,T,!0)}})}}})};bt(Sn,Pt=>{a(h)!=null&&a(x).length>0&&Pt(Kt)})}Q(Ut,pn)}});var Dt=at(It,2);{var ee=Ut=>{le(Ut,{title:"Data Selection",children:(Mt,pn)=>{var Jt=zo(),tn=Vt(Jt);wn(tn,{label:"Year",content:(Kt,Pt=Mn)=>{{let Yt=j(()=>jn(a(i).map(Xt=>Xt.toString())));On(Kt,{get formId(){return Pt()},get options(){return a(Yt)},get value(){return a(l)},set value(Xt){C(l,Xt,!0)}})}}});var En=at(tn,2);wn(En,{label:"Map",content:(Kt,Pt=Mn)=>{On(Kt,{get formId(){return Pt()},get options(){return s},get value(){return a(p)},set value(Yt){C(p,Yt,!0)}})}}),Q(Mt,Jt)}})};bt(Dt,Ut=>{a(e)&&a(h)&&a(u)&&Ut(ee)})}Q(rt,$t)};bt(pt,rt=>{!a(g)&&a(d)&&rt(J)})}Q(O,q)}});var Z=at(ct,2),ft=Et(Z);{var ht=O=>{_r(Do(O,{get pieData(){return a($)},get lineData(){return a(D)},get minTotal(){return a(v)},get maxTotal(){return a(L)},get minEdge(){return a(et)},get maxEdge(){return a(St)},get nodeCoords(){return a(w)},get unit(){return a(M)},get map(){return a(p)}}),F=>C(r,F,!0),()=>a(r))};bt(ft,O=>{a($)&&a(D)&&O(ht)})}mt(Z),Q(t,st),mr()}export{ra as component};
