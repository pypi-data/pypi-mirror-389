Metadata-Version: 2.4
Name: automate-youtube-summarize
Version: 0.2.10
Summary: YouTube ì˜ìƒ ëŒ€ë³¸ ì¶”ì¶œ, AI ìš”ì•½, Airtable ì €ì¥ ë° í…”ë ˆê·¸ë¨ ë´‡ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ìë™í™” ë„êµ¬
Project-URL: Homepage, https://github.com/hakunamta00700/automate
Project-URL: Repository, https://github.com/hakunamta00700/automate
Project-URL: Issues, https://github.com/hakunamta00700/automate/issues
Author-email: David Cho <csi00700@gmail.com>
License: MIT
Keywords: ai,airtable,automation,bot,gemini,openai,summarization,telegram,transcript,youtube
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Communications :: Chat
Classifier: Topic :: Internet :: WWW/HTTP :: Dynamic Content
Classifier: Topic :: Multimedia :: Video
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.12
Requires-Dist: aiohttp>=3.9.3
Requires-Dist: bs4>=0.0.2
Requires-Dist: click>=8.1.8
Requires-Dist: fastapi>=0.115.12
Requires-Dist: google-genai>=1.14.0
Requires-Dist: hypercorn>=0.17.3
Requires-Dist: loguru>=0.7.3
Requires-Dist: openai>=1.78.0
Requires-Dist: pyairtable>=3.1.1
Requires-Dist: python-dotenv>=1.1.0
Requires-Dist: python-telegram-bot[ext]>=22.0
Requires-Dist: pyzmq>=26.4.0
Requires-Dist: tqdm>=4.67.1
Requires-Dist: uv-easy>=0.2.5
Requires-Dist: youtube-transcript-api==1.2.3
Provides-Extra: dev
Requires-Dist: autoflake>=2.3.1; extra == 'dev'
Requires-Dist: autopep8>=2.3.2; extra == 'dev'
Requires-Dist: black>=25.1.0; extra == 'dev'
Requires-Dist: isort>=6.0.1; extra == 'dev'
Description-Content-Type: text/markdown

# Automate

YouTube ì˜ìƒ ëŒ€ë³¸ ì¶”ì¶œ, ìš”ì•½, ì €ì¥ ë° í…”ë ˆê·¸ë¨ ë´‡ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ìë™í™” ë„êµ¬ì…ë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥

- ğŸ¬ **YouTube ëŒ€ë³¸ ì¶”ì¶œ**: YouTube ì˜ìƒì˜ ìë§‰ì„ ë‹¤ì–‘í•œ ì–¸ì–´ë¡œ ì¶”ì¶œ
- ğŸ“ **AI ìš”ì•½**: Gemini APIë¥¼ ì‚¬ìš©í•œ ì˜ìƒ ëŒ€ë³¸ ìš”ì•½
- ğŸ’¾ **Airtable ì €ì¥**: ìš”ì•½ëœ ë‚´ìš©ì„ Airtableì— ìë™ ì €ì¥
- ğŸ¤– **í…”ë ˆê·¸ë¨ ë´‡**: í…”ë ˆê·¸ë¨ì„ í†µí•œ YouTube ì˜ìƒ ìš”ì•½ ë° ì‡¼ì¸  ì²˜ë¦¬
- ğŸš€ **FastAPI ì„œë²„**: ì›¹í›…ì„ í†µí•œ í…”ë ˆê·¸ë¨ ë´‡ ì„œë¹„ìŠ¤
- ğŸ”„ **GitHub Workflow ì—°ë™**: GitHub Actionsë¥¼ í†µí•œ ì›ê²© ì‘ì—… ì²˜ë¦¬

## ìš”êµ¬ì‚¬í•­

- Python >= 3.12
- uv (íŒ¨í‚¤ì§€ ê´€ë¦¬ì)

## ì„¤ì¹˜

### 1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone <repository-url>
cd automate
```

### 2. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
# uvë¥¼ ì‚¬ìš©í•œ ì„¤ì¹˜
uv pip install -e .

# ë˜ëŠ” ê°œë°œ ì˜ì¡´ì„± í¬í•¨
uv pip install -e ".[dev]"
```

## í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•˜ì„¸ìš”:

### í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜

```env
# OpenAI API (í•„ìš”í•œ ê²½ìš°)
OPENAI_API_KEY=your_openai_api_key

# Airtable ì„¤ì •
AIRTABLE_API_KEY=your_airtable_api_key
AIRTABLE_BASE_NAME=your_base_name
AIRTABLE_TABLE_NAME=your_table_name

# í…”ë ˆê·¸ë¨ ë´‡ ì„¤ì •
BOT_TOKEN=your_telegram_bot_token
CHANNEL_CHAT_ID=your_channel_chat_id

# ì›¹í›… ì„¤ì • (FastAPI ì„œë²„ ì‚¬ìš© ì‹œ)
WEBHOOK_DOMAIN=your_webhook_domain
WEBHOOK_PATH=/webhook
```

### ì„ íƒì  í™˜ê²½ ë³€ìˆ˜

```env
# Google Gemini API (ìš”ì•½ ê¸°ëŠ¥ ì‚¬ìš© ì‹œ)
GOOGLE_API_KEY=your_google_api_key

# LLM ëª¨ë¸ ì„ íƒ (ê¸°ë³¸ê°’: "gemini")
TARGET_LLM_MODEL=gemini

# GitHub Workflow (dispatch ê¸°ëŠ¥ ì‚¬ìš© ì‹œ)
GITHUB_TOKEN=your_github_token
GITHUB_OWNER=your_github_username
GITHUB_REPO=your_repository_name
```

## ì‚¬ìš©ë²•

### CLI ëª…ë ¹ì–´

#### 1. ë¹„ë””ì˜¤ IDë¡œ ì „ì‚¬ ë° ìš”ì•½

```bash
automate transcribe --video-id <VIDEO_ID> --language ko
```

**ì˜µì…˜:**
- `--video-id`: YouTube ë¹„ë””ì˜¤ ID (í•„ìˆ˜)
- `--language`: ìë§‰ ì–¸ì–´ ì½”ë“œ (ê¸°ë³¸ê°’: `ko`)

**ì§€ì› ì–¸ì–´:**
- `ko`: í•œêµ­ì–´
- `en`: ì˜ì–´
- `ja`: ì¼ë³¸ì–´
- `zh-Hans`: ì¤‘êµ­ì–´(ê°„ì²´)
- `zh-Hant`: ì¤‘êµ­ì–´(ë²ˆì²´)
- ê¸°íƒ€ YouTubeì—ì„œ ì§€ì›í•˜ëŠ” ì–¸ì–´ ì½”ë“œ

#### 2. URLë¡œ ì „ì‚¬ ë° ìš”ì•½

```bash
automate transcribe-from-url "https://www.youtube.com/watch?v=VIDEO_ID"
```

#### 3. URLì—ì„œ ë¹„ë””ì˜¤ ID ì¶”ì¶œ

```bash
automate get-video-id-from-url "https://www.youtube.com/watch?v=VIDEO_ID"
```

#### 4. FastAPI ì„œë²„ ì‹¤í–‰

```bash
# ê°œë°œ í™˜ê²½ (ê¸°ë³¸ê°’)
automate serve dev

# ìš´ì˜ í™˜ê²½
automate serve prod
```

**í™˜ê²½ë³„ ì°¨ì´:**
- `dev`: ë””ë²„ê·¸ ëª¨ë“œ, ìì„¸í•œ ë¡œê¹…, ë¦¬ë¡œë” í™œì„±í™”
- `prod`: ìµœì í™”ëœ ì„±ëŠ¥, ë©€í‹°í”„ë¡œì„¸ìŠ¤ ì›Œì»¤

#### 5. í…”ë ˆê·¸ë¨ í’€ë§ ë´‡ ì‹¤í–‰

```bash
automate telegram-bot
```

í…”ë ˆê·¸ë¨ ë©”ì‹œì§€ë¥¼ ìˆ˜ì‹ í•˜ì—¬ YouTube ì˜ìƒ ìš”ì•½ ë° ì‡¼ì¸  ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì˜¤ë¥˜ ë°œìƒ ì‹œ ìë™ìœ¼ë¡œ ì¬ì‹œì‘ë©ë‹ˆë‹¤.

**ì‚¬ìš© ë°©ë²•:**
- `ìš”ì•½|<YouTube URL>`: ì˜ìƒ ìš”ì•½ ìš”ì²­
- `ì‡¼ì¸ |<URL>`: ì‡¼ì¸  ëŒ€ë³¸ ìƒì„± ìš”ì²­

#### 6. GitHub Workflow Dispatch

```bash
automate dispatch "https://www.youtube.com/watch?v=VIDEO_ID"
```

GitHub Actionsì˜ workflowë¥¼ íŠ¸ë¦¬ê±°í•˜ì—¬ ì›ê²©ì—ì„œ ë¹„ë””ì˜¤ ì „ì‚¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

**í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜:**
- `GITHUB_TOKEN`
- `GITHUB_OWNER`
- `GITHUB_REPO`

#### 7. í…”ë ˆê·¸ë¨ ë©”ì‹œì§€ ì „ì†¡

```bash
automate send-telegram "ë©”ì‹œì§€ ë‚´ìš©"
```

ì„¤ì •ëœ í…”ë ˆê·¸ë¨ ì±„ë„ì— ë©”ì‹œì§€ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.

#### 8. ëŒ€ë³¸ ì¶”ì¶œ ìŠ¤í¬ë¦½íŠ¸ (ì§ì ‘ ì‹¤í–‰)

```bash
python -m automate.scripts.get_transcript "https://www.youtube.com/watch?v=VIDEO_ID"
```

YouTube ì˜ìƒì˜ ëŒ€ë³¸ì„ ì‹œê°„ í¬ë§·ì„ í¬í•¨í•˜ì—¬ ì¶”ì¶œí•˜ê³  `transcript.txt` íŒŒì¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.

### Python ëª¨ë“ˆë¡œ ì‚¬ìš©

```python
import asyncio
from automate.services.youtube import process_video, extract_video_id, get_transcript
from automate.services.summary import summarize
from automate.services.airtable import save_to_airtable

# ë¹„ë””ì˜¤ ID ì¶”ì¶œ
video_id = extract_video_id("https://www.youtube.com/watch?v=VIDEO_ID")

# ë¹„ë””ì˜¤ ì²˜ë¦¬ (ëŒ€ë³¸ ì¶”ì¶œ, ìš”ì•½, Airtable ì €ì¥)
async def main():
    summary = await process_video(video_id, language="ko")
    print(summary)

asyncio.run(main())
```

**ì£¼ìš” ëª¨ë“ˆ:**
- `automate.services.youtube`: YouTube ëŒ€ë³¸ ì¶”ì¶œ ë° ì²˜ë¦¬
  - `extract_video_id`: YouTube URLì—ì„œ ë¹„ë””ì˜¤ ID ì¶”ì¶œ
  - `get_transcript`: ëŒ€ë³¸ ì¶”ì¶œ
  - `get_youtube_metadata`: ë¹„ë””ì˜¤ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
  - `process_video`: ì „ì²´ ì²˜ë¦¬ (ëŒ€ë³¸ ì¶”ì¶œ, ìš”ì•½, ì €ì¥)
- `automate.services.summary`: AI ìš”ì•½ ê¸°ëŠ¥ (Gemini API)
  - `summarize`: ëŒ€ë³¸ ìš”ì•½ ìƒì„±
  - `format_transcript`: ëŒ€ë³¸ í¬ë§·íŒ…
- `automate.services.airtable`: Airtable ì—°ë™
  - `save_to_airtable`: Airtableì— ë°ì´í„° ì €ì¥
- `automate.services.telegram`: í…”ë ˆê·¸ë¨ ë´‡ ë° ë©”ì‹œì§€ ì „ì†¡
  - `run_with_restart`: í’€ë§ ë´‡ ì‹¤í–‰
  - `send_message`: ë©”ì‹œì§€ ì „ì†¡
  - `create_app`: FastAPI ì›¹í›… ì•± ìƒì„±
- `automate.utils`: ê³µí†µ ìœ í‹¸ë¦¬í‹°
  - `to_async`: ë™ê¸° í•¨ìˆ˜ë¥¼ ë¹„ë™ê¸°ë¡œ ë³€í™˜í•˜ëŠ” ë°ì½”ë ˆì´í„°
  - `extract_video_id`: YouTube URL ì¶”ì¶œ ìœ í‹¸ë¦¬í‹°
  - `format_transcript_with_timestamps`: íƒ€ì„ìŠ¤íƒ¬í”„ í¬í•¨ ëŒ€ë³¸ í¬ë§·íŒ…
- `automate.core`: ì„¤ì • ë° ìƒìˆ˜
  - `Settings`: í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ê´€ë¦¬
  - `get_settings`: ì„¤ì • ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
automate/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ automate/
â”‚       â”œâ”€â”€ __init__.py              # íŒ¨í‚¤ì§€ ì§„ì…ì 
â”‚       â”œâ”€â”€ cli/                      # CLI ëª¨ë“ˆ
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ main.py               # CLI ì§„ì…ì 
â”‚       â”‚   â”œâ”€â”€ utils.py              # CLI ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚       â”‚   â””â”€â”€ commands/             # ëª…ë ¹ì–´ë³„ ë¶„ë¦¬
â”‚       â”‚       â”œâ”€â”€ transcribe.py     # ì „ì‚¬ ëª…ë ¹ì–´
â”‚       â”‚       â”œâ”€â”€ telegram.py       # í…”ë ˆê·¸ë¨ ëª…ë ¹ì–´
â”‚       â”‚       â”œâ”€â”€ dispatch.py       # GitHub workflow dispatch
â”‚       â”‚       â””â”€â”€ serve.py          # ì„œë²„ ì‹¤í–‰
â”‚       â”œâ”€â”€ core/                      # ì„¤ì • ë° ìƒìˆ˜
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ config.py              # í™˜ê²½ ë³€ìˆ˜ í†µí•© ê´€ë¦¬
â”‚       â”‚   â””â”€â”€ constants.py          # ìƒìˆ˜ ì •ì˜
â”‚       â”œâ”€â”€ services/                  # ì„œë¹„ìŠ¤ ë ˆì´ì–´
â”‚       â”‚   â”œâ”€â”€ youtube/               # YouTube ì„œë¹„ìŠ¤
â”‚       â”‚   â”‚   â”œâ”€â”€ extractor.py       # ë¹„ë””ì˜¤ ID ì¶”ì¶œ
â”‚       â”‚   â”‚   â”œâ”€â”€ transcript.py      # ëŒ€ë³¸ ì¶”ì¶œ
â”‚       â”‚   â”‚   â”œâ”€â”€ metadata.py        # ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
â”‚       â”‚   â”‚   â””â”€â”€ processor.py       # ë¹„ë””ì˜¤ ì²˜ë¦¬
â”‚       â”‚   â”œâ”€â”€ airtable/              # Airtable ì„œë¹„ìŠ¤
â”‚       â”‚   â”‚   â”œâ”€â”€ client.py          # Airtable í´ë¼ì´ì–¸íŠ¸
â”‚       â”‚   â”‚   â””â”€â”€ repository.py      # ë°ì´í„° ì €ì¥
â”‚       â”‚   â”œâ”€â”€ summary/               # ìš”ì•½ ì„œë¹„ìŠ¤
â”‚       â”‚   â”‚   â”œâ”€â”€ formatter.py       # ëŒ€ë³¸ í¬ë§·íŒ…
â”‚       â”‚   â”‚   â”œâ”€â”€ generator.py      # AI ìš”ì•½ ìƒì„±
â”‚       â”‚   â”‚   â””â”€â”€ prompt.py          # í”„ë¡¬í”„íŠ¸ ê´€ë¦¬
â”‚       â”‚   â””â”€â”€ telegram/              # í…”ë ˆê·¸ë¨ ì„œë¹„ìŠ¤
â”‚       â”‚       â”œâ”€â”€ bot.py             # í’€ë§ ë´‡
â”‚       â”‚       â”œâ”€â”€ sender.py          # ë©”ì‹œì§€ ì „ì†¡
â”‚       â”‚       â””â”€â”€ webhook.py         # FastAPI ì›¹í›…
â”‚       â”œâ”€â”€ utils/                     # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ async_utils.py         # ë¹„ë™ê¸° ìœ í‹¸ë¦¬í‹°
â”‚       â”‚   â”œâ”€â”€ youtube_utils.py       # YouTube ìœ í‹¸ë¦¬í‹°
â”‚       â”‚   â””â”€â”€ transcript_utils.py    # ëŒ€ë³¸ í¬ë§·íŒ… ìœ í‹¸ë¦¬í‹°
â”‚       â””â”€â”€ scripts/                   # ë…ë¦½ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”‚           â””â”€â”€ get_transcript.py      # ëŒ€ë³¸ ì¶”ì¶œ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ pyproject.toml                     # í”„ë¡œì íŠ¸ ì„¤ì •
â””â”€â”€ README.md                          # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

## ì£¼ì˜ì‚¬í•­

### í™˜ê²½ ë³€ìˆ˜ í•„ìˆ˜ ì—¬ë¶€

ì¼ë¶€ CLI ëª…ë ¹ì–´ëŠ” íŠ¹ì • í™˜ê²½ ë³€ìˆ˜ê°€ í•„ìˆ˜ì…ë‹ˆë‹¤:
- `transcribe`, `transcribe-from-url`: ëª¨ë“  í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ í•„ìš”
- `telegram-bot`: `BOT_TOKEN`, `CHANNEL_CHAT_ID` í•„ìš”
- `dispatch`: `GITHUB_TOKEN`, `GITHUB_OWNER`, `GITHUB_REPO` í•„ìš”
- `send-telegram`: `BOT_TOKEN` í•„ìš”
- `serve`: `BOT_TOKEN`, `WEBHOOK_DOMAIN`, `WEBHOOK_PATH` í•„ìš”

### ë¹„ë™ê¸° í•¨ìˆ˜ ì‚¬ìš©

ëŒ€ë¶€ë¶„ì˜ í•¨ìˆ˜ëŠ” ë¹„ë™ê¸°(`async`)ë¡œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. Python ëª¨ë“ˆë¡œ ì‚¬ìš©í•  ë•ŒëŠ” `asyncio.run()` ë˜ëŠ” `await`ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

## ê°œë°œ

### ê°œë°œ ì˜ì¡´ì„± ì„¤ì¹˜

```bash
uv pip install -e ".[dev]"
```

### ì½”ë“œ í¬ë§·íŒ…

```bash
# Blackìœ¼ë¡œ í¬ë§·íŒ…
black src/

# isortë¡œ import ì •ë ¬
isort src/

# autoflakeë¡œ ë¯¸ì‚¬ìš© import ì œê±°
autoflake --in-place --remove-all-unused-imports --recursive src/
```

## ë¼ì´ì„ ìŠ¤

Private project

## ì‘ì„±ì

David Cho (csi00700@gmail.com)

