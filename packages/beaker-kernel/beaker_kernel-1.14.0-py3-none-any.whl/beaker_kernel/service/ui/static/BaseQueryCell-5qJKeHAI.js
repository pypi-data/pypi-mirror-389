import{s as R,r as a,i,f as S,n as f,y as _}from"./primevue-BhybIXDC.js";const C=l=>{const e=R(l.cell),n=a(e.value.source===""),v=a(100),r=a(e.value.source),s=a(""),u=a(),c=i("session"),d=i("beakerSession"),x=_(),b=S(()=>[...l.cell.events]);function g(){const t=x?.root?.props?.config,y=t?t.extra?.send_notebook_state:void 0;e.value.source=r.value,n.value=!1,f(()=>{l.cell.execute(c,y).registerMessageHook(o=>{o.header?.msg_type==="stream"&&o.content?.name==="stderr"&&o.content?.text==="Request interrupted."&&(e.value.last_execution={status:"abort"},e.value.events.push({type:"abort",content:"Request interrupted."}),o.cell=e.value)})})}function k(t){n.value||(n.value=!0),t==="start"?t=0:t==="end"&&(t=u.value?.$el?.value.length||-1),f(()=>{u.value?.$el?.focus(),u.value.$el.setSelectionRange(t,t)})}function m(){r.value===e.value.source?n.value=!1:u.value?.$el?.blur()}function p(){e.value.source="",n.value=!0,v.value=100,r.value="",s.value=""}function h(){s.value.trim()&&(l.cell.respond(s.value,c),s.value="")}return{cell:e,isEditing:n,promptEditorMinHeight:v,promptText:r,response:s,textarea:u,session:c,beakerSession:d,events:b,execute:g,enter:k,exit:m,clear:p,respond:h}};export{C as u};
