[build-system]
requires = ["hatchling>=1.24"]
build-backend = "hatchling.build"

[project]
name = "durango"
version = "0.1.1"
description = "Flexible layered configuration management built on Pydantic Settings."
readme = "README.md"
requires-python = ">=3.9"
license = { text = "MIT" }
authors = [
  { name = "Durango Maintainers", email = "dev@durango.dev" }
]
keywords = ["configuration", "pydantic", "settings", "yaml", "toml"]
classifiers = [
  "Development Status :: 3 - Alpha",
  "Intended Audience :: Developers",
  "License :: OSI Approved :: MIT License",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: 3.9",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
  "Topic :: Software Development :: Libraries :: Application Frameworks",
  "Topic :: Utilities",
]
dependencies = [
  "pydantic>=2.7",
  "pydantic-settings>=2.2",
  "python-dateutil>=2.9",
  "tomli>=2.0.1; python_version < '3.11'",
  "ruamel.yaml>=0.17",
  "mkdocs-shadcn>=0.9.7",
  "mkdocs-click>=0.9.0",
  "invoke>=2.2.1",
]

[project.optional-dependencies]
docs = [
  "mkdocs>=1.5",
  "mkdocs-shadcn>=0.9.7",
  "mkdocs-click>=0.9",
  "mkdocstrings[python]>=0.24",
]
dev = [
  "pre-commit>=3.7",
  "pytest>=7.4",
  "pytest-cov>=4.1",
  "mypy>=1.10",
  "ruff>=0.4",
]

[project.urls]
Homepage = "https://github.com/durango-dev/durango"
Documentation = "https://durango.dev/docs"
Issues = "https://github.com/durango-dev/durango/issues"

[tool.uv]
dev-dependencies = ["durango[dev,docs]"]

[tool.uv.sources]
durango = { workspace = true }

[tool.ruff]
line-length = 100
target-version = "py39"

[tool.ruff.lint]
select = ["E", "F", "I", "UP", "B", "DTZ", "C4"]
ignore = ["B008"]

[tool.ruff.format]
quote-style = "double"

[tool.ruff.lint.isort]
known-first-party = ["durango"]

[tool.mypy]
python_version = "3.9"
warn_unused_configs = true
warn_redundant_casts = true
warn_unused_ignores = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
show_error_codes = true
strict_optional = true
plugins = ["pydantic.mypy"]
ignore_missing_imports = false

[[tool.mypy.overrides]]
module = ["ruamel.yaml", "ruamel.yaml.*", "tomli", "tomllib", "pytest", "invoke"]
ignore_missing_imports = true

[tool.pytest.ini_options]
addopts = "--strict-markers --disable-warnings"
pythonpath = ["src"]
testpaths = ["tests"]

[tool.coverage.run]
branch = true
source = ["durango"]
