"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[250],{1380:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"custom-prompts","title":"Custom Prompts","description":"Custom prompts are reusable templates that can include variables, tool calls, resource references, and more. They allow you to create sophisticated prompt workflows that can be reused across your vMCP.","source":"@site/docs/custom-prompts.md","sourceDirName":".","slug":"/custom-prompts","permalink":"/documentation/custom-prompts","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/documentation/installation"},"next":{"title":"Configuration","permalink":"/documentation/configuration"}}');var t=a(4848),i=a(8453);const s={sidebar_position:4},o="Custom Prompts",l={},c=[{value:"Basic Prompt Structure",id:"basic-prompt-structure",level:2},{value:"Variable Substitution",id:"variable-substitution",level:2},{value:"Parameter Variables (<code>@param</code>)",id:"parameter-variables-param",level:3},{value:"Configuration Variables (<code>@config</code>)",id:"configuration-variables-config",level:3},{value:"Tool Calls (<code>@tool</code>)",id:"tool-calls-tool",level:2},{value:"Dynamic Tool Arguments",id:"dynamic-tool-arguments",level:3},{value:"Resource References (<code>@resource</code>)",id:"resource-references-resource",level:2},{value:"Prompt Composition (<code>@prompt</code>)",id:"prompt-composition-prompt",level:2},{value:"Complex Example",id:"complex-example",level:2},{value:"Adding Prompts to vMCP",id:"adding-prompts-to-vmcp",level:2},{value:"Via API",id:"via-api",level:3},{value:"Via MCP Client",id:"via-mcp-client",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Clear Naming",id:"1-clear-naming",level:3},{value:"2. Detailed Descriptions",id:"2-detailed-descriptions",level:3},{value:"3. Validation",id:"3-validation",level:3},{value:"4. Documentation",id:"4-documentation",level:3},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Data Transformation",id:"data-transformation",level:3},{value:"Multi-Step Workflow",id:"multi-step-workflow",level:3},{value:"Conditional Logic",id:"conditional-logic",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"custom-prompts",children:"Custom Prompts"})}),"\n",(0,t.jsx)(n.p,{children:"Custom prompts are reusable templates that can include variables, tool calls, resource references, and more. They allow you to create sophisticated prompt workflows that can be reused across your vMCP."}),"\n",(0,t.jsx)(n.h2,{id:"basic-prompt-structure",children:"Basic Prompt Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "greeting",\n  "description": "Simple greeting prompt",\n  "text": "Say hello to the user in a friendly manner",\n  "variables": [],\n  "environment_variables": [],\n  "tool_calls": []\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"variable-substitution",children:"Variable Substitution"}),"\n",(0,t.jsxs)(n.h3,{id:"parameter-variables-param",children:["Parameter Variables (",(0,t.jsx)(n.code,{children:"@param"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"@param.variable_name"})," to reference runtime parameters:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "personalized_greeting",\n  "description": "Greet user by name",\n  "text": "Hello @param.name, welcome to @param.location!",\n  "variables": [\n    {\n      "name": "name",\n      "description": "User\'s name",\n      "required": true\n    },\n    {\n      "name": "location",\n      "description": "Location name",\n      "required": true\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "prompt": "personalized_greeting",\n  "arguments": {\n    "name": "Alice",\n    "location": "Wonderland"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Result:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Hello Alice, welcome to Wonderland!\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"configuration-variables-config",children:["Configuration Variables (",(0,t.jsx)(n.code,{children:"@config"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"@config.variable_name"})," to reference environment variables:"]}),"\n",(0,t.jsx)(n.p,{children:"First, add environment variables to your vMCP:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "environment_variables": [\n    {\n      "name": "api_key",\n      "value": "sk-..."\n    },\n    {\n      "name": "base_url",\n      "value": "https://api.example.com"\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Then reference them in prompts:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "api_request",\n  "description": "Make API request",\n  "text": "Make a request to @config.base_url using key @config.api_key",\n  "environment_variables": ["api_key", "base_url"]\n}\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"tool-calls-tool",children:["Tool Calls (",(0,t.jsx)(n.code,{children:"@tool"}),")"]}),"\n",(0,t.jsx)(n.p,{children:"Call other tools from within your prompts:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "weather_analysis",\n  "description": "Analyze weather data",\n  "text": "Get the current weather: @tool.get_weather(city=\'London\') and analyze it",\n  "tool_calls": [\n    {\n      "tool": "get_weather",\n      "arguments": {\n        "city": "London"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"dynamic-tool-arguments",children:"Dynamic Tool Arguments"}),"\n",(0,t.jsx)(n.p,{children:"Use parameters in tool calls:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "flexible_weather",\n  "description": "Get weather for any city",\n  "text": "Weather for @param.city: @tool.get_weather(city=@param.city)",\n  "variables": [\n    {\n      "name": "city",\n      "description": "City name",\n      "required": true\n    }\n  ],\n  "tool_calls": [\n    {\n      "tool": "get_weather",\n      "arguments": {\n        "city": "@param.city"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"resource-references-resource",children:["Resource References (",(0,t.jsx)(n.code,{children:"@resource"}),")"]}),"\n",(0,t.jsx)(n.p,{children:"Reference resources from connected MCP servers:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "analyze_dashboard",\n  "description": "Analyze dashboard data",\n  "text": "Analyze the following dashboard: @resource.server_name://dashboard",\n  "environment_variables": []\n}\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"prompt-composition-prompt",children:["Prompt Composition (",(0,t.jsx)(n.code,{children:"@prompt"}),")"]}),"\n",(0,t.jsx)(n.p,{children:"Reference other prompts to build complex workflows:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "base_greeting",\n  "description": "Base greeting",\n  "text": "Hello, welcome!",\n  "variables": []\n},\n{\n  "name": "extended_greeting",\n  "description": "Extended greeting",\n  "text": "@prompt.base_greeting Now let me help you with your questions.",\n  "variables": []\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"complex-example",children:"Complex Example"}),"\n",(0,t.jsx)(n.p,{children:"Here's a comprehensive prompt using all features:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "comprehensive_analysis",\n  "description": "Comprehensive data analysis",\n  "text": """Analyze the following:\nUser: @param.user_name\nCity: @config.default_city\nWeather: @tool.get_weather(city=@param.city)\nAdditional Info: @param.details\nDashboard Data: @resource.analytics://dashboard\n""",\n  "variables": [\n    {\n      "name": "user_name",\n      "description": "User\'s name",\n      "required": true\n    },\n    {\n      "name": "city",\n      "description": "City name",\n      "required": false\n    },\n    {\n      "name": "details",\n      "description": "Additional details",\n      "required": false\n    }\n  ],\n  "environment_variables": ["default_city"],\n  "tool_calls": [\n    {\n      "tool": "get_weather",\n      "arguments": {\n        "city": "@param.city"\n      }\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"adding-prompts-to-vmcp",children:"Adding Prompts to vMCP"}),"\n",(0,t.jsx)(n.h3,{id:"via-api",children:"Via API"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X PUT http://localhost:8000/api/vmcps/{vmcp_id} \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "custom_prompts": [\n      {\n        "name": "my_prompt",\n        "description": "My custom prompt",\n        "text": "Hello @param.name!",\n        "variables": [\n          {\n            "name": "name",\n            "description": "User name",\n            "required": true\n          }\n        ],\n        "environment_variables": [],\n        "tool_calls": []\n      }\n    ]\n  }\'\n'})}),"\n",(0,t.jsx)(n.h3,{id:"via-mcp-client",children:"Via MCP Client"}),"\n",(0,t.jsx)(n.p,{children:"Once added, prompts are accessible via the MCP protocol:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp import ClientSession\nfrom mcp.client.streamable_http import streamablehttp_client\n\nasync with streamablehttp_client(mcp_url) as (read, write, _):\n    async with ClientSession(read, write) as session:\n        await session.initialize()\n\n        # List prompts\n        prompts = await session.list_prompts()\n\n        # Get prompt with arguments\n        result = await session.get_prompt(\n            "my_prompt",\n            arguments={"name": "Alice"}\n        )\n'})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"1-clear-naming",children:"1. Clear Naming"}),"\n",(0,t.jsx)(n.p,{children:"Use descriptive names that explain what the prompt does:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u2705 "analyze_sales_data"\n\u274c "prompt1"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"2-detailed-descriptions",children:"2. Detailed Descriptions"}),"\n",(0,t.jsx)(n.p,{children:"Help AI assistants understand when to use each prompt:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "description": "Analyze sales data for a specific period and generate insights about top products, revenue trends, and customer segments"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"3-validation",children:"3. Validation"}),"\n",(0,t.jsx)(n.p,{children:"Mark required variables appropriately:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "variables": [\n    {\n      "name": "data",\n      "required": true  // Required field\n    },\n    {\n      "name": "format",\n      "required": false,  // Optional\n      "default_value": "json"\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"4-documentation",children:"4. Documentation"}),"\n",(0,t.jsx)(n.p,{children:"Include examples in descriptions:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "description": "Format address. Example: @param.street, @param.city, @param.zip"\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"data-transformation",children:"Data Transformation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "format_user_data",\n  "text": "Format: Name: @param.name, Email: @param.email, Role: @param.role"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"multi-step-workflow",children:"Multi-Step Workflow"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "research_workflow",\n  "text": "@tool.search(query=@param.topic) \u2192 @tool.summarize(text=@tool.search) \u2192 @prompt.format_report"\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"conditional-logic",children:"Conditional Logic"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "text": "If @param.mode is \'detailed\', provide comprehensive analysis. Otherwise, give brief summary."\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/documentation/custom-tools/overview",children:"Custom Tools"})," - Create tools that use your prompts"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/documentation/tutorial-basics/variable-substitution",children:"Variable Substitution"})," - Deep dive into variables"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./examples.md",children:"Examples"})," - Real-world prompt examples"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>o});var r=a(6540);const t={},i=r.createContext(t);function s(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);