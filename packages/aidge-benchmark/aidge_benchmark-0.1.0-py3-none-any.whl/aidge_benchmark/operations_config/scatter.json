{
    "operation": "ScatterOp",
    "format": {
        "name": "Aidge",
        "metadata": {
            "opset_version": 23,
            "initializer_rank": 3
        }
    },
    "base_configuration": {
        "attributes": { "axis": 0, "reduction": "none" },
        "input_specs": [
            { "name": "data", "shape": [2, 3, 4], "dtype": "float32" },
            {
                "name": "indices",
                "shape": [2, 3, 4],
                "data": [
                    [
                        [0, 0, 0, 0],
                        [0, 0, 0, 0],
                        [0, 0, 0, 0]
                    ],
                    [
                        [1, 1, 1, 1],
                        [1, 1, 1, 1],
                        [1, 1, 1, 1]
                    ]
                ],
                "dtype": "int64"
            },
            { "name": "updates", "shape": [2, 3, 4], "dtype": "float32" }
        ]
    },
    "test_configurations": {
        "axis": {
            "0": {
                "none": {
                    "no_overlap": {
                        "attributes": { "axis": 0, "reduction": "none" },
                        "input_specs": [
                            {
                                "name": "data",
                                "shape": [2, 3],
                                "dtype": "float32",
                                "data": [
                                    [0, 1, 2],
                                    [3, 4, 5]
                                ]
                            },
                            {
                                "name": "indices",
                                "shape": [2, 3],
                                "dtype": "int64",
                                "data": [
                                    [0, 0, 0],
                                    [1, 1, 1]
                                ]
                            },
                            {
                                "name": "updates",
                                "shape": [2, 3],
                                "dtype": "float32",
                                "data": [
                                    [10, 11, 12],
                                    [20, 21, 22]
                                ]
                            }
                        ]
                    }
                },
                "add": {
                    "no_overlap": {
                        "attributes": { "axis": 0, "reduction": "add" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 0, "reduction": "add" },
                        "input_specs": [
                            {
                                "name": "data",
                                "shape": [2, 3],
                                "dtype": "float32",
                                "data": [
                                    [0, 0, 0],
                                    [0, 0, 0]
                                ]
                            },
                            {
                                "name": "indices",
                                "shape": [2, 3],
                                "dtype": "int64",
                                "data": [
                                    [1, 1, 1],
                                    [1, 1, 1]
                                ]
                            },
                            {
                                "name": "updates",
                                "shape": [2, 3],
                                "dtype": "float32",
                                "data": [
                                    [1, 2, 3],
                                    [4, 5, 6]
                                ]
                            }
                        ]
                    }
                },
                "mul": {
                    "no_overlap": {
                        "attributes": { "axis": 0, "reduction": "mul" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 0, "reduction": "mul" },
                        "input_specs": []
                    }
                },
                "max": {
                    "no_overlap": {
                        "attributes": { "axis": 0, "reduction": "max" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 0, "reduction": "max" },
                        "input_specs": []
                    }
                },
                "min": {
                    "no_overlap": {
                        "attributes": { "axis": 0, "reduction": "min" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 0, "reduction": "min" },
                        "input_specs": []
                    }
                }
            },
            "1": {
                "none": {
                    "no_overlap": {
                        "attributes": { "axis": 1, "reduction": "none" },
                        "input_specs": [
                            {
                                "name": "data",
                                "shape": [2, 3],
                                "dtype": "float32",
                                "data": [
                                    [0, 1, 2],
                                    [3, 4, 5]
                                ]
                            },
                            {
                                "name": "indices",
                                "shape": [2, 3],
                                "dtype": "int64",
                                "data": [
                                    [0, 1, 2],
                                    [0, 1, 2]
                                ]
                            },
                            {
                                "name": "updates",
                                "shape": [2, 3],
                                "dtype": "float32",
                                "data": [
                                    [10, 11, 12],
                                    [20, 21, 22]
                                ]
                            }
                        ]
                    }
                },
                "add": {
                    "no_overlap": {
                        "attributes": { "axis": 1, "reduction": "add" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 1, "reduction": "add" },
                        "input_specs": []
                    }
                },
                "mul": {
                    "no_overlap": {
                        "attributes": { "axis": 1, "reduction": "mul" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 1, "reduction": "mul" },
                        "input_specs": []
                    }
                },
                "max": {
                    "no_overlap": {
                        "attributes": { "axis": 1, "reduction": "max" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 1, "reduction": "max" },
                        "input_specs": []
                    }
                },
                "min": {
                    "no_overlap": {
                        "attributes": { "axis": 1, "reduction": "min" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 1, "reduction": "min" },
                        "input_specs": []
                    }
                }
            },
            "2": {
                "none": {
                    "no_overlap": {
                        "attributes": { "axis": 2, "reduction": "none" },
                        "input_specs": [
                            {
                                "name": "data",
                                "shape": [1, 2, 3],
                                "dtype": "float32",
                                "data": [
                                    [
                                        [0, 1, 2],
                                        [3, 4, 5]
                                    ]
                                ]
                            },
                            {
                                "name": "indices",
                                "shape": [1, 2, 3],
                                "dtype": "int64",
                                "data": [
                                    [
                                        [0, 1, 2],
                                        [0, 1, 2]
                                    ]
                                ]
                            },
                            {
                                "name": "updates",
                                "shape": [1, 2, 3],
                                "dtype": "float32",
                                "data": [
                                    [
                                        [10, 11, 12],
                                        [20, 21, 22]
                                    ]
                                ]
                            }
                        ]
                    }
                },
                "add": {
                    "no_overlap": {
                        "attributes": { "axis": 2, "reduction": "add" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 2, "reduction": "add" },
                        "input_specs": []
                    }
                },
                "mul": {
                    "no_overlap": {
                        "attributes": { "axis": 2, "reduction": "mul" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 2, "reduction": "mul" },
                        "input_specs": []
                    }
                },
                "max": {
                    "no_overlap": {
                        "attributes": { "axis": 2, "reduction": "max" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 2, "reduction": "max" },
                        "input_specs": []
                    }
                },
                "min": {
                    "no_overlap": {
                        "attributes": { "axis": 2, "reduction": "min" },
                        "input_specs": []
                    },
                    "overlap": {
                        "attributes": { "axis": 2, "reduction": "min" },
                        "input_specs": []
                    }
                }
            }
        },
        "expected_error": {
            "axis": {
                "0": {
                    "none": {
                        "overlap": {
                            "attributes": { "axis": 0, "reduction": "none" },
                            "input_specs": [
                                {
                                    "name": "data",
                                    "shape": [2, 3],
                                    "dtype": "float32",
                                    "data": [
                                        [0, 1, 2],
                                        [3, 4, 5]
                                    ]
                                },
                                {
                                    "name": "indices",
                                    "shape": [2, 3],
                                    "dtype": "int64",
                                    "data": [
                                        [0, 0, 0],
                                        [0, 0, 0]
                                    ]
                                },
                                {
                                    "name": "updates",
                                    "shape": [2, 3],
                                    "dtype": "float32",
                                    "data": [
                                        [9, 9, 9],
                                        [8, 8, 8]
                                    ]
                                }
                            ]
                        }
                    }
                },
                "1": {
                    "none": {
                        "overlap": {
                            "attributes": { "axis": 1, "reduction": "none" },
                            "input_specs": [
                                {
                                    "name": "data",
                                    "shape": [2, 3],
                                    "dtype": "float32",
                                    "data": [
                                        [0, 1, 2],
                                        [3, 4, 5]
                                    ]
                                },
                                {
                                    "name": "indices",
                                    "shape": [2, 3],
                                    "dtype": "int64",
                                    "data": [
                                        [1, 1, 1],
                                        [0, 0, 0]
                                    ]
                                },
                                {
                                    "name": "updates",
                                    "shape": [2, 3],
                                    "dtype": "float32",
                                    "data": [
                                        [9, 8, 7],
                                        [6, 5, 4]
                                    ]
                                }
                            ]
                        }
                    }
                },
                "2": {
                    "none": {
                        "overlap": {
                            "attributes": { "axis": 2, "reduction": "none" },
                            "input_specs": [
                                {
                                    "name": "data",
                                    "shape": [1, 2, 3],
                                    "dtype": "float32",
                                    "data": [
                                        [
                                            [0, 1, 2],
                                            [3, 4, 5]
                                        ]
                                    ]
                                },
                                {
                                    "name": "indices",
                                    "shape": [1, 2, 3],
                                    "dtype": "int64",
                                    "data": [
                                        [
                                            [1, 1, 1],
                                            [2, 2, 2]
                                        ]
                                    ]
                                },
                                {
                                    "name": "updates",
                                    "shape": [1, 2, 3],
                                    "dtype": "float32",
                                    "data": [
                                        [
                                            [7, 7, 7],
                                            [8, 8, 8]
                                        ]
                                    ]
                                }
                            ]
                        }
                    }
                }
            },
            "shape_mismatch": {
                "attributes": { "axis": 1, "reduction": "none" },
                "input_specs": [
                    { "name": "data", "shape": [2, 3, 4], "dtype": "float32" },
                    { "name": "indices", "shape": [2, 2, 4], "dtype": "int64" },
                    {
                        "name": "updates",
                        "shape": [2, 3, 4],
                        "dtype": "float32"
                    }
                ]
            },
            "axis_oob": {
                "attributes": { "axis": 3, "reduction": "none" },
                "input_specs": [
                    { "name": "data", "shape": [2, 3, 4], "dtype": "float32" },
                    { "name": "indices", "shape": [2, 3, 4], "dtype": "int64" },
                    {
                        "name": "updates",
                        "shape": [2, 3, 4],
                        "dtype": "float32"
                    }
                ]
            },
            "reduction_unknown": {
                "attributes": { "axis": 1, "reduction": "bogus" },
                "input_specs": [
                    { "name": "data", "shape": [2, 3], "dtype": "float32" },
                    { "name": "indices", "shape": [2, 3], "dtype": "int64" },
                    { "name": "updates", "shape": [2, 3], "dtype": "float32" }
                ]
            }
        }
    }
}
