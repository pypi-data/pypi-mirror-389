{"version":3,"file":"static/js/7245.17f14422.chunk.js","mappings":"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","sources":["internal/mcpBuilderFormatter.ts"],"sourcesContent":["/**\n * Amazon Builder MCP specific formatting enhancements\n * This file contains Amazon-internal knowledge and should NOT be committed to public branches\n */\n\nimport { FormattedOutput, registerInternalFormatter } from '../utils/mcpFormatter';\n\n// Amazon-specific tool knowledge\nconst AMAZON_TOOL_MAPPINGS = {\n  'mcp_SearchAcronymCentral': 'acronym',\n  'mcp_TicketingReadActions': 'ticketing', \n  'mcp_TaskeiGetRooms': 'taskei_rooms',\n  'mcp_TaskeiListTasks': 'taskei_tasks',\n  'mcp_OncallReadActions': 'oncall',\n  'mcp_ApolloReadActions': 'apollo',\n  'mcp_GetSasRisks': 'sas_risks',\n  'mcp_WorkspaceGitDetails': 'workspace_git',\n  'mcp_GetPipelineHealth': 'pipeline_health',\n  'mcp_InternalCodeSearch': 'code_search',\n  'mcp_ReadInternalWebsites': 'website_content'\n};\n\nconst AMAZON_FIELD_LABELS = {\n  'ownerLogin': 'Owner',\n  'managerLogin': 'Manager', \n  'teamName': 'Team',\n  'resolverGroup': 'Resolver Group',\n  'environmentName': 'Environment',\n  'pipelineName': 'Pipeline'\n};\n\nfunction formatBuilderMcpOutput(toolName: string, result: any, options: any): FormattedOutput | null {\n  const toolType = AMAZON_TOOL_MAPPINGS[toolName as keyof typeof AMAZON_TOOL_MAPPINGS];\n  \n  if (!toolType) {\n    return null; // Let generic formatter handle it\n  }\n  \n  switch (toolType) {\n    case 'acronym':\n      return formatAmazonAcronym(result, options);\n    case 'ticketing':\n      return formatAmazonTicketing(result, options);\n    case 'taskei_rooms':\n      return formatAmazonTaskeiRooms(result, options);\n    case 'oncall':\n      return formatAmazonOncall(result, options);\n    case 'apollo':\n      return formatAmazonApollo(result, options);\n    case 'sas_risks':\n      return formatAmazonSasRisks(result, options);\n    case 'workspace_git':\n      return formatAmazonWorkspaceGit(result, options);\n    case 'code_search':\n      // Let generic formatter handle code search since it follows standard search pattern\n      return null;\n    default:\n      return null;\n  }\n}\n\nfunction formatAmazonAcronym(result: any, options: any): FormattedOutput {\n  if (!result.results?.[0]) {\n    return { content: 'No acronym definitions found', type: 'text', collapsed: false };\n  }\n  \n  const acronym = result.results[0];\n  const definitions = Object.entries(acronym.defsUrls || {})\n    .map(([def, url]) => `• **${def}**${url ? ` - [Link](${url})` : ''}`)\n    .join('\\n');\n    \n  return {\n    content: `**${acronym.acronymName}** Definitions:\\n\\n${definitions}`,\n    type: 'list',\n    collapsed: false,\n    metadata: { totalResults: result.totalResults }\n  };\n}\n\nfunction formatAmazonTicketing(result: any, options: any): FormattedOutput {\n  if (result.status === 'success' && result.data?.groups) {\n    const groups = result.data.groups.map((group: any) => \n      `• **${group.details.label}**\\n  - ${group.details.description}\\n  - ID: ${group.name}`\n    ).join('\\n\\n');\n    \n    return {\n      content: `Resolver Groups:\\n\\n${groups}`,\n      type: 'list',\n      collapsed: result.data.groups.length > 5\n    };\n  }\n  \n  return { content: JSON.stringify(result, null, 2), type: 'json', collapsed: true };\n}\n\nfunction formatAmazonTaskeiRooms(result: any, options: any): FormattedOutput {\n  if (result.rooms) {\n    const rooms = result.rooms.map((room: any) => \n      `• **${room.name}**\\n  - ${room.description}\\n  - Sprints: ${room.enableSprints ? '✓' : '✗'} | Kanban: ${room.enableKanban ? '✓' : '✗'}`\n    ).join('\\n\\n');\n    \n    return {\n      content: `Taskei Rooms (${result.rooms.length}):\\n\\n${rooms}`,\n      type: 'list',\n      collapsed: result.rooms.length > 10\n    };\n  }\n  \n  return { content: JSON.stringify(result, null, 2), type: 'json', collapsed: true };\n}\n\nfunction formatAmazonOncall(result: any, options: any): FormattedOutput {\n  if (result.status === 'success' && result.data) {\n    const teams = result.data.map((team: any) => \n      `• **${team.teamName}**\\n  - ${team.description}\\n  - Members: ${team.members.split(' ').length}\\n  - Owners: ${team.owners.split(' ').length}`\n    ).join('\\n\\n');\n    \n    return {\n      content: `On-call Teams:\\n\\n${teams}`,\n      type: 'list',\n      collapsed: result.data.length > 5\n    };\n  }\n  \n  return { content: JSON.stringify(result, null, 2), type: 'json', collapsed: true };\n}\n\nfunction formatAmazonApollo(result: any, options: any): FormattedOutput {\n  if (result.content && result.content.status === 'success' && result.content.data) {\n    const data = result.content.data;\n    \n    if (data.EnvironmentStageNames) {\n      const stages = data.EnvironmentStageNames.map((stage: any) => \n        `• **${stage.Alias || 'No Alias'}**\\n  - Environment: ${stage.EnvironmentStageIdentifier.EnvironmentName}\\n  - Stage: ${stage.EnvironmentStageIdentifier.Stage}\\n  - Owner: ${stage.Owner || 'No owner'}\\n  - Modified: ${new Date(stage.DateModified * 1000).toLocaleDateString()}`\n      ).join('\\n\\n');\n      \n      return {\n        content: `Apollo Environment Stages:\\n\\n${stages}`,\n        type: 'list',\n        collapsed: data.EnvironmentStageNames.length > 10\n      };\n    }\n  }\n  \n  return { content: JSON.stringify(result, null, 2), type: 'json', collapsed: true };\n}\n\nfunction formatAmazonSasRisks(result: any, options: any): FormattedOutput {\n  if (result.content && result.content.status === 'success' && result.content.data) {\n    const data = result.content.data;\n    \n    if (data.ownerLogin) {\n      const summary = `**Risk Summary for ${data.ownerName} (${data.ownerLogin})**\\nManager: ${data.managerName} (${data.managerLogin})\\n\\n`;\n      \n      const riskTypes = Object.entries(data.totalCount).map(([type, counts]: [string, any]) => \n        `• **${type.replace(/_/g, ' ')}**: ${counts.totalRiskCount} total risks, ${counts.blockingRiskCount} blocking`\n      ).join('\\n');\n      \n      return {\n        content: `${summary}${riskTypes}`,\n        type: 'list',\n        collapsed: false\n      };\n    }\n  }\n  \n  return { content: JSON.stringify(result, null, 2), type: 'json', collapsed: true };\n}\n\nfunction formatAmazonWorkspaceGit(result: any, options: any): FormattedOutput {\n  if (result.gitRepositories) {\n    const repos = result.gitRepositories.map((repo: any) => {\n      let repoInfo = `• **${repo.repositoryName}** (${repo.repositoryPath})\\n`;\n      \n      if (repo.gitStatus) {\n        const statusLines = repo.gitStatus.split('\\n').slice(0, 3);\n        repoInfo += `  Status: ${statusLines.join(' | ')}\\n`;\n      }\n      \n      if (repo.gitDiff) {\n        if (repo.gitDiff === \"Git diff is too large for summarizing details\") {\n          repoInfo += `  Diff: Large changes present\\n`;\n        } else if (repo.gitDiff.length > 200) {\n          repoInfo += `  Diff: ${repo.gitDiff.split('\\n').length} lines of changes\\n`;\n        } else if (repo.gitDiff.trim()) {\n          repoInfo += `  Diff: Changes present\\n`;\n        } else {\n          repoInfo += `  Diff: No changes\\n`;\n        }\n      }\n      \n      return repoInfo;\n    }).join('\\n');\n    \n    return {\n      content: `Git Status for ${result.gitRepositories.length} repositories:\\n\\n${repos}`,\n      type: 'list',\n      collapsed: result.gitRepositories.length > 5\n    };\n  }\n  \n  return { content: JSON.stringify(result, null, 2), type: 'json', collapsed: true };\n}\n\n// Register the internal formatter\n\n// Register the internal formatter\nregisterInternalFormatter(formatBuilderMcpOutput);\n"],"names":["AMAZON_TOOL_MAPPINGS","registerInternalFormatter","toolName","result","options","toolType","_result$results","results","content","type","collapsed","acronym","definitions","Object","entries","defsUrls","map","_ref","def","url","join","acronymName","metadata","totalResults","formatAmazonAcronym","_result$data","status","data","groups","group","details","label","description","name","length","JSON","stringify","formatAmazonTicketing","rooms","room","enableSprints","enableKanban","formatAmazonTaskeiRooms","team","teamName","members","split","owners","formatAmazonOncall","EnvironmentStageNames","stage","Alias","EnvironmentStageIdentifier","EnvironmentName","Stage","Owner","Date","DateModified","toLocaleDateString","formatAmazonApollo","ownerLogin","ownerName","managerName","managerLogin","totalCount","_ref2","counts","replace","totalRiskCount","blockingRiskCount","formatAmazonSasRisks","gitRepositories","repos","repo","repoInfo","repositoryName","repositoryPath","gitStatus","slice","gitDiff","trim","formatAmazonWorkspaceGit"],"sourceRoot":""}