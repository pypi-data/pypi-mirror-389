# coding: utf-8

"""
Public API

This is an API that exposes public api functionality

The version of the OpenAPI document: 1.0.0
Generated by OpenAPI Generator (https://openapi-generator.tech)

Do not edit the class manually.
"""  # noqa: E501

from __future__ import annotations
import pprint
import re  # noqa: F401
import json

from pydantic import (
    BaseModel,
    ConfigDict,
    Field,
    StrictBool,
    StrictFloat,
    StrictInt,
    StrictStr,
)
from typing import Any, ClassVar, Dict, List, Optional, Union
from uuid import UUID
from typing import Optional, Set
from typing_extensions import Self


class CostRightSizingSummary(BaseModel):
    """
    A representation of a table row in right-sizing cost
    """  # noqa: E501

    cluster_name: StrictStr = Field(alias="clusterName")
    namespace: StrictStr
    service: StrictStr
    komodor_service_kind: StrictStr = Field(alias="komodorServiceKind")
    komodor_service_id: StrictStr = Field(alias="komodorServiceId")
    share_of_cost: Union[StrictFloat, StrictInt] = Field(alias="shareOfCost")
    cpu_request_cores: Union[StrictFloat, StrictInt] = Field(alias="cpuRequestCores")
    cpu_recommendation: Union[StrictFloat, StrictInt] = Field(alias="cpuRecommendation")
    cpu_requests_active_recommendation: Optional[Union[StrictFloat, StrictInt]] = Field(
        default=None, alias="cpuRequestsActiveRecommendation"
    )
    cpu_cost: Union[StrictFloat, StrictInt] = Field(alias="cpuCost")
    memory_requests_mi_b: Union[StrictFloat, StrictInt] = Field(
        alias="memoryRequestsMiB"
    )
    memory_cost: Union[StrictFloat, StrictInt] = Field(alias="memoryCost")
    total_cost: Optional[Union[StrictFloat, StrictInt]] = Field(
        default=None, alias="totalCost"
    )
    memory_recommendation: Union[StrictFloat, StrictInt] = Field(
        alias="memoryRecommendation"
    )
    memory_requests_active_recommendation: Optional[Union[StrictFloat, StrictInt]] = (
        Field(default=None, alias="memoryRequestsActiveRecommendation")
    )
    efficiency: Union[StrictFloat, StrictInt]
    optimization_score: Union[StrictFloat, StrictInt] = Field(alias="optimizationScore")
    potential_saving: Union[StrictFloat, StrictInt] = Field(alias="potentialSaving")
    potential_saving_moderate: Union[StrictFloat, StrictInt] = Field(
        alias="potentialSavingModerate"
    )
    potential_saving_conservative: Union[StrictFloat, StrictInt] = Field(
        alias="potentialSavingConservative"
    )
    potential_saving_aggressive: Union[StrictFloat, StrictInt] = Field(
        alias="potentialSavingAggressive"
    )
    under_provisioned_containers: Optional[StrictInt] = Field(
        default=None, alias="underProvisionedContainers"
    )
    under_provisioned_cpu_cores: Optional[Union[StrictFloat, StrictInt]] = Field(
        default=None, alias="underProvisionedCpuCores"
    )
    under_provisioned_memory_mi_b: Optional[Union[StrictFloat, StrictInt]] = Field(
        default=None, alias="underProvisionedMemoryMiB"
    )
    under_provisioned_resources_score: Optional[Union[StrictFloat, StrictInt]] = Field(
        default=None, alias="underProvisionedResourcesScore"
    )
    automated: Optional[StrictBool] = None
    current_total_replicas: Optional[StrictInt] = Field(
        default=None, alias="currentTotalReplicas"
    )
    current_automated_replicas: Optional[StrictInt] = Field(
        default=None, alias="currentAutomatedReplicas"
    )
    active_savings: Optional[Union[StrictFloat, StrictInt]] = Field(
        default=None, alias="activeSavings"
    )
    active_fixed_under_provisioned_containers: Optional[StrictInt] = Field(
        default=None, alias="activeFixedUnderProvisionedContainers"
    )
    active_fixed_under_provisioned_cpu_cores: Optional[
        Union[StrictFloat, StrictInt]
    ] = Field(default=None, alias="activeFixedUnderProvisionedCpuCores")
    active_fixed_under_provisioned_memory_mi_b: Optional[
        Union[StrictFloat, StrictInt]
    ] = Field(default=None, alias="activeFixedUnderProvisionedMemoryMiB")
    active_fixed_under_provisioned_resources_score: Optional[
        Union[StrictFloat, StrictInt]
    ] = Field(default=None, alias="activeFixedUnderProvisionedResourcesScore")
    id: UUID
    last_seen_at_sec: StrictInt = Field(alias="lastSeenAtSec")
    __properties: ClassVar[List[str]] = [
        "clusterName",
        "namespace",
        "service",
        "komodorServiceKind",
        "komodorServiceId",
        "shareOfCost",
        "cpuRequestCores",
        "cpuRecommendation",
        "cpuRequestsActiveRecommendation",
        "cpuCost",
        "memoryRequestsMiB",
        "memoryCost",
        "totalCost",
        "memoryRecommendation",
        "memoryRequestsActiveRecommendation",
        "efficiency",
        "optimizationScore",
        "potentialSaving",
        "potentialSavingModerate",
        "potentialSavingConservative",
        "potentialSavingAggressive",
        "underProvisionedContainers",
        "underProvisionedCpuCores",
        "underProvisionedMemoryMiB",
        "underProvisionedResourcesScore",
        "automated",
        "currentTotalReplicas",
        "currentAutomatedReplicas",
        "activeSavings",
        "activeFixedUnderProvisionedContainers",
        "activeFixedUnderProvisionedCpuCores",
        "activeFixedUnderProvisionedMemoryMiB",
        "activeFixedUnderProvisionedResourcesScore",
        "id",
        "lastSeenAtSec",
    ]

    model_config = ConfigDict(
        populate_by_name=True,
        validate_assignment=True,
        protected_namespaces=(),
    )

    def to_str(self) -> str:
        """Returns the string representation of the model using alias"""
        return pprint.pformat(self.model_dump(by_alias=True))

    def to_json(self) -> str:
        """Returns the JSON representation of the model using alias"""
        # TODO: pydantic v2: use .model_dump_json(by_alias=True, exclude_unset=True) instead
        return json.dumps(self.to_dict())

    @classmethod
    def from_json(cls, json_str: str) -> Optional[Self]:
        """Create an instance of CostRightSizingSummary from a JSON string"""
        return cls.from_dict(json.loads(json_str))

    def to_dict(self) -> Dict[str, Any]:
        """Return the dictionary representation of the model using alias.

        This has the following differences from calling pydantic's
        `self.model_dump(by_alias=True)`:

        * `None` is only added to the output dict for nullable fields that
          were set at model initialization. Other fields with value `None`
          are ignored.
        """
        excluded_fields: Set[str] = set([])

        _dict = self.model_dump(
            by_alias=True,
            exclude=excluded_fields,
            exclude_none=True,
        )
        return _dict

    @classmethod
    def from_dict(cls, obj: Optional[Dict[str, Any]]) -> Optional[Self]:
        """Create an instance of CostRightSizingSummary from a dict"""
        if obj is None:
            return None

        if not isinstance(obj, dict):
            return cls.model_validate(obj)

        _obj = cls.model_validate(
            {
                "clusterName": obj.get("clusterName"),
                "namespace": obj.get("namespace"),
                "service": obj.get("service"),
                "komodorServiceKind": obj.get("komodorServiceKind"),
                "komodorServiceId": obj.get("komodorServiceId"),
                "shareOfCost": obj.get("shareOfCost"),
                "cpuRequestCores": obj.get("cpuRequestCores"),
                "cpuRecommendation": obj.get("cpuRecommendation"),
                "cpuRequestsActiveRecommendation": obj.get(
                    "cpuRequestsActiveRecommendation"
                ),
                "cpuCost": obj.get("cpuCost"),
                "memoryRequestsMiB": obj.get("memoryRequestsMiB"),
                "memoryCost": obj.get("memoryCost"),
                "totalCost": obj.get("totalCost"),
                "memoryRecommendation": obj.get("memoryRecommendation"),
                "memoryRequestsActiveRecommendation": obj.get(
                    "memoryRequestsActiveRecommendation"
                ),
                "efficiency": obj.get("efficiency"),
                "optimizationScore": obj.get("optimizationScore"),
                "potentialSaving": obj.get("potentialSaving"),
                "potentialSavingModerate": obj.get("potentialSavingModerate"),
                "potentialSavingConservative": obj.get("potentialSavingConservative"),
                "potentialSavingAggressive": obj.get("potentialSavingAggressive"),
                "underProvisionedContainers": obj.get("underProvisionedContainers"),
                "underProvisionedCpuCores": obj.get("underProvisionedCpuCores"),
                "underProvisionedMemoryMiB": obj.get("underProvisionedMemoryMiB"),
                "underProvisionedResourcesScore": obj.get(
                    "underProvisionedResourcesScore"
                ),
                "automated": obj.get("automated"),
                "currentTotalReplicas": obj.get("currentTotalReplicas"),
                "currentAutomatedReplicas": obj.get("currentAutomatedReplicas"),
                "activeSavings": obj.get("activeSavings"),
                "activeFixedUnderProvisionedContainers": obj.get(
                    "activeFixedUnderProvisionedContainers"
                ),
                "activeFixedUnderProvisionedCpuCores": obj.get(
                    "activeFixedUnderProvisionedCpuCores"
                ),
                "activeFixedUnderProvisionedMemoryMiB": obj.get(
                    "activeFixedUnderProvisionedMemoryMiB"
                ),
                "activeFixedUnderProvisionedResourcesScore": obj.get(
                    "activeFixedUnderProvisionedResourcesScore"
                ),
                "id": obj.get("id"),
                "lastSeenAtSec": obj.get("lastSeenAtSec"),
            }
        )
        return _obj
