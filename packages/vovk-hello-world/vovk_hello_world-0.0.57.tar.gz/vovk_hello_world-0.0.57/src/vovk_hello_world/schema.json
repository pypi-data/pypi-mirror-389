{
  "$schema": "https://vovk.dev/api/schema/v3/schema.json",
  "meta": {
    "$schema": "https://vovk.dev/api/schema/v3/meta.json",
    "config": {
      "$schema": "https://vovk.dev/api/schema/v3/config.json",
      "clientTemplateDefs": {
        "openapiTs": {
          "templatePath": "vovk-cli/client-templates/openapiTs/",
          "requires": {
            "openapiJson": "./"
          }
        },
        "openapiCjs": {
          "templatePath": "vovk-cli/client-templates/openapiCjs/",
          "requires": {
            "openapiJson": "./"
          }
        },
        "openapiJson": {
          "templatePath": "vovk-cli/client-templates/openapiJson/"
        },
        "ts": {
          "templatePath": "vovk-cli/client-templates/ts/",
          "requires": {
            "schemaTs": "./",
            "openapiTs": "./",
            "mixins": "./"
          }
        },
        "cjs": {
          "templatePath": "vovk-cli/client-templates/cjs/",
          "requires": {
            "schemaCjs": "./",
            "openapiCjs": "./",
            "mixins": "./"
          }
        },
        "mjs": {
          "templatePath": "vovk-cli/client-templates/mjs/",
          "requires": {
            "schemaCjs": "./",
            "openapiCjs": "./",
            "mixins": "./"
          }
        },
        "schemaTs": {
          "templatePath": "vovk-cli/client-templates/schemaTs/"
        },
        "schemaCjs": {
          "templatePath": "vovk-cli/client-templates/schemaCjs/"
        },
        "schemaJson": {
          "templatePath": "vovk-cli/client-templates/schemaJson/"
        },
        "readme": {
          "templatePath": "vovk-cli/client-templates/readme/"
        },
        "packageJson": {
          "templatePath": "vovk-cli/client-templates/packageJson/"
        },
        "mixins": {
          "templatePath": "vovk-cli/client-templates/mixins/"
        },
        "rsSrc": {
          "templatePath": "vovk-rust/client-templates/rsSrc/",
          "requires": {
            "schemaJson": "./"
          }
        },
        "rsPkg": {
          "templatePath": "vovk-rust/client-templates/rsPkg/"
        },
        "rsReadme": {
          "templatePath": "vovk-rust/client-templates/rsReadme/"
        },
        "rs": {
          "composedClient": {
            "outDir": "dist_rust"
          },
          "requires": {
            "rsSrc": "./src/",
            "rsPkg": "./",
            "rsReadme": "./"
          },
          "extends": "rs",
          "outputConfig": {
            "origin": "https://hello-world.vovk.dev"
          },
          "segmentedClient": {}
        },
        "pySrc": {
          "templatePath": "vovk-python/client-templates/pySrc/",
          "requires": {
            "schemaJson": "./"
          }
        },
        "pyPkg": {
          "templatePath": "vovk-python/client-templates/pyPkg/"
        },
        "pyReadme": {
          "templatePath": "vovk-python/client-templates/pyReadme/"
        },
        "py": {
          "composedClient": {
            "outDir": "dist_python"
          },
          "requires": {
            "pySrc": "./src/[package_name]/",
            "pyPkg": "./",
            "pyReadme": "./"
          },
          "extends": "py",
          "outputConfig": {
            "origin": "https://hello-world.vovk.dev"
          },
          "segmentedClient": {}
        }
      },
      "exposeConfigKeys": [
        "libs"
      ],
      "composedClient": {
        "fromTemplates": [
          "mjs",
          "cjs",
          "py",
          "rs"
        ],
        "enabled": true,
        "outDir": "./node_modules/.vovk-client",
        "prettifyClient": false
      },
      "segmentedClient": {
        "enabled": true,
        "fromTemplates": [
          "ts"
        ],
        "outDir": "src/client",
        "prettifyClient": true
      },
      "bundle": {
        "prebundleOutDir": "tmp_prebundle",
        "keepPrebundleDir": true,
        "outDir": "dist",
        "requires": {
          "readme": ".",
          "packageJson": "."
        },
        "outputConfig": {
          "origin": "https://hello-world.vovk.dev"
        }
      },
      "modulesDir": "src/modules",
      "schemaOutDir": "./.vovk-schema",
      "rootEntry": "api",
      "rootSegmentModulesDirName": "",
      "logLevel": "debug",
      "devHttps": false,
      "moduleTemplates": {
        "service": "vovk-cli/module-templates/type/service.ts.ejs",
        "controller": "vovk-cli/module-templates/type/controller.ts.ejs"
      },
      "libs": {},
      "outputConfig": {
        "origin": "http://localhost:3000",
        "imports": {
          "validateOnClient": "vovk-ajv"
        },
        "openAPIObject": {
          "info": {
            "title": "\"Hello World\" app API",
            "description": "API for \"Hello World\" app hosted at https://hello-world.vovk.dev/. Source code is available on Github https://github.com/finom/vovk-hello-world.",
            "license": {
              "name": "MIT",
              "url": "https://opensource.org/licenses/MIT"
            },
            "version": "1.0.0"
          }
        },
        "segments": {}
      }
    }
  },
  "segments": {
    "": {
      "$schema": "https://vovk.dev/api/schema/v3/segment.json",
      "emitSchema": true,
      "segmentName": "",
      "segmentType": "segment",
      "controllers": {
        "UserRPC": {
          "rpcModuleName": "UserRPC",
          "originalControllerName": "UserController",
          "prefix": "users",
          "handlers": {
            "updateUser": {
              "validation": {
                "body": {
                  "$schema": "https://json-schema.org/draft/2020-12/schema",
                  "description": "User data object",
                  "type": "object",
                  "properties": {
                    "email": {
                      "description": "User email",
                      "examples": [
                        "john@example.com",
                        "jane@example.com"
                      ],
                      "type": "string",
                      "format": "email",
                      "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                    },
                    "profile": {
                      "description": "User profile object",
                      "type": "object",
                      "properties": {
                        "name": {
                          "description": "User full name",
                          "examples": [
                            "John Doe",
                            "Jane Smith"
                          ],
                          "type": "string"
                        },
                        "age": {
                          "description": "User age",
                          "examples": [
                            25,
                            30
                          ],
                          "type": "integer",
                          "minimum": 16,
                          "maximum": 120
                        }
                      },
                      "required": [
                        "name",
                        "age"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "email",
                    "profile"
                  ],
                  "additionalProperties": false
                },
                "query": {
                  "$schema": "https://json-schema.org/draft/2020-12/schema",
                  "description": "Query parameters",
                  "type": "object",
                  "properties": {
                    "notify": {
                      "description": "Notification type",
                      "type": "string",
                      "enum": [
                        "email",
                        "push",
                        "none"
                      ]
                    }
                  },
                  "required": [
                    "notify"
                  ],
                  "additionalProperties": false
                },
                "params": {
                  "$schema": "https://json-schema.org/draft/2020-12/schema",
                  "description": "Path parameters",
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "User ID",
                      "examples": [
                        "123e4567-e89b-12d3-a456-426614174000"
                      ],
                      "type": "string",
                      "format": "uuid",
                      "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                    }
                  },
                  "required": [
                    "id"
                  ],
                  "additionalProperties": false
                },
                "output": {
                  "$schema": "https://json-schema.org/draft/2020-12/schema",
                  "description": "Response object",
                  "type": "object",
                  "properties": {
                    "success": {
                      "description": "Success status",
                      "type": "boolean"
                    },
                    "id": {
                      "description": "User ID",
                      "type": "string",
                      "format": "uuid",
                      "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                    },
                    "notify": {
                      "description": "Notification type",
                      "type": "string",
                      "enum": [
                        "email",
                        "push",
                        "none"
                      ]
                    }
                  },
                  "required": [
                    "success",
                    "id",
                    "notify"
                  ],
                  "additionalProperties": false
                }
              },
              "operationObject": {
                "summary": "Update user",
                "description": "Update user by ID"
              },
              "path": "{id}",
              "httpMethod": "POST"
            }
          }
        },
        "StreamRPC": {
          "rpcModuleName": "StreamRPC",
          "originalControllerName": "StreamController",
          "prefix": "streams",
          "handlers": {
            "streamTokens": {
              "validation": {
                "iteration": {
                  "$schema": "https://json-schema.org/draft/2020-12/schema",
                  "description": "Streamed token object",
                  "type": "object",
                  "properties": {
                    "message": {
                      "description": "Message from the token",
                      "type": "string"
                    }
                  },
                  "required": [
                    "message"
                  ],
                  "additionalProperties": false
                }
              },
              "operationObject": {
                "summary": "Stream tokens",
                "description": "Stream tokens to the client"
              },
              "path": "tokens",
              "httpMethod": "GET"
            }
          }
        }
      }
    },
    "static": {
      "$schema": "https://vovk.dev/api/schema/v3/segment.json",
      "emitSchema": true,
      "segmentName": "static",
      "segmentType": "segment",
      "controllers": {
        "OpenApiRPC": {
          "rpcModuleName": "OpenApiRPC",
          "originalControllerName": "OpenApiController",
          "prefix": "",
          "handlers": {
            "getSpec": {
              "path": "openapi.json",
              "httpMethod": "GET",
              "operationObject": {
                "summary": "OpenAPI spec",
                "description": "Get the OpenAPI spec for the \"Hello World\" app API"
              }
            }
          }
        }
      }
    }
  }
}