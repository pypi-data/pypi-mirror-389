[project]
name = "ohmyapi"
version = "0.6.2"
description = "Django-flavored scaffolding and management layer around FastAPI, Pydantic, TortoiseORM and Aerich migrations"
license = "MIT"
keywords = ["fastapi", "tortoise", "orm", "pydantic", "async", "web-framework"]
authors = [
    {name = "Brian Wiborg", email = "me@brianwib.org"}
]
readme = "README.md"
requires-python = ">=3.11"

dependencies = [
    "typer >=0.19.1,<0.20.0",
    "jinja2 >=3.1.6,<4.0.0",
    "fastapi >=0.117.1,<0.118.0",
    "tortoise-orm >=0.25.1,<0.26.0",
    "aerich >=0.9.1,<0.10.0",
    "uvicorn >=0.36.0,<0.37.0",
    "ipython >=9.5.0,<10.0.0",
    "passlib >=1.7.4,<2.0.0",
    "pyjwt >=2.10.1,<3.0.0",
    "python-multipart >=0.0.20,<0.0.21",
    "crypto >=1.4.1,<2.0.0",
    "argon2-cffi >=25.1.0,<26.0.0",
]

[tool.poetry.group.dev.dependencies]
ipython = ">=9.5.0,<10.0.0"
black = "^25.9.0"
isort = "^6.0.1"
mkdocs = "^1.6.1"
pytest = "^8.4.2"
httpx = "^0.28.1"

[project.optional-dependencies]
auth = ["passlib", "pyjwt", "crypto", "argon2-cffi", "python-multipart"]

[tool.poetry]
packages = [ { include = "ohmyapi", from = "src" } ]

[project.scripts]
ohmyapi = "ohmyapi.cli:app"

[project.urls]
repository = "https://code.c-base.org/baccenfutter/ohmyapi"

[build-system]
requires = [
    "poetry-core>=1.8.0",
    "poetry-dynamic-versioning>=1.8.0"
]
build-backend = "poetry_dynamic_versioning.backend"

[tool.poetry-dynamic-versioning]
enable = true
source = "file"
path = "src/ohmyapi/__init__.py"
pattern = "__VERSION__\\s*=\\s*['\"](?P<version>[^'\"]+)['\"]"

[tool.black]
line-length = 88
target-version = ['py39', 'py310', 'py311', 'py312', 'py313']
include = '\.pyi?$'
exclude = '''
/(
    \.git
  | \.venv
  | build
  | dist
)/
'''

[tool.isort]
profile = "black"  # makes imports compatible with black
line_length = 88
multi_line_output = 3
include_trailing_comma = true

