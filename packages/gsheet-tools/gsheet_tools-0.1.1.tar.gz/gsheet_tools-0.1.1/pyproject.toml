[project]
name = "gsheet_tools"
dynamic = []
description = "Assistive development tool for implementing google sheet related operations and scenarios in python projects"
authors = [
    { name = "Ankit Yadav", email = "ankit8290@gmail.com" },
]
dependencies = [
    "pandas>=2.3.3",
]
requires-python = ">=3.10"
readme = "README.md"
version = "0.1.1"

[project.license]
text = "MIT"

[build-system]
requires = [
    "pdm-backend",
]
build-backend = "pdm.backend"

[tool.pdm]
distribution = true

[tool.pdm.version]
source = "file"
path = "src/gsheet_tools/__init__.py"

[tool.pdm.scripts]
isort = "isort src/gsheet_tools"
black = "black src/gsheet_tools"
check_isort = "isort --check src/gsheet_tools"
check_black = "black --check src/gsheet_tools"
ruff = "ruff check --show-files src/gsheet_tools"
ruff_fix = "ruff check --fix src/gsheet_tools"
pylint = "pylint --output-format=colorized --fail-under=9.5 src/"
mypy = "mypy src/"
check_build = "check-wheel-contents dist/"
test = "pytest"
ignore = [
    "F403",
    "F405",
    "W605",
    "A003",
    "RET505",
    "RET504",
    "RET507",
    "PT011",
    "PT012",
    "PLW0603",
    "PLW2901",
    "G004",
    "PIE790",
    "PIE810",
    "PGH003",
    "PLC1901",
    "R0903",
]

[tool.pdm.scripts.format]
composite = [
    "isort",
    "black",
]

[tool.pdm.scripts.lint]
composite = [
    "ruff",
    "check_isort",
    "check_black",
]

[tool.pdm.scripts.fix_lint]
composite = [
    "ruff_fix",
    "isort",
    "black",
]

[tool.ruff.per-file-ignores]
"__init__.py" = [
    "F401",
    "E501",
    "F403",
]

[tool.mypy]
python_version = "3.12"
follow_imports = "skip"
ignore_missing_imports = true
files = "src"
exclude = [
    "acme/somedir",
    "acme/somefile\\.py",
    "dirname",
    "src/gsheet_tools/__init__\\.py",
]

[[tool.mypy.overrides]]
module = "gsheet_tools.*"
ignore_missing_imports = false
disallow_untyped_defs = true
check_untyped_defs = true

[tool.pylint]
disable = "C0114, C0116, R0913, R0915, R0917"

[tool.pylint.format]
max-line-length = 120

[tool.pytest.ini_options]
addopts = "--cov=gsheet_tools --cov-report html --cov-report term-missing --cov-report xml"

[dependency-groups]
dev = [
    "pytest>=8.4.2",
    "check-wheel-contents>=0.6.3",
]
format = [
    "black>=25.9.0",
    "mypy>=1.18.2",
    "pylint>=3.3.9",
    "pylint-actions>=0.6.0",
    "isort>=6.1.0",
    "ruff>=0.14.0",
]
test = [
    "pytest>=8.4.2",
    "pytest-cov>=7.0.0",
]
